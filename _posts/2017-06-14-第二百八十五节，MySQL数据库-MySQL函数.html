第二百八十五节，MySQL数据库-MySQL函数


			<div id="cnblogs_post_body" class="blogpost-body"><p><strong>MySQL数据库-MySQL函数</strong></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>1、<strong>MySQL内置函数</strong></strong></span></p>
<p><span style="color: #ff0000; background-color: #ffff00"><strong><strong>SELECT执行函数，后面跟要执行的函数</strong></strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000; background-color: #ffffff"><strong><strong>CHAR_LENGTH(str)函数：返回字符串的字符长度</strong></strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080">--</span><span style="color: #008080"> CHAR_LENGTH(str)函数：返回字符串的字符长度</span>

<span style="color: #0000ff">SELECT</span> CHAR_LENGTH(<span style="color: #ff0000">'</span><span style="color: #ff0000">欢迎光临</span><span style="color: #ff0000">'</span>);</pre>
</div>
<p><img src="https://images2015.cnblogs.com/blog/955761/201706/955761-20170614212732462-1014976948.png" alt=""></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>LENGTH(str)函数：返回字符串的字节长度</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080">--</span><span style="color: #008080"> LENGTH(str)函数：返回字符串的字节长度</span>

<span style="color: #0000ff">SELECT</span> LENGTH(<span style="color: #ff0000">'</span><span style="color: #ff0000">欢迎光临</span><span style="color: #ff0000">'</span>);</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>CONCAT(str1,str2,...)函数：拼接字符串</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080">--</span><span style="color: #008080"> CONCAT(str1,str2,...)函数：拼接字符串</span>

<span style="color: #0000ff">SELECT</span> CONCAT(<span style="color: #ff0000">'</span><span style="color: #ff0000">你好</span><span style="color: #ff0000">'</span>,<span style="color: #ff0000">'</span><span style="color: #ff0000">欢迎光临</span><span style="color: #ff0000">'</span>);</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>CONCAT_WS(链接符,str1,str2,...)函数：自定义链接符，拼接字符串</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080">--</span><span style="color: #008080"> CONCAT_WS(链接符,str1,str2,...)函数：自定义链接符，拼接字符串</span>

<span style="color: #0000ff">SELECT</span> CONCAT_WS(<span style="color: #ff0000">'</span><span style="color: #ff0000">_</span><span style="color: #ff0000">'</span>,<span style="color: #ff0000">'</span><span style="color: #ff0000">你好</span><span style="color: #ff0000">'</span>,<span style="color: #ff0000">'</span><span style="color: #ff0000">欢迎光临</span><span style="color: #ff0000">'</span>);</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>CONV(N,from_base,to_base)函数：进制转换</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080">--</span><span style="color: #008080"> CONV(N,from_base,to_base)函数：进制转换</span>

<span style="color: #0000ff">SELECT</span> CONV(<span style="color: #ff0000">'</span><span style="color: #ff0000">a</span><span style="color: #ff0000">'</span>,<span style="color: #800000; font-weight: bold">16</span>,<span style="color: #800000; font-weight: bold">2</span>); <span style="color: #008080">--</span><span style="color: #008080"> 表示将 a 由16进制转换为2进制字符串表示</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>FORMAT(X,D)函数：将数字X 的格式写为'#,###,###.##',以四舍五入的方式保留小数点后 D 位， 并将结果以字符串的形式返回。若 &nbsp;D 为 0, 则返回结果不带有小数点，或不含小数部分。</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080">--</span><span style="color: #008080"> FORMAT(X,D)函数：将数字X 的格式写为'#,###,###.##',以四舍五入的方式保留小数点后 D 位， 并将结果以字符串的形式返回。若  D 为 0, 则返回结果不带有小数点，或不含小数部分。</span>

<span style="color: #0000ff">SELECT</span> FORMAT(<span style="color: #800000; font-weight: bold">12332.1</span>,<span style="color: #800000; font-weight: bold">4</span>); <span style="color: #008080">--</span><span style="color: #008080"> 结果为： '12,332.1000'</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>INSERT(原始字符串,替换起始位置,替换长度,替换的新字符串)函数：在str的指定位置插入字符串</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080">--</span><span style="color: #008080"> INSERT(原始字符串,替换起始位置,替换长度,替换的新字符串)函数：在str的指定位置插入字符串</span>

<span style="color: #0000ff">SELECT</span> <span style="color: #0000ff">INSERT</span>(<span style="color: #ff0000">'</span><span style="color: #ff0000">欢迎光临官方网站</span><span style="color: #ff0000">'</span>,<span style="color: #800000; font-weight: bold">5</span>,<span style="color: #800000; font-weight: bold">2</span>,<span style="color: #ff0000">'</span><span style="color: #ff0000">我们</span><span style="color: #ff0000">'</span>); <span style="color: #008080">--</span><span style="color: #008080"> 返回：欢迎光临我们网站</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>其他函数</strong></span></p>
<div class="cnblogs_code">
<pre> <span style="color: #0000ff">INSERT</span>(<span style="color: #ff00ff">str</span>,pos,<span style="color: #ff00ff">len</span><span style="color: #000000">,newstr)
        在str的指定位置插入字符串
            pos：要替换位置其实位置
            </span><span style="color: #ff00ff">len</span><span style="color: #000000">：替换的长度
            newstr：新字符串
        特别的：
            如果pos超过原字符串长度，则返回原字符串
            如果len超过原字符串长度，则由新字符串完全替换
    INSTR(</span><span style="color: #ff00ff">str</span><span style="color: #000000">,substr)
        返回字符串 </span><span style="color: #ff00ff">str</span><span style="color: #000000"> 中子字符串的第一个出现位置。

    </span><span style="color: #808080">LEFT</span>(<span style="color: #ff00ff">str</span>,<span style="color: #ff00ff">len</span><span style="color: #000000">)
        返回字符串str 从开始的len位置的子序列字符。

    </span><span style="color: #ff00ff">LOWER</span>(<span style="color: #ff00ff">str</span><span style="color: #000000">)
        变小写

    </span><span style="color: #ff00ff">UPPER</span>(<span style="color: #ff00ff">str</span><span style="color: #000000">)
        变大写

    </span><span style="color: #ff00ff">LTRIM</span>(<span style="color: #ff00ff">str</span><span style="color: #000000">)
        返回字符串 </span><span style="color: #ff00ff">str</span><span style="color: #000000"> ，其引导空格字符被删除。
    </span><span style="color: #ff00ff">RTRIM</span>(<span style="color: #ff00ff">str</span><span style="color: #000000">)
        返回字符串 </span><span style="color: #ff00ff">str</span><span style="color: #000000"> ，结尾空格字符被删去。
    </span><span style="color: #ff00ff">SUBSTRING</span>(<span style="color: #ff00ff">str</span>,pos,<span style="color: #ff00ff">len</span><span style="color: #000000">)
        获取字符串子序列

    LOCATE(substr,</span><span style="color: #ff00ff">str</span><span style="color: #000000">,pos)
        获取子序列索引位置

    REPEAT(</span><span style="color: #ff00ff">str</span>,<span style="color: #ff00ff">count</span><span style="color: #000000">)
        返回一个由重复的字符串str 组成的字符串，字符串str的数目等于count 。
        若 </span><span style="color: #ff00ff">count</span> <span style="color: #808080">&lt;=</span> <span style="color: #800000; font-weight: bold">0</span><span style="color: #000000">,则返回一个空字符串。
        若str 或 </span><span style="color: #ff00ff">count</span> 为 <span style="color: #0000ff">NULL</span>，则返回 <span style="color: #0000ff">NULL</span><span style="color: #000000"> 。
    </span><span style="color: #ff00ff">REPLACE</span>(<span style="color: #ff00ff">str</span><span style="color: #000000">,from_str,to_str)
        返回字符串str 以及所有被字符串to_str替代的字符串from_str 。
    </span><span style="color: #ff00ff">REVERSE</span>(<span style="color: #ff00ff">str</span><span style="color: #000000">)
        返回字符串 </span><span style="color: #ff00ff">str</span><span style="color: #000000"> ，顺序和字符顺序相反。
    </span><span style="color: #808080">RIGHT</span>(<span style="color: #ff00ff">str</span>,<span style="color: #ff00ff">len</span><span style="color: #000000">)
        从字符串str 开始，返回从后边开始len个字符组成的子序列

    </span><span style="color: #ff00ff">SPACE</span><span style="color: #000000">(N)
        返回一个由N空格组成的字符串。

    </span><span style="color: #ff00ff">SUBSTRING</span>(<span style="color: #ff00ff">str</span>,pos) , <span style="color: #ff00ff">SUBSTRING</span>(<span style="color: #ff00ff">str</span> <span style="color: #0000ff">FROM</span> pos) <span style="color: #ff00ff">SUBSTRING</span>(<span style="color: #ff00ff">str</span>,pos,<span style="color: #ff00ff">len</span>) , <span style="color: #ff00ff">SUBSTRING</span>(<span style="color: #ff00ff">str</span> <span style="color: #0000ff">FROM</span> pos <span style="color: #0000ff">FOR</span> <span style="color: #ff00ff">len</span><span style="color: #000000">)
        不带有len 参数的格式从字符串str返回一个子字符串，起始于位置 pos。带有len参数的格式从字符串str返回一个长度同len字符相同的子字符串，起始于位置 pos。 使用 FROM的格式为标准 SQL 语法。也可能对pos使用一个负值。假若这样，则子字符串的位置起始于字符串结尾的pos 字符，而不是字符串的开头位置。在以下格式的函数中可以对pos 使用一个负值。

        mysql</span><span style="color: #808080">&gt;</span> <span style="color: #0000ff">SELECT</span> <span style="color: #ff00ff">SUBSTRING</span>(<span style="color: #ff0000">'</span><span style="color: #ff0000">Quadratically</span><span style="color: #ff0000">'</span>,<span style="color: #800000; font-weight: bold">5</span><span style="color: #000000">);
            </span><span style="color: #808080">-&gt;</span> <span style="color: #ff0000">'</span><span style="color: #ff0000">ratically</span><span style="color: #ff0000">'</span><span style="color: #000000">

        mysql</span><span style="color: #808080">&gt;</span> <span style="color: #0000ff">SELECT</span> <span style="color: #ff00ff">SUBSTRING</span>(<span style="color: #ff0000">'</span><span style="color: #ff0000">foobarbar</span><span style="color: #ff0000">'</span> <span style="color: #0000ff">FROM</span> <span style="color: #800000; font-weight: bold">4</span><span style="color: #000000">);
            </span><span style="color: #808080">-&gt;</span> <span style="color: #ff0000">'</span><span style="color: #ff0000">barbar</span><span style="color: #ff0000">'</span><span style="color: #000000">

        mysql</span><span style="color: #808080">&gt;</span> <span style="color: #0000ff">SELECT</span> <span style="color: #ff00ff">SUBSTRING</span>(<span style="color: #ff0000">'</span><span style="color: #ff0000">Quadratically</span><span style="color: #ff0000">'</span>,<span style="color: #800000; font-weight: bold">5</span>,<span style="color: #800000; font-weight: bold">6</span><span style="color: #000000">);
            </span><span style="color: #808080">-&gt;</span> <span style="color: #ff0000">'</span><span style="color: #ff0000">ratica</span><span style="color: #ff0000">'</span><span style="color: #000000">

        mysql</span><span style="color: #808080">&gt;</span> <span style="color: #0000ff">SELECT</span> <span style="color: #ff00ff">SUBSTRING</span>(<span style="color: #ff0000">'</span><span style="color: #ff0000">Sakila</span><span style="color: #ff0000">'</span>, <span style="color: #808080">-</span><span style="color: #800000; font-weight: bold">3</span><span style="color: #000000">);
            </span><span style="color: #808080">-&gt;</span> <span style="color: #ff0000">'</span><span style="color: #ff0000">ila</span><span style="color: #ff0000">'</span><span style="color: #000000">

        mysql</span><span style="color: #808080">&gt;</span> <span style="color: #0000ff">SELECT</span> <span style="color: #ff00ff">SUBSTRING</span>(<span style="color: #ff0000">'</span><span style="color: #ff0000">Sakila</span><span style="color: #ff0000">'</span>, <span style="color: #808080">-</span><span style="color: #800000; font-weight: bold">5</span>, <span style="color: #800000; font-weight: bold">3</span><span style="color: #000000">);
            </span><span style="color: #808080">-&gt;</span> <span style="color: #ff0000">'</span><span style="color: #ff0000">aki</span><span style="color: #ff0000">'</span><span style="color: #000000">

        mysql</span><span style="color: #808080">&gt;</span> <span style="color: #0000ff">SELECT</span> <span style="color: #ff00ff">SUBSTRING</span>(<span style="color: #ff0000">'</span><span style="color: #ff0000">Sakila</span><span style="color: #ff0000">'</span> <span style="color: #0000ff">FROM</span> <span style="color: #808080">-</span><span style="color: #800000; font-weight: bold">4</span> <span style="color: #0000ff">FOR</span> <span style="color: #800000; font-weight: bold">2</span><span style="color: #000000">);
            </span><span style="color: #808080">-&gt;</span> <span style="color: #ff0000">'</span><span style="color: #ff0000">ki</span><span style="color: #ff0000">'</span><span style="color: #000000">

    TRIM(</span><span style="color: #ff0000">[</span><span style="color: #ff0000">{BOTH | LEADING | TRAILING} [remstr</span><span style="color: #ff0000">]</span> <span style="color: #0000ff">FROM</span>] <span style="color: #ff00ff">str</span>) TRIM(remstr <span style="color: #0000ff">FROM</span>] <span style="color: #ff00ff">str</span><span style="color: #000000">)
        返回字符串 </span><span style="color: #ff00ff">str</span> ， 其中所有remstr 前缀和<span style="color: #808080">/</span><span style="color: #000000">或后缀都已被删除。若分类符BOTH、LEADIN或TRAILING中没有一个是给定的,则假设为BOTH 。 remstr 为可选项，在未指定情况下，可删除空格。

        mysql</span><span style="color: #808080">&gt;</span> <span style="color: #0000ff">SELECT</span> TRIM(<span style="color: #ff0000">'</span><span style="color: #ff0000">  bar   </span><span style="color: #ff0000">'</span><span style="color: #000000">);
                </span><span style="color: #808080">-&gt;</span> <span style="color: #ff0000">'</span><span style="color: #ff0000">bar</span><span style="color: #ff0000">'</span><span style="color: #000000">

        mysql</span><span style="color: #808080">&gt;</span> <span style="color: #0000ff">SELECT</span> TRIM(LEADING <span style="color: #ff0000">'</span><span style="color: #ff0000">x</span><span style="color: #ff0000">'</span> <span style="color: #0000ff">FROM</span> <span style="color: #ff0000">'</span><span style="color: #ff0000">xxxbarxxx</span><span style="color: #ff0000">'</span><span style="color: #000000">);
                </span><span style="color: #808080">-&gt;</span> <span style="color: #ff0000">'</span><span style="color: #ff0000">barxxx</span><span style="color: #ff0000">'</span><span style="color: #000000">

        mysql</span><span style="color: #808080">&gt;</span> <span style="color: #0000ff">SELECT</span> TRIM(BOTH <span style="color: #ff0000">'</span><span style="color: #ff0000">x</span><span style="color: #ff0000">'</span> <span style="color: #0000ff">FROM</span> <span style="color: #ff0000">'</span><span style="color: #ff0000">xxxbarxxx</span><span style="color: #ff0000">'</span><span style="color: #000000">);
                </span><span style="color: #808080">-&gt;</span> <span style="color: #ff0000">'</span><span style="color: #ff0000">bar</span><span style="color: #ff0000">'</span><span style="color: #000000">

        mysql</span><span style="color: #808080">&gt;</span> <span style="color: #0000ff">SELECT</span> TRIM(TRAILING <span style="color: #ff0000">'</span><span style="color: #ff0000">xyz</span><span style="color: #ff0000">'</span> <span style="color: #0000ff">FROM</span> <span style="color: #ff0000">'</span><span style="color: #ff0000">barxxyz</span><span style="color: #ff0000">'</span><span style="color: #000000">);
                </span><span style="color: #808080">-&gt;</span> <span style="color: #ff0000">'</span><span style="color: #ff0000">barx</span><span style="color: #ff0000">'</span></pre>
</div>
<p>&nbsp;</p>
<p align="center"><strong>文本函数</strong></p>
<div align="center">
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td width="110">
<p align="center">函数</p>
</td>
<td width="176">
<p align="center">用法</p>
</td>
<td width="226">
<p align="center">描述</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">CONCAT()</p>
</td>
<td width="176">
<p align="center">CONCAT(x,y,...)</p>
</td>
<td width="226">
<p>创建形如xy的新字符串</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">LENGTH()</p>
</td>
<td width="176">
<p align="center">LENGTH(column)</p>
</td>
<td width="226">
<p>返回列中储存的值的长度</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">LEFT()</p>
</td>
<td width="176">
<p align="center">LEFT(column,x)</p>
</td>
<td width="226">
<p>从列的值中返回最左边的x个字符</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">RIGHT()</p>
</td>
<td width="176">
<p align="center">RIGHT(column,x)</p>
</td>
<td width="226">
<p>从列的值中返回最右边的x个字符</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">TRIM()</p>
</td>
<td width="176">
<p align="center">TRIM(column)</p>
</td>
<td width="226">
<p>从存储的值删除开头和结尾的空格</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">UPPER()</p>
</td>
<td width="176">
<p align="center">UPPER(column)</p>
</td>
<td width="226">
<p>把存储的字符串全部大写</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">LOWER()</p>
</td>
<td width="176">
<p align="center">LOWER(column)</p>
</td>
<td width="226">
<p>把存储的字符串全部小写</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">SUBSTRING()</p>
</td>
<td width="176">
<p align="center">SUBSTRING(column, start, length)</p>
</td>
<td width="226">
<p>从column中返回开始start的length个字符（索引从0开始）</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">MD5()</p>
</td>
<td width="176">
<p align="center">MD5(column)</p>
</td>
<td width="226">
<p>把储存的字符串用MD5加密</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">SHA()</p>
</td>
<td width="176">
<p align="center">SHA(column)</p>
</td>
<td width="226">
<p>把存储的字符串用SHA加密</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>&nbsp;</p>
<p align="center"><strong>数字函数</strong></p>
<div align="center">
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td width="110">
<p align="center">函数</p>
</td>
<td width="176">
<p align="center">用法</p>
</td>
<td width="226">
<p align="center">描述</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">ABS()</p>
</td>
<td width="176">
<p align="center">ABS(x)</p>
</td>
<td width="226">
<p>返回x的绝对值</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">CEILING()</p>
</td>
<td width="176">
<p align="center">CEILING(x)</p>
</td>
<td width="226">
<p>返回x的值的最大整数</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">FLOOR()</p>
</td>
<td width="176">
<p align="center">FLOOR(x)</p>
</td>
<td width="226">
<p>返回x的整数</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">ROUND()</p>
</td>
<td width="176">
<p align="center">ROUND(x)</p>
</td>
<td width="226">
<p>返回x的四舍五入整数</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">MOD()</p>
</td>
<td width="176">
<p align="center">MOD(x)</p>
</td>
<td width="226">
<p>返回x的余数</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">RNAD()</p>
</td>
<td width="176">
<p align="center">RNAD()</p>
</td>
<td width="226">
<p>返回0-1.0之间随机数</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">FORMAT()</p>
</td>
<td width="176">
<p align="center">FORMAT(x,y)</p>
</td>
<td width="226">
<p>返回一个格式化后的小数</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">SIGN()</p>
</td>
<td width="176">
<p align="center">SIGN(x)</p>
</td>
<td width="226">
<p>返回一个值，正数(+1)，0，负数(-1)</p>
</td>
</tr>
<tr>
<td width="110">
<p align="center">SQRT()</p>
</td>
<td width="176">
<p align="center">SQRT(x)</p>
</td>
<td width="226">
<p>返回x的平方根</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>&nbsp;</p>
<p align="center"><strong>日期和时间函数</strong></p>
<div align="center">
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td width="123">
<p align="center">函数</p>
</td>
<td width="175">
<p align="center">用法</p>
</td>
<td width="214">
<p align="center">描述</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">HOUR()</p>
</td>
<td width="175">
<p align="center">HOUR(column)</p>
</td>
<td width="214">
<p>只返回储存日期的小时值</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">MINUTE()</p>
</td>
<td width="175">
<p align="center">MINUTE(column)</p>
</td>
<td width="214">
<p>只返回储存日期的分钟值</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">SECOND()</p>
</td>
<td width="175">
<p align="center">SECOND(column)</p>
</td>
<td width="214">
<p>只返回储存日期的秒值</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">DAYNAME()</p>
</td>
<td width="175">
<p align="center">DAYNAME(column)</p>
</td>
<td width="214">
<p>返回日期值中天的名称</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">DAYOFMONTH()</p>
</td>
<td width="175">
<p align="center">DAYOFMONTH(column)</p>
</td>
<td width="214">
<p>返回日期值中当月第几天</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">MONTHNAME()</p>
</td>
<td width="175">
<p align="center">MONTHNAME(column)</p>
</td>
<td width="214">
<p>返回日期值中月份的名称</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">MONTH()</p>
</td>
<td width="175">
<p align="center">MONTH(column)</p>
</td>
<td width="214">
<p>返回日期值中月份的数字值</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">YEAR()</p>
</td>
<td width="175">
<p align="center">YEAR(column)</p>
</td>
<td width="214">
<p>返回日期值中年份的数字值</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">CURDATE()</p>
</td>
<td width="175">
<p align="center">CURDATE()</p>
</td>
<td width="214">
<p>返回当前日期</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">CURTIME()</p>
</td>
<td width="175">
<p align="center">CURTIME()</p>
</td>
<td width="214">
<p>返回当前时间</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">NOW()</p>
</td>
<td width="175">
<p align="center">NOW()</p>
</td>
<td width="214">
<p>返回当前时间和日期</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p align="center"><strong>格式化日期和时间(DATE_FORMAT()</strong><strong>和TIME_FORMAT())</strong></p>
<div align="center">
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td width="123">
<p align="center">名词</p>
</td>
<td width="175">
<p align="center">用法</p>
</td>
<td width="214">
<p align="center">示例</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%e</p>
</td>
<td width="175">
<p align="center">一月中的某天</p>
</td>
<td width="214">
<p>1~31</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%d</p>
</td>
<td width="175">
<p align="center">一月中的某天，两位</p>
</td>
<td width="214">
<p>01~31</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%D</p>
</td>
<td width="175">
<p align="center">带后缀的天</p>
</td>
<td width="214">
<p>1st~31st</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%W</p>
</td>
<td width="175">
<p align="center">周日名称</p>
</td>
<td width="214">
<p>Sunday~Saturday</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%a</p>
</td>
<td width="175">
<p align="center">简写的周日名称</p>
</td>
<td width="214">
<p>Sun-Sat</p>
</td>
</tr>
</tbody>
</table>
</div>
<div align="center">
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td width="123">
<p align="center">%c</p>
</td>
<td width="175">
<p align="center">月份编号</p>
</td>
<td width="214">
<p>1~12</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%m</p>
</td>
<td width="175">
<p align="center">月份编号，两位</p>
</td>
<td width="214">
<p>01~12</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%M</p>
</td>
<td width="175">
<p align="center">月份名称</p>
</td>
<td width="214">
<p>January~December</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%b</p>
</td>
<td width="175">
<p align="center">简写的月份名称</p>
</td>
<td width="214">
<p>Jan~Dec</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%Y</p>
</td>
<td width="175">
<p align="center">年份</p>
</td>
<td width="214">
<p>2002</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%y</p>
</td>
<td width="175">
<p align="center">年份，两位</p>
</td>
<td width="214">
<p>02</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%l</p>
</td>
<td width="175">
<p align="center">小时</p>
</td>
<td width="214">
<p>1~12</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%h</p>
</td>
<td width="175">
<p align="center">小时,两位</p>
</td>
<td width="214">
<p>01~12</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%k</p>
</td>
<td width="175">
<p align="center">小时，24小时制</p>
</td>
<td width="214">
<p>0~23</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%H</p>
</td>
<td width="175">
<p align="center">小时，24小制度，两位</p>
</td>
<td width="214">
<p>00~23</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%i</p>
</td>
<td width="175">
<p align="center">分钟</p>
</td>
<td width="214">
<p>00~59</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%S</p>
</td>
<td width="175">
<p align="center">秒</p>
</td>
<td width="214">
<p>00~59</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%r</p>
</td>
<td width="175">
<p align="center">时间</p>
</td>
<td width="214">
<p>8:17:02 PM</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%T</p>
</td>
<td width="175">
<p align="center">时间，24小时制</p>
</td>
<td width="214">
<p>20:17:02 PM</p>
</td>
</tr>
<tr>
<td width="123">
<p align="center">%p</p>
</td>
<td width="175">
<p align="center">上午或下午</p>
</td>
<td width="214">
<p>AM或PM</p>
</td>
</tr>
</tbody>
</table>
</div>
<p><strong>更多函数：<a href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/functions.html#encryption-functions" target="_blank">中文猛击这里</a>&nbsp;OR&nbsp;<a href="https://dev.mysql.com/doc/refman/5.7/en/functions.html" target="_blank">官方猛击这里</a></strong></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>2、自定义函数</strong></span></p>
<p><span style="color: #ff0000"><strong>create function 创建函数</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080">--</span><span style="color: #008080"> create function 创建函数</span>

<span style="color: #008080">--</span><span style="color: #008080"> create function 函数名称 (形式参数名称,形式参数类型)</span><span style="color: #008080">
--</span><span style="color: #008080"> returns int  返回整数类型</span><span style="color: #008080">
--</span><span style="color: #008080"> BEGIN 函数内容开始</span>
        <span style="color: #008080">--</span><span style="color: #008080"> 函数内容</span><span style="color: #008080">
--</span><span style="color: #008080"> END 函数内容结束</span>
<span style="color: #000000">

delimiter $$
</span><span style="color: #0000ff">DROP</span> <span style="color: #0000ff">function</span> <span style="color: #0000ff">if</span> <span style="color: #808080">EXISTS</span> f1; <span style="color: #008080">--</span><span style="color: #008080"> 判断这个函数如果存在删除</span>

<span style="color: #0000ff">create</span> <span style="color: #0000ff">function</span> f1(  <span style="color: #008080">--</span><span style="color: #008080"> 创建函数，接收两个整数类型参数</span>
    i1 <span style="color: #0000ff">int</span><span style="color: #000000">,
    i2 </span><span style="color: #0000ff">int</span><span style="color: #000000">)
</span><span style="color: #0000ff">returns</span> <span style="color: #0000ff">int</span>  <span style="color: #008080">--</span><span style="color: #008080"> 返回整数类型</span>
<span style="color: #0000ff">BEGIN</span>
    <span style="color: #0000ff">declare</span> num <span style="color: #0000ff">int</span>;  <span style="color: #008080">--</span><span style="color: #008080"> 定义num变量，整数类型</span>
    <span style="color: #0000ff">set</span> num <span style="color: #808080">=</span> i1 <span style="color: #808080">+</span> i2;  <span style="color: #008080">--</span><span style="color: #008080"> 将传值相加后，赋值给num变量</span>
    <span style="color: #0000ff">return</span>(num);  <span style="color: #008080">--</span><span style="color: #008080"> 返回num变量</span>
<span style="color: #0000ff">END</span><span style="color: #000000"> $$
delimiter ;</span></pre>
</div>
<p><span style="color: #ff0000"><strong>函数以创建</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201706/955761-20170614222854868-438014669.png" alt=""></strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>执行自定义函数</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080">--</span><span style="color: #008080"> 执行自定义函数</span>

<span style="color: #0000ff">SELECT</span> f1(<span style="color: #800000; font-weight: bold">5</span>,<span style="color: #800000; font-weight: bold">6</span>); <span style="color: #008080">--</span><span style="color: #008080"> 返回11</span></pre>
</div>
<p>&nbsp;<img src="https://images2015.cnblogs.com/blog/955761/201706/955761-20170614223924353-1879639351.png" alt=""></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>将函数放在查询语句里，将函数返回结果与查询语句返回结果组合</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080">--</span><span style="color: #008080"> 执行自定义函数</span>

<span style="color: #0000ff">SELECT</span> f1(<span style="color: #800000; font-weight: bold">5</span>,<span style="color: #800000; font-weight: bold">6</span>),id,yhm,xb,nl <span style="color: #0000ff">FROM</span> usr; </pre>
</div>
<p><img src="https://images2015.cnblogs.com/blog/955761/201706/955761-20170614223845665-521085147.png" alt=""></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>将函数放在查询语句里，函数的参数如果是写的某个字段，那么这个字段的值将传入函数里执行</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080">--</span><span style="color: #008080"> 执行自定义函数</span>

<span style="color: #0000ff">SELECT</span> f1(<span style="color: #800000; font-weight: bold">5</span>,nl),id,yhm,xb,nl <span style="color: #0000ff">FROM</span> usr; <span style="color: #008080">--</span><span style="color: #008080"> 函数的参数如果是写的nl字段，那么这个字段的值将传入函数里执行</span></pre>
</div>
<p><img src="https://images2015.cnblogs.com/blog/955761/201706/955761-20170614224616431-192230983.png" alt=""></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>删除函数</strong></span></p>
<p><span style="color: #ff0000"><strong>drop function 删除函数，后面跟要删除的函数名称</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080">--</span><span style="color: #008080"> drop function 删除函数，后面跟要删除的函数名称</span>

<span style="color: #0000ff">drop</span> <span style="color: #0000ff">function</span> f1;</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>pymysql模块，执行函数</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201706/955761-20170614225746603-666014317.png" alt=""></strong></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>注意：函数与存储过程的区别</strong></span></p>
<p><span style="color: #ff0000"><strong>存储过程是：CREATE PROCEDURE 创建的</strong></span></p>
<p><span style="color: #ff0000"><strong>函数时：create function 创建的</strong></span></p>
<p><span style="color: #ff0000"><strong><strong>存储过程是：CALL &nbsp;执行的</strong></strong></span></p>
<p><span style="color: #ff0000"><strong><strong>函数时：SELECT 执行的</strong></strong></span></p>
<p><span style="color: #ff0000"><strong><strong>函数里：不支持SQL语句【重点】</strong></strong></span></p>
<p><span style="color: #ff0000"><strong><strong>存储过程里：支持SQL语句【重点】</strong></strong></span></p>
<p>&nbsp;</p></div>