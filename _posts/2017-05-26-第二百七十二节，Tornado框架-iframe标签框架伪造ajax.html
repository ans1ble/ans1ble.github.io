第二百七十二节，Tornado框架-iframe标签框架伪造ajax


			<div id="cnblogs_post_body" class="blogpost-body"><p><span style="color: #ff0000"><strong>Tornado框架-iframe标签框架伪造ajax</strong></span></p>
<p><span style="color: #0000ff"><strong>html</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">&lt;!</span><span style="color: #ff00ff">DOCTYPE html</span><span style="color: #0000ff">&gt;</span>
<span style="color: #0000ff">&lt;</span><span style="color: #800000">html</span><span style="color: #0000ff">&gt;</span>

    <span style="color: #0000ff">&lt;</span><span style="color: #800000">head </span><span style="color: #ff0000">lang</span><span style="color: #0000ff">="en"</span><span style="color: #0000ff">&gt;</span>
        <span style="color: #0000ff">&lt;</span><span style="color: #800000">meta </span><span style="color: #ff0000">charset</span><span style="color: #0000ff">="UTF-8"</span><span style="color: #0000ff">&gt;</span>
        <span style="color: #0000ff">&lt;</span><span style="color: #800000">title</span><span style="color: #0000ff">&gt;&lt;/</span><span style="color: #800000">title</span><span style="color: #0000ff">&gt;</span>
    <span style="color: #0000ff">&lt;/</span><span style="color: #800000">head</span><span style="color: #0000ff">&gt;</span>

    <span style="color: #0000ff">&lt;</span><span style="color: #800000">body</span><span style="color: #0000ff">&gt;</span>

        <span style="color: #0000ff">&lt;</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span>
            <span style="color: #0000ff">&lt;</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span>请输入要加载的地址：<span style="background-color: #ff99cc"><span style="color: #0000ff">&lt;</span><span style="color: #800000">span </span><span style="color: #ff0000">id</span><span style="color: #0000ff">="currentTime"</span><span style="color: #0000ff">&gt;&lt;/</span><span style="color: #800000">span</span><span style="color: #0000ff">&gt;&lt;/</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span></span>
            <span style="color: #0000ff">&lt;</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span>
                <span style="background-color: #ff99cc"><span style="color: #0000ff">&lt;</span><span style="color: #800000">input </span><span style="color: #ff0000">id</span><span style="color: #0000ff">="url"</span><span style="color: #ff0000"> type</span><span style="color: #0000ff">="text"</span> <span style="color: #0000ff">/&gt;</span>
                <span style="color: #0000ff">&lt;</span><span style="color: #800000">input </span><span style="color: #ff0000">type</span><span style="color: #0000ff">="button"</span><span style="color: #ff0000"> value</span><span style="color: #0000ff">="刷新"</span><span style="color: #ff0000"> onclick</span><span style="color: #0000ff">="LoadPage();"</span><span style="color: #0000ff">&gt;</span></span>
            <span style="color: #0000ff">&lt;/</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span>
        <span style="color: #0000ff">&lt;/</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span>


        <span style="color: #0000ff">&lt;</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span>
            <span style="color: #0000ff">&lt;</span><span style="color: #800000">h3</span><span style="color: #0000ff">&gt;</span>加载页面位置：<span style="color: #0000ff">&lt;/</span><span style="color: #800000">h3</span><span style="color: #0000ff">&gt;</span>
            <span style="background-color: #ff99cc"><span style="color: #0000ff">&lt;</span><span style="color: #800000">iframe </span><span style="color: #ff0000">id</span><span style="color: #0000ff">="iframePosition"</span><span style="color: #ff0000"> style</span><span style="color: #0000ff">="width: 100%;height: 500px;"</span><span style="color: #0000ff">&gt;&lt;/</span><span style="color: #800000">iframe</span><span style="color: #0000ff">&gt;</span></span>
        <span style="color: #0000ff">&lt;/</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span>


        <span style="background-color: #ff99cc"><span style="color: #0000ff">&lt;</span><span style="color: #800000">script </span><span style="color: #ff0000">type</span><span style="color: #0000ff">="text/javascript"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">

            window.onload</span><span style="color: #000000">=</span> <span style="color: #0000ff">function</span><span style="color: #000000">(){                  </span><span style="color: #008000">//</span><span style="color: #008000">框架加载完毕后执行</span>
                <span style="color: #0000ff">var</span><span style="color: #000000"> myDate </span><span style="color: #000000">=</span> <span style="color: #0000ff">new</span><span style="color: #000000"> Date();                </span><span style="color: #008000">//</span><span style="color: #008000">创建时间对象</span>
<span style="color: #000000">                document.getElementById(</span><span style="color: #000000">'</span><span style="color: #000000">currentTime</span><span style="color: #000000">'</span><span style="color: #000000">).innerText </span><span style="color: #000000">=</span><span style="color: #000000"> myDate.getTime();  </span><span style="color: #008000">//</span><span style="color: #008000">获取时间戳写入到id为currentTime元素里</span>
<span style="color: #000000">
            };

            </span><span style="color: #0000ff">function</span><span style="color: #000000"> LoadPage(){                        </span><span style="color: #008000">//</span><span style="color: #008000">函数</span>
                <span style="color: #0000ff">var</span><span style="color: #000000"> targetUrl </span><span style="color: #000000">=</span><span style="color: #000000">  document.getElementById(</span><span style="color: #000000">'</span><span style="color: #000000">url</span><span style="color: #000000">'</span><span style="color: #000000">).value;      </span><span style="color: #008000">//</span><span style="color: #008000">获取id为url的value值</span>
<span style="color: #000000">                document.getElementById(</span><span style="color: #000000">"</span><span style="color: #000000">iframePosition</span><span style="color: #000000">"</span><span style="color: #000000">).src </span><span style="color: #000000">=</span><span style="color: #000000"> targetUrl;  </span><span style="color: #008000">//</span><span style="color: #008000">将value值写入框架的src请求地址</span>
<span style="color: #000000">            }

</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">script</span><span style="color: #0000ff">&gt;</span></span>

    <span style="color: #0000ff">&lt;/</span><span style="color: #800000">body</span><span style="color: #0000ff">&gt;</span>
<span style="color: #0000ff">&lt;/</span><span style="color: #800000">html</span><span style="color: #0000ff">&gt;</span></pre>
</div>
<p><img src="https://images2015.cnblogs.com/blog/955761/201705/955761-20170526111319357-1306690862.png" alt=""></p></div>