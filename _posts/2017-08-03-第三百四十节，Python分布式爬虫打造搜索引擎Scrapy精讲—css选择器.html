第三百四十节，Python分布式爬虫打造搜索引擎Scrapy精讲—css选择器


			<div id="cnblogs_post_body" class="blogpost-body"><p><strong>第三百四十节，Python分布式爬虫打造搜索引擎Scrapy精讲—css选择器</strong></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong><strong>css选择器</strong></strong></span></p>
<p><span style="color: #ff0000"><strong><strong>1、</strong></strong></span></p>
<p><span style="color: #ff0000"><strong><strong><img src="https://images2017.cnblogs.com/blog/955761/201708/955761-20170803191436037-857086866.png" alt=""></strong></strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>2、</strong></span></p>
<p><img src="https://images2017.cnblogs.com/blog/955761/201708/955761-20170803191508787-1715841890.png" alt=""></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>3、</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2017.cnblogs.com/blog/955761/201708/955761-20170803191537147-2089179759.png" alt=""></strong></span></p>
<p><span style="color: #ff0000"><strong>&nbsp;::attr()获取元素属性，css选择器</strong></span></p>
<p><span style="color: #ff0000"><strong>::text获取标签文本</strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>举例：</strong></span></p>
<p><span style="color: #ff0000"><strong><span style="color: #0000ff">extract_first('')</span>获取过滤后的数据，返回字符串，有一个默认参数，也就是如果没有数据默认是什么，一般我们设置为空字符串</strong></span></p>
<p><span style="color: #ff0000"><strong><span style="color: #0000ff">extract()</span><strong>获取过滤后的数据，返回字符串列表</strong></strong></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><span style="color: #008000">#</span><span style="color: #008000"> -*- coding: utf-8 -*-</span>
<span style="color: #0000ff">import</span><span style="color: #000000"> scrapy

</span><span style="color: #0000ff">class</span><span style="color: #000000"> PachSpider(scrapy.Spider):
    name </span>= <span style="color: #800000">'</span><span style="color: #800000">pach</span><span style="color: #800000">'</span><span style="color: #000000">
    allowed_domains </span>= [<span style="color: #800000">'</span><span style="color: #800000">blog.jobbole.com</span><span style="color: #800000">'</span><span style="color: #000000">]
    start_urls </span>= [<span style="color: #800000">'</span><span style="color: #800000">http://blog.jobbole.com/all-posts/</span><span style="color: #800000">'</span><span style="color: #000000">]

    </span><span style="color: #0000ff">def</span><span style="color: #000000"> parse(self, response):

        asd </span>= response.<span style="background-color: #ff99cc">css(<span style="color: #800000">'</span><span style="color: #800000; background-color: #ffff00">.archive-title::text</span><span style="color: #800000">'</span></span><span style="color: #000000"><span style="background-color: #ff99cc">)</span>.extract()  <span style="color: #008080">#这里也可以用extract_first('')获取返回字符串
        </span></span><span style="color: #008000">#</span><span style="color: #008000"> print(asd)</span>

        <span style="color: #0000ff">for</span> i <span style="color: #0000ff">in</span><span style="color: #000000"> asd:
            </span><span style="color: #0000ff">print</span>(i)</pre>
</div>
<p><img src="https://images2017.cnblogs.com/blog/955761/201708/955761-20170803191725709-1789476468.png" alt=""></p>
<p>&nbsp;</p></div>