第一百八十九节，jQueryUI，折叠菜单 UI


			<div id="cnblogs_post_body" class="blogpost-body"><p><span style="color: #0000ff"><strong>jQueryUI，折叠菜单 UI</strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #000000"><strong>学习要点： </strong></span></p>
<p><span style="color: #000000"><strong>　　1.使用 accordion </strong></span></p>
<p><span style="color: #000000"><strong>　　2.修改 accordion 样式 </strong></span></p>
<p><span style="color: #000000"><strong>　　3.accordion()方法的属性 </strong></span></p>
<p><span style="color: #000000"><strong>　　4.accordion()方法的事件 </strong></span></p>
<p><span style="color: #000000"><strong>　　5.accordion 中使用 on</strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #000000"><strong>折叠菜单（accordion），和选项卡一样也是一种在同一个页面上切换不同内容的功能 UI。它和选项卡的使用几乎没有什么太大区别，只是显示的效果有所差异罢了。</strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>一．使用 accordion </strong></span></p>
<p><span style="color: #000000"><strong>使用 accordion 比较简单，但需要按照指定的规范即可。</strong></span></p>
<p><span style="color: #ff0000"><strong>HTML 部分</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">&lt;</span><span style="color: #800000">div </span><span style="color: #ff0000">id</span><span style="color: #0000ff">="accordion"</span><span style="color: #0000ff">&gt;</span>
    <span style="color: #0000ff">&lt;</span><span style="color: #800000">h1</span><span style="color: #0000ff">&gt;</span>菜单 1<span style="color: #0000ff">&lt;/</span><span style="color: #800000">h1</span><span style="color: #0000ff">&gt;</span>
    <span style="color: #0000ff">&lt;</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span>内容 1<span style="color: #0000ff">&lt;/</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span>
    <span style="color: #0000ff">&lt;</span><span style="color: #800000">h1</span><span style="color: #0000ff">&gt;</span>菜单 2<span style="color: #0000ff">&lt;/</span><span style="color: #800000">h1</span><span style="color: #0000ff">&gt;</span>
    <span style="color: #0000ff">&lt;</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span>内容 2<span style="color: #0000ff">&lt;/</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span>
    <span style="color: #0000ff">&lt;</span><span style="color: #800000">h1</span><span style="color: #0000ff">&gt;</span>菜单 3<span style="color: #0000ff">&lt;/</span><span style="color: #800000">h1</span><span style="color: #0000ff">&gt;</span>
    <span style="color: #0000ff">&lt;</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span>内容 3<span style="color: #0000ff">&lt;/</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span>
<span style="color: #0000ff">&lt;/</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span></pre>
</div>
<p><span style="color: #ff0000"><strong>jQuery 部分</strong></span></p>
<p><span style="color: #ff0000"><strong>accordion()方法，让符合要求的区块执行折叠菜单方法</strong></span></p>
<div class="cnblogs_code">
<pre>$('#accordion').accordion();</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>二．修改 accordion 样式 </strong></span></p>
<p><strong>在显示的 accordion 折叠菜单中，在火狐浏览器中打开 Firebug 或者右击-&gt;查看元素。这 样，我们可以看看 accordion 的样式，根据样式进行修改。我们为了和网站主题符合，对 accordion 的标题背景进行修改。</strong></p>
<div class="cnblogs_code">
<pre><span style="color: #800000">//无须修改 ui 里的 CSS，直接用 style.css 替代掉
.ui-widget-header </span>{<span style="color: #ff0000">
    background</span>:<span style="color: #0000ff">url(../img/ui_header_bg.png)</span>;
}</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>三．accordion()方法的属性 </strong></span></p>
<p><strong>选项卡方法有两种形式：1.accordion(options)，options 是以对象键值对的形式传参，每 个键值对表示一个选项；2.accordion('action', param)，action 是操作选项卡方法的字符串， param 则是 options 的某个选项。</strong></p>
<p><span style="color: #ff0000"><strong>accordion 外观选项</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201703/955761-20170325224604611-1052294972.png" alt=""></strong></span></p>
<p><span style="color: #ff0000"><strong>collapsible false/布尔值 当设置为 true 是，允许菜单折叠对应的内容。默认值为 false，不会关闭对应内容。</strong></span></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({
        collapsible:</span><span style="color: #0000ff">true</span>        <span style="color: #008000">//</span><span style="color: #008000">允许菜单折叠对应的内容。默认值为 false，不会关闭对应内容</span>
    });</pre>
</div>
<p>&nbsp;</p>
<p><br><span style="color: #ff0000"><strong>disabled 无/布尔值 默认为 false，设置为 true 则禁用折叠菜单。禁止后菜单无法折叠</strong></span></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({
        collapsible:</span><span style="color: #0000ff">true</span>,        <span style="color: #008000">//</span><span style="color: #008000">允许菜单折叠对应的内容。默认值为 false，不会关闭对应内容</span>
        disabled:<span style="color: #0000ff">true</span>            <span style="color: #008000">//</span><span style="color: #008000">禁止后菜单无法折叠</span>
    });</pre>
</div>
<p>&nbsp;</p>
<p><br><span style="color: #ff0000"><strong>event click/字符串 触发 accordion 的事件类型，默认为 click。可以设置 mouseover 等其他鼠标事件。设置什么事件触发折叠</strong></span></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({
        collapsible:</span><span style="color: #0000ff">true</span>,        <span style="color: #008000">//</span><span style="color: #008000">允许菜单折叠对应的内容。默认值为 false，不会关闭对应内容</span>
        <span style="color: #008000">//</span><span style="color: #008000"> disabled:true,            //禁止后菜单无法折叠</span>
        event:'mouseover'       <span style="color: #008000">//</span><span style="color: #008000">设置什么事件触发折叠</span>
    });</pre>
</div>
<p>&nbsp;</p>
<p><br><span style="color: #ff0000"><strong>active 数组和布尔值如果是数组，初始化时默认显示哪个 tab，默认值为 0。如果是布尔值，那么默认是否折叠。条件必须是 collapsible 值为 true。</strong></span></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({
        collapsible:</span><span style="color: #0000ff">true</span>,        <span style="color: #008000">//</span><span style="color: #008000">允许菜单折叠对应的内容。默认值为 false，不会关闭对应内容</span>
        <span style="color: #008000">//</span><span style="color: #008000"> disabled:true,            //禁止后菜单无法折叠</span>
        event:'mouseover',       <span style="color: #008000">//</span><span style="color: #008000">设置什么事件触发折叠</span>
        active:<span style="color: #0000ff">true</span><span style="color: #000000">
    });</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>heightStyle content/字符串默认为 <span style="color: #0000ff">auto</span>，即自动根据最高的那个为基准，<span style="color: #0000ff">fill&nbsp;</span>则是填充一定的可用高度，<span style="color: #0000ff">content</span> 则是根据内容伸展高度。</strong></span></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({
        </span><span style="color: #008000">//</span><span style="color: #008000"> collapsible:true,        //允许菜单折叠对应的内容。默认值为 false，不会关闭对应内容</span>
        <span style="color: #008000">//</span><span style="color: #008000"> disabled:true,            //禁止后菜单无法折叠</span>
        <span style="color: #008000">//</span><span style="color: #008000"> event:'mouseover',       //设置什么事件触发折叠</span>
        <span style="color: #008000">//</span><span style="color: #008000"> active:true,</span>
        heightStyle:'content'       <span style="color: #008000">//</span><span style="color: #008000">折叠高度设置</span>
    });</pre>
</div>
<p>&nbsp;</p>
<p><br><span style="color: #ff0000"><strong>header h1/字符串 设置折叠菜单的标题标签。</strong></span></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({
        </span><span style="color: #008000">//</span><span style="color: #008000"> collapsible:true,        //允许菜单折叠对应的内容。默认值为 false，不会关闭对应内容</span>
        <span style="color: #008000">//</span><span style="color: #008000"> disabled:true,            //禁止后菜单无法折叠</span>
        <span style="color: #008000">//</span><span style="color: #008000"> event:'mouseover',       //设置什么事件触发折叠</span>
        <span style="color: #008000">//</span><span style="color: #008000"> active:true,</span>
        <span style="color: #008000">//</span><span style="color: #008000"> heightStyle:'content'       //折叠高度设置</span>
        header:'h3'                 <span style="color: #008000">//</span><span style="color: #008000">设置折叠菜单的标题标签,如设置成h3,在html里也要对应</span>
    });</pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>icons 默认图标 设置想要的图标。</strong></span></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({
        </span><span style="color: #008000">//</span><span style="color: #008000"> collapsible:true,        //允许菜单折叠对应的内容。默认值为 false，不会关闭对应内容</span>
        <span style="color: #008000">//</span><span style="color: #008000"> disabled:true,            //禁止后菜单无法折叠</span>
        <span style="color: #008000">//</span><span style="color: #008000"> event:'mouseover',       //设置什么事件触发折叠</span>
        <span style="color: #008000">//</span><span style="color: #008000"> active:true,</span>
        <span style="color: #008000">//</span><span style="color: #008000"> heightStyle:'content'       //折叠高度设置</span>
        <span style="color: #008000">//</span><span style="color: #008000"> header:'h3'                 //设置折叠菜单的标题标签,如设置成h3,在html里也要对应</span>
<span style="color: #000000">        icons: {
            </span>"header": "ui-icon-plus",           <span style="color: #008000">//</span><span style="color: #008000">折叠时图标</span>
            "activeHeader": "ui-icon-minus"     <span style="color: #008000">//</span><span style="color: #008000">设置展开时图标</span>
<span style="color: #000000">        }
    });</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>三．accordion()方法的事件 </strong></span></p>
<p><strong>除了属性设置外，accordion()方法也提供了大量的事件。这些事件可以给各种不同状态 时提供回调函数。</strong></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>accordion 事件选项</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201703/955761-20170325232126424-2061167249.png" alt=""></strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201703/955761-20170325232133783-729353700.png" alt=""></strong></span></p>
<p><span style="color: #ff0000"><strong>create 当创建一个折叠菜单时激活此事件。</strong></span><br><strong>该方法有两个参数(event, ui)，ui 参数有两个子属性 <span style="color: #0000ff">header</span> 和 <span style="color: #0000ff">panel</span>，得到当前标题和内容选项的对象。</strong></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({
        create: </span><span style="color: #0000ff">function</span> (event, ui) {    <span style="color: #008000">//</span><span style="color: #008000">当创建一个折叠菜单时激活此事件。</span>
            alert($(ui.header.get()).html()); <span style="color: #008000">//</span><span style="color: #008000">的到当前展开的菜单标题对象</span>
            alert($(ui.panel.get()).html());  <span style="color: #008000">//</span><span style="color: #008000">的到当前展开的菜单内容对象</span>
<span style="color: #000000">        }
    });</span></pre>
</div>
<p>&nbsp;</p>
<p><br><span style="color: #ff0000"><strong>activate 当切换一个折叠菜单时，启动此事件。</strong></span><br><strong>该方法有两个参数(event, ui)，ui 参数有四个子属性 <span style="color: #0000ff">newHeader</span>、<span style="color: #0000ff">newPanel</span>、<span style="color: #0000ff">oldHeader</span>，<span style="color: #0000ff">oldPanel</span>。分别得到的时候新 header 对象、</strong><br><strong>新内容对象、旧 header 对象和旧内容对象。</strong></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({
        activate: </span><span style="color: #0000ff">function</span> (event, ui) {    <span style="color: #008000">//</span><span style="color: #008000">当切换一个折叠菜单时，启动此事件</span>
            alert($(ui.oldHeader.get()).html()); <span style="color: #008000">//</span><span style="color: #008000">获取上一个展开菜单的标题对象</span>
            alert($(ui.oldPanel.get()).html());  <span style="color: #008000">//</span><span style="color: #008000">获取上一个展开菜单的内容对象</span>
            alert($(ui.newHeader.get()).html()); <span style="color: #008000">//</span><span style="color: #008000">获取当前要展开的标题对象</span>
            alert($(ui.newPanel.get()).html());  <span style="color: #008000">//</span><span style="color: #008000">获取当前要展开的内容对象</span>
<span style="color: #000000">        }
    });</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>beforeActivate 当切换一个折叠菜单之前，启动此事件。</strong></span><br><strong>该方法有两个参数 (event, ui)，ui 参数 有四 个子属 性 <span style="color: #0000ff">newHeader</span>、<span style="color: #0000ff">newPanel</span>、<span style="color: #0000ff">oldHeader</span>，<span style="color: #0000ff">oldPanel</span>。分别得到的时候新 header对象、新内容对象、旧 header 对象和旧内容对象。</strong></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({
        beforeActivate: </span><span style="color: #0000ff">function</span> (event, ui) {    <span style="color: #008000">//</span><span style="color: #008000">当切换一个折叠菜单之前，启动此事件</span>
            alert($(ui.oldHeader.get()).html()); <span style="color: #008000">//</span><span style="color: #008000">获取上一个展开菜单的标题对象</span>
            alert($(ui.oldPanel.get()).html());  <span style="color: #008000">//</span><span style="color: #008000">获取上一个展开菜单的内容对象</span>
            alert($(ui.newHeader.get()).html()); <span style="color: #008000">//</span><span style="color: #008000">获取当前要展开的标题对象</span>
            alert($(ui.newPanel.get()).html());  <span style="color: #008000">//</span><span style="color: #008000">获取当前要展开的内容对象</span>
<span style="color: #000000">        }
    });</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>accordion('action', param)方法</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201703/955761-20170325233730111-1212821695.png" alt=""></strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201703/955761-20170325233739580-1100827488.png" alt=""></strong></span></p>
<p><span style="color: #ff0000"><strong>accordion('disable') jQuery 对象 禁用折叠菜单</strong></span></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({

    });
    $(</span>'#accordion').accordion('disable');       <span style="color: #008000">//</span><span style="color: #008000">禁用折叠菜单</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>accordion('enable') jQuery 对象 启用折叠菜单</strong></span></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({

    });
    $(</span>'#accordion').accordion('enable');       <span style="color: #008000">//</span><span style="color: #008000">启用折叠菜单</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>accordion('widget') jQuery 对象 获取折叠菜单的 jQuery 对象</strong></span></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({

    });
    alert($(</span>'#accordion').accordion('widget'));       <span style="color: #008000">//</span><span style="color: #008000">获取折叠菜单的 jQuery 对象</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>accordion('destroy') jQuery 对象 删 除 折 叠 菜 单 ， 直 接 阻 断 了accordion。</strong></span></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({

    });
    $(</span>'#accordion').accordion('destroy');       <span style="color: #008000">//</span><span style="color: #008000">直 接 阻 断 了accordion。</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>accordion('refresh') jQuery 对象 更新折叠菜单，比如高度。</strong></span></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({

    });
    $(</span>'#accordion').accordion('refresh');       <span style="color: #008000">//</span><span style="color: #008000">更新折叠菜单，比如高度</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>accordion('option', param) 一般值 获取 options 属性的值</strong></span></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({
        event:</span>'mouseover'       <span style="color: #008000">//</span><span style="color: #008000">设置什么事件触发折叠</span>
<span style="color: #000000">    });
    alert($(</span>'#accordion').accordion('option', 'event'));       <span style="color: #008000">//</span><span style="color: #008000">获取accordion属性的值</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>accordion('option', param,value)jQuery 对象 设置 options 属性的值</strong></span></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({
        event:</span>'mouseover'       <span style="color: #008000">//</span><span style="color: #008000">设置什么事件触发折叠</span>
<span style="color: #000000">    });
    $(</span>'#accordion').accordion('option', 'event','mouseover');       <span style="color: #008000">//</span><span style="color: #008000">设置accordion属性的值</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>五．accordion 中使用 on() </strong></span></p>
<p><strong>在 accordion 的事件中，提供了使用 on()方法处理的事件方法。</strong></p>
<p><strong><img src="https://images2015.cnblogs.com/blog/955761/201703/955761-20170325235853190-1323694272.png" alt=""></strong></p>
<p><span style="color: #ff0000"><strong>accordionactivate 折叠菜单切换时触发</strong></span></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({
        event: </span>'mouseover'       <span style="color: #008000">//</span><span style="color: #008000">设置什么事件触发折叠</span>
<span style="color: #000000">    });
    </span><span style="color: #008000">//</span><span style="color: #008000">菜单切换时触发</span>
    $('#accordion').on('accordionactivate', <span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'菜单切换时触发！'<span style="color: #000000">);
    });</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>accordionbeforeactivate折叠菜单切换前触发</strong></span></p>
<div class="cnblogs_code">
<pre>    $('#accordion'<span style="color: #000000">).accordion({
        event: </span>'mouseover'       <span style="color: #008000">//</span><span style="color: #008000">设置什么事件触发折叠</span>
<span style="color: #000000">    });
    </span><span style="color: #008000">//</span><span style="color: #008000">菜单切换前触发</span>
    $('#accordion').on('accordionbeforeactivate ', <span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'菜单切换前触发！'<span style="color: #000000">);
    });</span></pre>
</div>
<p>&nbsp;</p></div>