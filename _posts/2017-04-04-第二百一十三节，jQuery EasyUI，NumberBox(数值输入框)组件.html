第二百一十三节，jQuery EasyUI，NumberBox(数值输入框)组件


			<div id="cnblogs_post_body" class="blogpost-body"><p><strong>jQuery EasyUI，NumberBox(数值输入框)组件</strong></p>
<p><span style="color: #0000ff"><strong>功能：只能输入数值，和各种数值的计算</strong></span></p>
<p>&nbsp;<img src="https://images2015.cnblogs.com/blog/955761/201704/955761-20170404220104175-1562894432.png" alt=""></p>
<p><strong>学习要点： </strong></p>
<p><strong>　　1.加载方式 </strong></p>
<p><strong>　　2.属性列表 </strong></p>
<p><strong>　　3.事件列表 </strong></p>
<p><strong>　　4.方法列表</strong></p>
<p>&nbsp;</p>
<p><strong>本节课重点了解 EasyUI 中 NumberBox(数值输入框)组件的使用方法，<span style="color: #ff0000">这个组件依赖 于 ValidateBox(验证框)组件。</span></strong></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong><span style="color: #ff0000">一．加载方式</span></strong></p>
<p><span style="color: #0000ff"><strong>class 加载方式</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">&lt;</span><span style="color: #800000">input </span><span style="color: #ff0000">type</span><span style="color: #0000ff">="text"</span><span style="color: #ff0000"> class</span><span style="color: #0000ff">="easyui-numberbox"</span><span style="color: #ff0000"> value</span><span style="color: #0000ff">="100"</span><span style="color: #ff0000"> data-options</span><span style="color: #0000ff">="min:0,precision:2"</span><span style="color: #0000ff">&gt;</span></pre>
</div>
<p><span style="color: #ff0000"><strong>numberbox()将一个输入框执行数值输入框组件方法</strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #0000ff"><strong>JS 加载调用</strong></span></p>
<div class="cnblogs_code">
<pre>$('#box'<span style="color: #000000">).numberbox({
　　min : </span>0<span style="color: #000000">,
　　precision : </span>2<span style="color: #000000">,
});</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>二．属性列表</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201704/955761-20170404205511269-2147059616.png" alt=""></strong></span></p>
<p><span style="color: #0000ff"><strong><img src="https://images2015.cnblogs.com/blog/955761/201704/955761-20170404205520128-1040130646.png" alt=""></strong></span></p>
<p><span style="color: #ff0000"><strong>disabled &nbsp; boolean 是否禁用该字段。默认值 false。</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">/*</span><span style="color: #008000">*
&lt;input id="box" type="text"  value="100"&gt;
 *</span><span style="color: #008000">*/</span><span style="color: #000000">

$(</span><span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        disabled:</span><span style="color: #0000ff">true</span>       <span style="color: #008000">//</span><span style="color: #008000">是否禁用该字段。默认值 false。</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>value &nbsp; number 默认值。</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">/*</span><span style="color: #008000">*
&lt;input id="box" type="text"  value="100"&gt;
 *</span><span style="color: #008000">*/</span><span style="color: #000000">

$(</span><span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        value:</span>100       <span style="color: #008000">//</span><span style="color: #008000">默认值。</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>min &nbsp; number 允许的最小值。默认值 null。</strong></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        value:</span>100,       <span style="color: #008000">//</span><span style="color: #008000">默认值。</span>
        min:200,        <span style="color: #008000">//</span><span style="color: #008000">允许的最小值</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>max &nbsp; number 允许的最大值。默认值 null。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        value:</span>1000,       <span style="color: #008000">//</span><span style="color: #008000">默认值。</span>
        max:200,        <span style="color: #008000">//</span><span style="color: #008000">允许的最大值</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>precision &nbsp; number 在十进制分隔符之后显示的最大精度。（即小数点后的显示精度）默认值0。<span style="color: #0000ff">小数点后面保留几位，超过保留位数的进行四舍五入</span></strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        value:</span>10,       <span style="color: #008000">//</span><span style="color: #008000">默认值。</span>
        precision:2     <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>decimalSeparator &nbsp; string 使用哪一种十进制字符分隔数字的整数和小数部分。<span style="color: #0000ff">默认值为小数点</span>。<span style="color: #0000ff">整数与小数部分的分隔符</span></strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision:</span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        decimalSeparator:':'        <span style="color: #008000">//</span><span style="color: #008000">默认值为小数点。正数与小数部分的分隔符</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>groupSeparator &nbsp; string使用哪一种字符分割整数组，以显示成千上万的数据。(<span style="color: #0000ff">比如：99,999,999.00中的','就是该分隔符设置。</span>)</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision:</span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        groupSeparator:','        <span style="color: #008000">//</span><span style="color: #008000">使用哪一种字符分割整数组，以显示成千上万的数据。(比如：99,999,999.00中的','就是该分隔符设置。)</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>prefix &nbsp; string <span style="color: #0000ff">前缀字符</span>。(比如：金额的$或者￥)</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision:</span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        prefix:'￥'<span style="color: #000000">
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>suffix &nbsp; string <span style="color: #0000ff">后缀字符</span>。(比如：后置的欧元符号€)</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision:</span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        prefix:'￥'<span style="color: #000000">,
        suffix:</span>'€'<span style="color: #000000">
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>filter &nbsp; function(e) <span style="color: #0000ff">定义如何过滤按键，当返回 true 时则允许输入，反之禁止</span>。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision:</span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        prefix:'￥'<span style="color: #000000">,
        filter:</span><span style="color: #0000ff">function</span><span style="color: #000000"> (e) {
            </span><span style="color: #0000ff">return</span> <span style="color: #0000ff">false</span><span style="color: #000000">
        }
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>formatter &nbsp; function(v) 用于格式化数值的函数。返回字符串值以显示到输入框中。<span style="color: #0000ff">自定义前置或者后缀字符，不写入value里</span></strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision:</span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        prefix:'￥'<span style="color: #000000">,
        formatter:</span><span style="color: #0000ff">function</span><span style="color: #000000"> (value) {
            </span><span style="color: #0000ff">return</span> '###' +<span style="color: #000000"> value;
        }
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>parser &nbsp; function(s) 用于解析字符串的函数。<span style="color: #0000ff"><strong>自定义前置或者后缀字符，写入value里</strong></span></strong></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision:</span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        prefix:'￥'<span style="color: #000000">,
        parser:</span><span style="color: #0000ff">function</span><span style="color: #000000"> (s) {
            </span><span style="color: #0000ff">return</span> '###' +<span style="color: #000000"> s;
        }
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>三．事件列表</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201704/955761-20170404213907160-2096666842.png" alt=""></strong></span></p>
<p><span style="color: #ff0000"><strong>onChange &nbsp; newvalue,oldValue 当字段值更改的时候触发。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision:</span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        prefix:'￥'<span style="color: #000000">,
        onChange:</span><span style="color: #0000ff">function</span><span style="color: #000000"> (newvalue,oldValue) {
            alert(</span>'当字段值更改的时候触发'<span style="color: #000000">);
            alert(</span>'接收改变后的值' +<span style="color: #000000"> newvalue);
            alert(</span>'接收改变前的值' +<span style="color: #000000"> oldValue);
        }
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>四．方法列表</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201704/955761-20170404214326535-1956715631.png" alt=""></strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>options &nbsp; none 返回数值输入框属性。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision:</span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        prefix:'￥'<span style="color: #000000">
    });
    alert($(</span>'#box').numberbox('options'));  <span style="color: #008000">//</span><span style="color: #008000">返回数值输入框属性对象</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>destroy &nbsp; none 销毁数值输入框对象。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision:</span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        prefix:'￥'<span style="color: #000000">
    });
    $(</span>'#box').numberbox('destroy');  <span style="color: #008000">//</span><span style="color: #008000">销毁数值输入框对象</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>disable &nbsp; none 禁用字段。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision:</span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        prefix:'￥'<span style="color: #000000">
    });
    $(</span>'#box').numberbox('disable');  <span style="color: #008000">//</span><span style="color: #008000">禁用字段</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>enable &nbsp; none 启用字段。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision:</span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        prefix:'￥'<span style="color: #000000">
    });
    $(</span>'#box').numberbox('enable');  <span style="color: #008000">//</span><span style="color: #008000">启用字段</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>fix &nbsp; none 将输入框中的值修正为有效的值。，<span style="color: #0000ff">也就是自动修正可以自定义方式</span></strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision: </span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        prefix: '￥'<span style="color: #000000">
    });
    <span style="color: #ff0000">$(document).dblclick(</span></span><span style="color: #ff0000">function () {
        $('#box').numberbox('fix');  //将输入框中的值修正为有效的值。，也就是自动修正可以自定义方式
</span><span style="color: #000000"><span style="color: #ff0000">    });</span>
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>setValue &nbsp; value 设置数值输入框的值。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision: </span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        prefix: '￥'<span style="color: #000000">
    });
    $(</span>'#box').numberbox('setValue',800);  <span style="color: #008000">//</span><span style="color: #008000">设置数值输入框的值。</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>getValue &nbsp; none 获取数值输入框的值。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision: </span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        prefix: '￥'<span style="color: #000000">
    });
    alert($(</span>'#box').numberbox('getValue'));  <span style="color: #008000">//</span><span style="color: #008000">获取数值输入框的值</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>clear &nbsp; none 清除数值输入框的值。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision: </span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        prefix: '￥'<span style="color: #000000">
    });
    $(</span>'#box').numberbox('clear');  <span style="color: #008000">//</span><span style="color: #008000">清除数值输入框的值</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>reset &nbsp; none 重置数值输入框的值。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).numberbox({
        precision: </span>2,                <span style="color: #008000">//</span><span style="color: #008000">小数点后面保留几位</span>
        prefix: '￥'<span style="color: #000000">
    });
    $(</span>'#box').numberbox('reset');  <span style="color: #008000">//</span><span style="color: #008000">重置数值输入框的值</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>我们可以使用$.fn.numberbox.defaults 重写默认值对象。</strong></span></p>
<p>&nbsp;</p></div>