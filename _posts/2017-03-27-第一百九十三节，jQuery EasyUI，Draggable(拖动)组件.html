第一百九十三节，jQuery EasyUI，Draggable(拖动)组件


			<div id="cnblogs_post_body" class="blogpost-body"><p><strong>Draggable(拖动)组件</strong></p>
<p>&nbsp;<img src="https://images2015.cnblogs.com/blog/955761/201703/955761-20170328155318951-1572022338.png" alt=""></p>
<p><strong>学习要点： </strong></p>
<p><strong>　　1.加载方式 </strong></p>
<p><strong>　　2.属性列表 </strong></p>
<p><strong>　　3.事件列表 </strong></p>
<p><strong>　　4.方法列表</strong></p>
<p>&nbsp;</p>
<p><strong>本节课重点了解 EasyUI 中 Draggable(拖动)组件的使用方法，这个组件不依赖于其 他组件。</strong></p>
<p>&nbsp;</p>
<p><strong>一．加载方式</strong></p>
<div class="cnblogs_code">
<pre><span style="color: #000000">//class 加载方式
</span><span style="color: #0000ff">&lt;</span><span style="color: #800000">div </span><span style="color: #ff0000">id</span><span style="color: #0000ff">="box"</span><span style="color: #ff0000"> class</span><span style="color: #0000ff">="easyui-draggable" </span><span style="color: #ff0000">style</span><span style="color: #0000ff">="width:400px;height:200px;background:red;"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
　　内容部分
</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span></pre>
</div>
<div class="cnblogs_code">
<pre><span style="color: #000000">//JS 加载调用
$('#box').draggable();</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>draggable()将一个元素实行拖拽方法，接收一个对象，对象里是属性</strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>二．属性列表</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201703/955761-20170327173330514-1933390576.png" alt=""></strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>revert false/boolean 设置为 true，则拖动停止时返回起始位置，<span style="color: #0000ff"><strong>拖动停止时返回起始位置</strong></span></strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({
        revert:</span>'true'         <span style="color: #008000">//</span><span style="color: #008000">拖动停止时返回起始位置</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>cursor move/string 拖动时的 CSS 指针样式，<span style="color: #0000ff"><strong>拖动时的 CSS 鼠标指针样式</strong></span></strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({
        </span><span style="color: #008000">//</span><span style="color: #008000"> revert:'true'         //拖动停止时返回起始位置</span>
        cursor:'move'            <span style="color: #008000">//</span><span style="color: #008000">拖动时的 CSS 鼠标指针样式</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>Proxy null/string、function当使用'clone'，则克隆一个替代元素拖动。如果指定一个函数，则自定义替代元素。</strong>&nbsp;<span style="color: #0000ff"><strong>克隆元素拖动</strong></span></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({
        </span><span style="color: #008000">//</span><span style="color: #008000"> revert:'true'         //拖动停止时返回起始位置</span>
        <span style="color: #008000">//</span><span style="color: #008000"> handle:'#pox'         //就是设置拖动元素里指定的元素才可以拖动，值为可拖动元素的id</span>
        <span style="color: #008000">//</span><span style="color: #008000"> disabled:true            //禁止拖动</span>
        <span style="color: #008000">//</span><span style="color: #008000"> edge:20                  //设置可拖动区域在区块里的宽度，相当于css的外边距</span>
        <span style="color: #008000">//</span><span style="color: #008000"> axis:'h'                    //设置拖动为垂直'v'，还是水平'h'</span>
        proxy: <span style="color: #0000ff">function</span><span style="color: #000000"> (source) {
            </span><span style="color: #0000ff">var</span> p = $('&lt;div style="border:1px solid #ccc; width:400px; height:200px;"&gt;&lt;/div&gt;'<span style="color: #000000">);
            p.html($(source).html()).appendTo(</span>'body'<span style="color: #000000">);
            </span><span style="color: #0000ff">return</span><span style="color: #000000"> p;
        }
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({
        </span><span style="color: #008000">//</span><span style="color: #008000"> revert:'true'         //拖动停止时返回起始位置</span>
        <span style="color: #008000">//</span><span style="color: #008000"> handle:'#pox'         //就是设置拖动元素里指定的元素才可以拖动，值为可拖动元素的id</span>
        <span style="color: #008000">//</span><span style="color: #008000"> disabled:true            //禁止拖动</span>
        <span style="color: #008000">//</span><span style="color: #008000"> edge:20                  //设置可拖动区域在区块里的宽度，相当于css的外边距</span>
        <span style="color: #008000">//</span><span style="color: #008000"> axis:'h'                    //设置拖动为垂直'v'，还是水平'h'</span>
        Proxy:'clone',      <span style="color: #008000">//</span><span style="color: #008000">克隆元素拖动</span>
        deltaX:20,          <span style="color: #008000">//</span><span style="color: #008000">拖动时鼠标在元素的x位置</span>
        deltaY:20           <span style="color: #008000">//</span><span style="color: #008000">拖动时鼠标在元素的y位置</span>
        <span style="color: #008000">//</span><span style="color: #008000">以上3个一搬配合使用</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>deltaX null/number 被拖动的元素对应于当前光标位置 x &nbsp;，<span style="color: #0000ff">拖动时鼠标在元素的x位置</span></strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({
        </span><span style="color: #008000">//</span><span style="color: #008000"> revert:'true'         //拖动停止时返回起始位置</span>
        <span style="color: #008000">//</span><span style="color: #008000"> handle:'#pox'         //就是设置拖动元素里指定的元素才可以拖动，值为可拖动元素的id</span>
        <span style="color: #008000">//</span><span style="color: #008000"> disabled:true            //禁止拖动</span>
        <span style="color: #008000">//</span><span style="color: #008000"> edge:20                  //设置可拖动区域在区块里的宽度，相当于css的外边距</span>
        <span style="color: #008000">//</span><span style="color: #008000"> axis:'h'                    //设置拖动为垂直'v'，还是水平'h'</span>
        Proxy:'clone',      <span style="color: #008000">//</span><span style="color: #008000">克隆元素拖动</span>
        deltaX:20,          <span style="color: #008000">//</span><span style="color: #008000">拖动时鼠标在元素的x位置</span>
        deltaY:20           <span style="color: #008000">//</span><span style="color: #008000">拖动时鼠标在元素的y位置</span>
        <span style="color: #008000">//</span><span style="color: #008000">以上3个一搬配合使用</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>deltaY null/number 被拖动的元素对应于当前光标位置 y，<span style="color: #0000ff"><strong>拖动时鼠标在元素的y位置</strong></span></strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({
        </span><span style="color: #008000">//</span><span style="color: #008000"> revert:'true'         //拖动停止时返回起始位置</span>
        <span style="color: #008000">//</span><span style="color: #008000"> handle:'#pox'         //就是设置拖动元素里指定的元素才可以拖动，值为可拖动元素的id</span>
        <span style="color: #008000">//</span><span style="color: #008000"> disabled:true            //禁止拖动</span>
        <span style="color: #008000">//</span><span style="color: #008000"> edge:20                  //设置可拖动区域在区块里的宽度，相当于css的外边距</span>
        <span style="color: #008000">//</span><span style="color: #008000"> axis:'h'                    //设置拖动为垂直'v'，还是水平'h'</span>
        Proxy:'clone',      <span style="color: #008000">//</span><span style="color: #008000">克隆元素拖动</span>
        deltaX:20,          <span style="color: #008000">//</span><span style="color: #008000">拖动时鼠标在元素的x位置</span>
        deltaY:20           <span style="color: #008000">//</span><span style="color: #008000">拖动时鼠标在元素的y位置</span>
        <span style="color: #008000">//</span><span style="color: #008000">以上3个一搬配合使用</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>handle null/selector 开始拖动的句柄，<span style="color: #0000ff">就是设置拖动元素里指定的元素才可以拖动，值为可拖动元素的id</span></strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({
        </span><span style="color: #008000">//</span><span style="color: #008000"> revert:'true'         //拖动停止时返回起始位置</span>
        handle:'#pox'            <span style="color: #008000">//</span><span style="color: #008000">就是设置拖动元素里指定的元素才可以拖动，值为可拖动元素的id</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>disabled false/boolean 设置为 true，则停止拖动，<span style="color: #0000ff">禁止拖动</span></strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({
        </span><span style="color: #008000">//</span><span style="color: #008000"> revert:'true'         //拖动停止时返回起始位置</span>
        <span style="color: #008000">//</span><span style="color: #008000"> handle:'#pox'         //就是设置拖动元素里指定的元素才可以拖动，值为可拖动元素的id</span>
        disabled:<span style="color: #0000ff">true</span>            <span style="color: #008000">//</span><span style="color: #008000">禁止拖动</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>edge 0/number 可以在其中拖动的容器的宽度，<span style="color: #0000ff">设置可拖动区域在区块里的宽度，相当于css的外边距，如设置20，则区块上下左右20px的范围不可以拖动</span></strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({
        </span><span style="color: #008000">//</span><span style="color: #008000"> revert:'true'         //拖动停止时返回起始位置</span>
        <span style="color: #008000">//</span><span style="color: #008000"> handle:'#pox'         //就是设置拖动元素里指定的元素才可以拖动，值为可拖动元素的id</span>
        <span style="color: #008000">//</span><span style="color: #008000"> disabled:true            //禁止拖动</span>
        edge:20                  <span style="color: #008000">//</span><span style="color: #008000">设置可拖动区域在区块里的宽度，相当于css的外边距</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>axis null/string 设置拖动为垂直'v'，还是水平'h'，<span style="color: #0000ff"><strong>设置拖动为垂直'v'，还是水平'h'</strong></span></strong></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({
        </span><span style="color: #008000">//</span><span style="color: #008000"> revert:'true'         //拖动停止时返回起始位置</span>
        <span style="color: #008000">//</span><span style="color: #008000"> handle:'#pox'         //就是设置拖动元素里指定的元素才可以拖动，值为可拖动元素的id</span>
        <span style="color: #008000">//</span><span style="color: #008000"> disabled:true            //禁止拖动</span>
        <span style="color: #008000">//</span><span style="color: #008000"> edge:20                  //设置可拖动区域在区块里的宽度，相当于css的外边距</span>
        axis:'h'                    <span style="color: #008000">//</span><span style="color: #008000">设置拖动为垂直'v'，还是水平'h'</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>三．事件列表</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201703/955761-20170328144830529-607585665.png" alt=""></strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>onBeforeDrag e 拖动之前触发，返回 false 将取消拖动</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({
        onBeforeDrag:</span><span style="color: #0000ff">function</span> (e) {      <span style="color: #008000">//</span><span style="color: #008000"> 拖动之前触发，返回 false 将取消拖动</span>
            alert('拖动之前触发'<span style="color: #000000">);
            </span><span style="color: #0000ff">return</span> <span style="color: #0000ff">false</span><span style="color: #000000">;
        }
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>onStartDrag e 拖动开始时触发</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({
        onStartDrag: </span><span style="color: #0000ff">function</span><span style="color: #000000"> (e) {
            alert(</span>'拖动开始时触发'<span style="color: #000000">);
        }
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>onDrag e 拖动过程中触发，不能拖动时返回 false</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({
        onDrag: </span><span style="color: #0000ff">function</span><span style="color: #000000"> (e) {
            alert(</span>'拖动过程中触发，不能拖动时返回 false'<span style="color: #000000">);
        }
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>onStopDrag e 拖动停止时触发</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({
        onStopDrag: </span><span style="color: #0000ff">function</span><span style="color: #000000"> (e) {
            alert(</span>'拖动停止时触发'<span style="color: #000000">);
        }
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>四．方法列表</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201703/955761-20170328150137779-2117609347.png" alt=""></strong></span></p>
<p><span style="color: #ff0000"><strong>options &nbsp;none 返回属性对象</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({
        revert:</span>'true'         <span style="color: #008000">//</span><span style="color: #008000">拖动停止时返回起始位置</span>
<span style="color: #000000">    });
    </span><span style="color: #008000">//</span><span style="color: #008000"> $('#box').draggable('disable');     //disable  none 禁止拖动</span>
    <span style="color: #008000">//</span><span style="color: #008000"> $('#box').draggable('enable');      //enable  none 允许拖动</span>
    alert($('#box').draggable('options'));  <span style="color: #008000">//</span><span style="color: #008000">返回属性对象</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><br><span style="color: #ff0000"><strong>proxy &nbsp;none 如果代理属性被设置则返回该拖动代理元素</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({
        onStartDrag: </span><span style="color: #0000ff">function</span><span style="color: #000000"> (e) {
            alert($(</span>'#box').draggable('proxy'<span style="color: #000000">));
        }
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><br><span style="color: #ff0000"><strong>enable &nbsp;none 允许拖动</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({

    });
    $(</span>'#box').draggable('disable');     <span style="color: #008000">//</span><span style="color: #008000">disable  none 禁止拖动</span>
    $('#box').draggable('enable');      <span style="color: #008000">//</span><span style="color: #008000">enable  none 允许拖动</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>disable &nbsp;none 禁止拖动</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).draggable({

    });
    $(</span>'#box').draggable('disable');     <span style="color: #008000">//</span><span style="color: #008000">disable  none 禁止拖动</span>
    $('#box').draggable('enable');      <span style="color: #008000">//</span><span style="color: #008000">enable  none 允许拖动</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>$.fn.draggable.defaults 重写默认值对象</strong></span></p>
<p><strong>PS：我们可以使用$.fn.draggable.defaults 重写默认值对象。</strong></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $.fn.draggable.defaults.cursor </span>= 'text';   <span style="color: #008000">//</span><span style="color: #008000">重写默认值对象,重写后以后的拖动都是这个默认鼠标指针</span>
<span style="color: #000000">    
    $(</span>'#box'<span style="color: #000000">).draggable({

    });
});</span></pre>
</div>
<p>&nbsp;</p></div>