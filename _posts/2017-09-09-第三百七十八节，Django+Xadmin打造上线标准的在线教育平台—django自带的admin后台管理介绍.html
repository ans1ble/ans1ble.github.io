第三百七十八节，Django+Xadmin打造上线标准的在线教育平台—django自带的admin后台管理介绍


			<div id="cnblogs_post_body" class="blogpost-body"><p><strong>第三百七十八节，Django+Xadmin打造上线标准的在线教育平台—django自带的admin后台管理介绍</strong></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>配置django的admin数据库管理后台</strong></span></p>
<p><strong>首先urls.py配置数据库后台路由映射,一般这个路由映射在生成项目的时候已经生成了</strong></p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div>
<pre>from django.conf.urls import url
<span style="background-color: #ff99cc">from django.contrib import admin</span>
from app1 import views

urlpatterns = [
   <span style="background-color: #ff99cc"> url(r'admin/', admin.site.urls),   #路由映射admin数据库管理</span>
    url(r'articles/', views.special)     #路由映射第三个参数，额外传参，字典方式，逻辑处理函数以参数方式接收字典键
]</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div>
</div>
<p><strong>然后在PyCharm终端输入命令&nbsp;<span style="color: #0000ff">Python manage.py createsuperuser</span></strong></p>
<p><strong>1、设置用户名</strong></p>
<p><strong>2、设置邮箱</strong></p>
<p><strong>3、设置密码，8位以上，不能纯数字</strong></p>
<p><strong>4、确认密码</strong></p>
<p><strong><img src="https://images2017.cnblogs.com/blog/955761/201709/955761-20170909194844272-498420013.png" alt=""></strong></p>
<p>&nbsp;</p>
<p class="postTitle"><strong><span style="font-size: medium">然后用刚才设置的用户名和密码登录</span></strong></p>
<p class="postTitle"><img src="https://images2017.cnblogs.com/blog/955761/201709/955761-20170909195151538-1606551925.png" alt=""></p>
<p><strong>登录后可以看到后台是英文的，我们可以设置成中文，在<span style="color: #0000ff">settings.py</span>文件配置</strong></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">#</span><span style="color: #008000"> Internationalization</span><span style="color: #008000">
#</span><span style="color: #008000"> https://docs.djangoproject.com/en/1.10/topics/i18n/</span>
<span style="background-color: #ffff00"><span style="color: #000000">
LANGUAGE_CODE </span>= <span style="color: #800000">'</span><span style="color: #800000">zh-hans</span><span style="color: #800000">'</span>       <span style="color: #008000">#</span><span style="color: #008000"> 设置自带后台admin为中文</span>
<span style="color: #000000">
TIME_ZONE </span>= <span style="color: #800000">'</span><span style="color: #800000">Asia/Shanghai</span><span style="color: #800000">'</span>     <span style="color: #008000">#</span><span style="color: #008000"> 设置系统时间为上海时间</span></span>
<span style="color: #000000">
USE_I18N </span>=<span style="color: #000000"> True

USE_L10N </span>=<span style="color: #000000"> True

<span style="background-color: #ffff00">USE_TZ </span></span><span style="background-color: #ffff00">= False                  <span style="color: #008000">#</span><span style="color: #008000"> 设置数据库写入时间，不用国际时间</span></span></pre>
</div>
<p><img src="https://images2017.cnblogs.com/blog/955761/201709/955761-20170909195627335-1369301354.png" alt=""></p>
<p><span style="color: #ff0000"><strong>将数据库的表注册到admin页面显示</strong></span></p>
<p><span style="color: #000000"><strong>默认，admin页面只注册了Django系统生成的用户表，所以我们只能看到这张表，我们自定义的数据库表，需要在对应的<span style="color: #0000ff">app</span>的<span style="color: #0000ff">admin.py</span>文件里注册表到admin页面才能显示</strong></span></p>
<p>&nbsp;</p>
<p><strong><span style="color: #0000ff">admin.site.register(参数是数据库操作表的类)</span>，注册数据库表到admin页面显示，参数是models.py里操作数据库表的类</strong></p>
<p><span style="color: #0000ff"><strong><strong>admin.py</strong></strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">from</span> django.contrib <span style="color: #0000ff">import</span><span style="color: #000000"> admin

</span><span style="color: #0000ff">from</span> app_courses.models <span style="color: #0000ff">import</span><span style="color: #000000"> Course


</span><span style="color: #0000ff">class</span> CourseAdmin(admin.ModelAdmin):    <span style="color: #008000">#</span><span style="color: #008000"> 自定义一个类继承admin.ModelAdmin类，设置一个表的管理器</span>
    <span style="color: #0000ff">pass</span><span style="color: #000000">

admin.site.register(Course)             </span><span style="color: #008000">#</span><span style="color: #008000"> 注册数据库到admin后台显示，参数是models.py里操作数据库表的类</span></pre>
</div>
<p>&nbsp;</p></div>