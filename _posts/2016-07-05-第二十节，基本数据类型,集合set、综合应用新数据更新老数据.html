第二十节，基本数据类型,集合set、综合应用新数据更新老数据


			<div id="cnblogs_post_body" class="blogpost-body"><p><strong>基本数据类型,集合set、综合应用新数据更新老数据</strong></p>
<p>创建两个字典<br />新数据，更新原始数据，a为原始数据，b为新数据</p>
<p>1，分别获取到a字典和b字典的key(键)，将两个字典的键分别转换成两个集合</p>
<p>2，找出a2集合里存在，b2集合里不存在的元素,得到:{'#2', '#3'}（需要删除：？）</p>
<p>3，找出b2集合里存在，a2集合里不存在的元素,得到:{'#4', '#7'}（需要新建：？）</p>
<p>4，找出a2集合和b2集合有交集的元素，也就是a2集合和b2集合都存在的元素,得到:{'#1'}（需要更新：？）</p>
<p>5，在原始数据里（将原始数据有的，新数据没有的删除）</p>
<p>6，在原始数据里（将新数据有的，原始数据没有的追加进去）</p>
<p>7，在原始数据里（原始数据和新数据都有的，将新数据的值更新到原始数据里）</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;"> -*- coding:utf-8 -*-</span><span style="color: #008000;">
#</span><span style="color: #008000;">创建两个字典</span><span style="color: #008000;">
#</span><span style="color: #008000;">新数据，更新原始数据，a为原始数据，b为新数据</span>
a =<span style="color: #000000;"> {
    </span><span style="color: #800000;">"</span><span style="color: #800000;">#1</span><span style="color: #800000;">"</span>:11<span style="color: #000000;">,
    </span><span style="color: #800000;">"</span><span style="color: #800000;">#2</span><span style="color: #800000;">"</span>:22<span style="color: #000000;">,
    </span><span style="color: #800000;">"</span><span style="color: #800000;">#3</span><span style="color: #800000;">"</span>:100<span style="color: #000000;">
}
</span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">原始数据</span><span style="color: #800000;">"</span><span style="color: #000000;">,a)
b </span>=<span style="color: #000000;"> {
    </span><span style="color: #800000;">"</span><span style="color: #800000;">#1</span><span style="color: #800000;">"</span>:33<span style="color: #000000;">,
    </span><span style="color: #800000;">"</span><span style="color: #800000;">#4</span><span style="color: #800000;">"</span>:22<span style="color: #000000;">,
    </span><span style="color: #800000;">"</span><span style="color: #800000;">#7</span><span style="color: #800000;">"</span>:100<span style="color: #000000;">
}
</span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">新的数据</span><span style="color: #800000;">"</span><span style="color: #000000;">,b)
</span><span style="color: #008000;">#</span><span style="color: #008000;">取出a字典里的key(键)，得到:dict_keys(['#1', '#2', '#3'])</span>
a1 =<span style="color: #000000;"> a.keys()
</span><span style="color: #008000;">#</span><span style="color: #008000;">将a1得到的键转换成集合,得到:{'#3', '#2', '#1'}</span>
a2 =<span style="color: #000000;"> set(a1)

</span><span style="color: #008000;">#</span><span style="color: #008000;">取出b字典里的key(键)，得到:dict_keys(['#4', '#1', '#7'])</span>
b1 =<span style="color: #000000;"> b.keys()
</span><span style="color: #008000;">#</span><span style="color: #008000;">将b1得到的键转换成集合,得到:{'#7', '#4', '#1'}</span>
b2 =<span style="color: #000000;"> set(b1)

</span><span style="color: #008000;">#</span><span style="color: #008000;">找出a2集合里存在，b2集合里不存在的元素,得到:{'#2', '#3'}（需要删除：？）</span>
a3 =<span style="color: #000000;"> a2.difference(b2)
</span><span style="color: #008000;">#</span><span style="color: #008000;">找出b2集合里存在，a2集合里不存在的元素,得到:{'#4', '#7'}（需要新建：？）</span>
b3 =<span style="color: #000000;"> b2.difference(a2)
</span><span style="color: #008000;">#</span><span style="color: #008000;">找出a2集合和b2集合有交集的元素，也就是a2集合和b2集合都存在的元素,得到:{'#1'}（需要更新：？）</span>
c =<span style="color: #000000;"> a2.intersection(b2)

</span><span style="color: #008000;">#</span><span style="color: #008000;">删除原始数据，需要删除的</span><span style="color: #008000;">
#</span><span style="color: #008000;">a3集合里的是需要删除的</span>
<span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span><span style="color: #000000;"> a3:
    </span><span style="color: #008000;">#</span><span style="color: #008000;">a3集合里每次循环到的作为a字典的键，删除此键元素</span>
    <span style="color: #0000ff;">del</span><span style="color: #000000;"> a[i]
</span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">\n</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">删除原始数据里面，新数据不存在的</span><span style="color: #800000;">"</span><span style="color: #000000;">,a)

</span><span style="color: #008000;">#</span><span style="color: #008000;">新建原始数据，需要新建的</span><span style="color: #008000;">
#</span><span style="color: #008000;">b3集合里的是需要新建的</span>
<span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span><span style="color: #000000;"> b3:
    </span><span style="color: #008000;">#</span><span style="color: #008000;">将b3集合里循环到的重新赋值给一个变量</span>
    j1 =<span style="color: #000000;"> i
    </span><span style="color: #008000;">#</span><span style="color: #008000;">将b3集合里循环的的作为b字典的键，获取到此键对应的值，重新赋值给一个变量</span>
    j2 =<span style="color: #000000;"> b[i]
    </span><span style="color: #008000;">#</span><span style="color: #008000;">将新的元素追加到a字典</span>
    a[j1] =<span style="color: #000000;"> j2
</span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">新数据里面有，原始数据里面没有的，添加到原始数据</span><span style="color: #800000;">"</span><span style="color: #000000;">,a)

</span><span style="color: #008000;">#</span><span style="color: #008000;">更新原始数据，需要更新的</span><span style="color: #008000;">
#</span><span style="color: #008000;">c集合里的就是需要更新的</span>
<span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span><span style="color: #000000;"> c:
    g </span>=<span style="color: #000000;"> i
    a[g] </span>=<span style="color: #000000;"> b[g]
</span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">原始数据里有，新数据里也有的，将新数据更新到原始数据</span><span style="color: #800000;">"</span>,a)</pre>
</div>
<p>&nbsp;</p></div>