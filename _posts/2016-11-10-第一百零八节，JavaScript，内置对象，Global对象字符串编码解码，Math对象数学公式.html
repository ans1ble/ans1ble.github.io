第一百零八节，JavaScript，内置对象，Global对象字符串编码解码，Math对象数学公式


			<div id="cnblogs_post_body" class="blogpost-body"><p><span style="color: #0000ff"><strong><span style="font-size: 18pt">JavaScript，内置对象，Global对象字符串编码解码，Math对象数学公式</span></strong></span></p>
<p>&nbsp;</p>
<p align="left"><strong>学习要点：</strong></p>
<p>&nbsp;</p>
<p align="left"><strong>1.Global对象</strong></p>
<p>&nbsp;</p>
<p align="left"><strong>2.Math对象</strong></p>
<p align="left">&nbsp;</p>
<p><strong>ECMA-262对内置对象的定义是：“由ECMAScript实现提供的、不依赖宿主环境的对象，这些对象在ECMAScript程序执行之前就已经存在了。”意思就是说，开发人员不必显示地实例化内置对象；因为它们已经实例化了。ECMA-262只定义了两个内置对象：Global和Math。</strong></p>
<p><span style="color: #ff0000"><strong>一．</strong><strong>Global</strong><strong>对象</strong></span></p>
<p align="left"><strong>Global(全局)对象是ECMAScript中一个特别的对象，因为这个对象是不存在的。在ECMAScript中不属于任何其他对象的属性和方法，全局都属于它的属性和方法。所以，事实上，并不存在全局变量和全局函数；所有在全局作用域定义的变量和函数，都是Global对象的属性和方法。</strong></p>
<p align="left"><strong>PS：因为ECMAScript没有定义怎么调用Global对象，所以，Global.属性或者Global.方法()都是无效的。(Web浏览器将Global作为window对象的一部分加以实现)</strong></p>
<p align="left">&nbsp;</p>
<p align="left"><span style="color: #ff0000"><strong>Global对象有一些内置的属性和方法：</strong></span></p>
<p align="left"><span style="color: #ff0000"><strong>1.URI编码方法</strong></span></p>
<p align="left"><strong>URI编码可以对链接进行编码，以便发送给浏览器。<span style="color: #0000ff">它们采用特殊的UTF-8编码替换所有无效字符</span>，从而让浏览器能够接受和理解。</strong></p>
<p align="left"><strong>encodeURI()不会对本身属于URI的特殊字符进行编码，例如冒号、正斜杠、问号和#号；而encodeURIComponent()则会对它发现的任何非标准字符进行编码</strong></p>
<p align="left"><span style="color: #ff0000"><strong><strong>encodeURI()<strong>URI</strong>字符编码，不会对本身属于URI的特殊字符进行编码,有参要编码的<strong><strong><strong>URI字符</strong></strong></strong></strong></strong></span></p>
<p align="left"><span style="color: #0000ff"><strong><strong>比如浏览器地址输入框就采用了这个编码</strong></strong></span></p>
<p align="left"><span style="color: #0000ff"><strong><strong>注意：<strong><strong>encodeURI()编码的必须用<strong>decodeURI()解码</strong></strong></strong></strong></strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">var</span> box = '//Lee李'<span style="color: #000000">;
alert(encodeURI(box));                        </span><span style="color: #008000">//</span><span style="color: #008000">只编码了中文</span><span style="color: #008000">
//</span><span style="color: #008000">返回//Lee%E6%9D%8E</span></pre>
</div>
<p><span style="color: #0000ff"><strong><span style="color: #ff0000">decodeURI()<strong><strong><strong>URI</strong>字符解码，<strong><strong>不会对本身属于URI的特殊字符进行解码，<strong><strong>有参要解码的<strong><strong><strong>URI字符</strong></strong></strong></strong></strong></strong></strong></strong></strong></span><br></strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">var</span> box = '//Lee李'<span style="color: #000000">;
</span><span style="color: #0000ff">var</span> box2 = encodeURI(box);                        <span style="color: #008000">//</span><span style="color: #008000">只编码了中文</span>
alert(box2);   <span style="color: #008000">//</span><span style="color: #008000">打印编码后的字符，//Lee%E6%9D%8E</span>
alert(decodeURI(box2));<span style="color: #008000">//</span><span style="color: #008000">打印解码后的字符，返回//Lee李</span>

<span style="color: #0000ff">var</span> sdf = '//Lee%E6%9D%8E'<span style="color: #000000">;
alert(decodeURI(sdf));</span><span style="color: #008000">//</span><span style="color: #008000">打印解码后的字符，返回//Lee李</span></pre>
</div>
<p><span style="color: #ff0000"><strong>encodeURIComponent()任何非标准URI字符进行编码，包括冒号、正斜杠、问号和#号，有参要编码的URI字符</strong></span></p>
<p><span style="color: #0000ff"><strong><strong><strong>注意：<strong>encodeURIComponent()</strong><strong><strong>编码的必须用<strong>decodeURIComponent()</strong><strong>解码</strong></strong></strong></strong></strong></strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">var</span> box = '//Lee李'<span style="color: #000000">;
</span><span style="color: #0000ff">var</span> box2 = encodeURIComponent(box);                        <span style="color: #008000">//</span><span style="color: #008000">任何非标准URI字符进行编码，包括冒号、正斜杠、问号和#号</span>
alert(box2);   <span style="color: #008000">//</span><span style="color: #008000">打印编码后的字符，%2F%2FLee%E6%9D%8E</span></pre>
</div>
<p><span style="color: #ff0000"><strong>decodeURIComponent()URI字符进行解码，有参要解码的URI字符</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">var</span> box = '//Lee李'<span style="color: #000000">;
</span><span style="color: #0000ff">var</span> box2 = encodeURIComponent(box);                        <span style="color: #008000">//</span><span style="color: #008000">任何非标准URI字符进行编码，包括冒号、正斜杠、问号和#号</span>
alert(box2);   <span style="color: #008000">//</span><span style="color: #008000">打印编码后的字符，%2F%2FLee%E6%9D%8E</span>
alert(decodeURIComponent(box2));<span style="color: #008000">//</span><span style="color: #008000">解码返回，//Lee李</span>

<span style="color: #0000ff">var</span> sdf = '%2F%2FLee%E6%9D%8E'<span style="color: #000000">;
alert(decodeURIComponent(sdf));</span><span style="color: #008000">//</span><span style="color: #008000">解码返回，//Lee李</span></pre>
</div>
<p align="left"><strong>PS：因为encodeURIComponent()编码比encodeURI()编码来的更加彻底，一般来说encodeURIComponent()使用频率要高一些。</strong></p>
<p align="left"><strong>PS：URI方法如上所述的四种，用于代替已经被ECMA-262第3版废弃的escape()和unescape()方法。URI方法能够编码所有的Unicode字符，而原来的只能正确地编码ASCII字符。所以建议不要再使用escape()和unescape()方法。</strong></p>
<p align="left">&nbsp;</p>
<p align="left"><span style="color: #ff0000"><strong>2.eval()方法</strong></span></p>
<p align="left"><span style="color: #ff0000"><strong>eval()方法主要担当一个字符串解析器的作用，他只接受一个参数，而这个参数就是字符串类型的js代码，也就是可以解析字符串类型的js代码</strong></span></p>
<div class="cnblogs_code">
<pre>eval('var box = 100');                        <span style="color: #008000">//</span><span style="color: #008000">解析了字符串代码</span>
<span style="color: #000000">alert(box);
eval(</span>'alert(100)');                            <span style="color: #008000">//</span><span style="color: #008000">同上</span>
<span style="color: #000000">
eval(</span>'function box() {return 123}');            <span style="color: #008000">//</span><span style="color: #008000">函数也可以</span>
alert(box());</pre>
</div>
<p align="left"><strong>eval()方法的功能非常强大，但也非常危险。因此使用的时候必须极为谨慎。特别是在用户输入数据的情况下，非常有可能导致程序的安全性，比如代码注入等等。</strong></p>
<p align="left">&nbsp;</p>
<p align="left"><span style="color: #ff0000"><strong>3.Global对象属性</strong></span></p>
<p align="left"><strong>Global对象包含了一些属性：undefined、NaN、Object、Array、Function等等。</strong></p>
<div class="cnblogs_code">
<pre>alert(Array);                                <span style="color: #008000">//</span><span style="color: #008000">返回构造函数</span></pre>
</div>
<p>&nbsp;</p>
<p align="left"><span style="color: #ff0000"><strong>1.window对象</strong></span></p>
<p align="left"><strong>之前已经说明，Global没有办法直接访问，而Web浏览器可以使用window对象来实现一全局访问。</strong></p>
<div class="cnblogs_code">
<pre>alert(window.Array);                        <span style="color: #008000">//</span><span style="color: #008000">同上</span></pre>
</div>
<p>&nbsp;</p>
<p align="left"><span style="color: #ff0000"><strong>二．</strong><strong>Math</strong><strong>对象</strong></span></p>
<p align="left"><strong>ECMAScript还为保存数学公式和信息提供了一个对象，即Math对象。与我们在JavaScript直接编写计算功能相比，Math对象提供的计算功能执行起来要快得多。</strong></p>
<p align="left"><span style="color: #ff0000"><strong>1.Math对象的属性</strong></span></p>
<p align="left"><strong>Math对象包含的属性大都是数学计算中可能会用到的一些特殊值。</strong></p>
<p align="left">&nbsp;</p>
<div align="center">
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td width="253">
<p align="center"><strong>属&nbsp; 性</strong></p>
</td>
<td width="253">
<p align="center"><strong>说&nbsp; 明</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.E</strong></p>
</td>
<td width="253">
<p align="center"><strong>自然对数的底数，即常量e的值</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.LN10</strong></p>
</td>
<td width="253">
<p align="center"><strong>10的自然对数</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.LN2</strong></p>
</td>
<td width="253">
<p align="center"><strong>2的自然对数</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.LOG2E</strong></p>
</td>
<td width="253">
<p align="center"><strong>以2为底e的对数</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.LOG10E</strong></p>
</td>
<td width="253">
<p align="center"><strong>以10为底e的对数</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.PI</strong></p>
</td>
<td width="253">
<p align="center"><strong>∏的值</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.SQRT1_2</strong></p>
</td>
<td width="253">
<p align="center"><strong>1/2的平方根</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.SQRT2</strong></p>
</td>
<td width="253">
<p align="center"><strong>2的平方根</strong></p>
</td>
</tr>
</tbody>
</table>
</div>
<p align="left">&nbsp;</p>
<div class="cnblogs_code">
<pre>alert(Math.E);                                <span style="color: #008000">//
</span><span style="color: #000000">alert(Math.LN10);
alert(Math.LN2);
alert(Math.LOG2E);
alert(Math.LOG10E);
alert(Math.PI);
alert(Math.SQRT1_2);
alert(Math.SQRT2);                        </span><span style="color: #008000">//</span></pre>
</div>
<p align="left">&nbsp;</p>
<p align="left"><span style="color: #ff0000"><strong>2.min()和max()方法</strong></span></p>
<p align="left"><span style="color: #ff0000"><strong>min()用于确定一组数值中的最小值</strong></span></p>
<div class="cnblogs_code">
<pre>alert(Math.min(2,4,3,6,3,8,0,1,3));                <span style="color: #008000">//</span><span style="color: #008000">最小值</span></pre>
</div>
<p align="left"><span style="color: #ff0000"><strong>max()用于确定一组数值中的最大值。</strong></span></p>
<div class="cnblogs_code">
<pre>alert(Math.max(4,7,8,3,1,9,6,0,3,2));            <span style="color: #008000">//</span><span style="color: #008000">最大值</span></pre>
</div>
<p>&nbsp;</p>
<p align="left"><span style="color: #ff0000"><strong>3.舍入方法</strong></span></p>
<p align="left"><span style="color: #ff0000"><strong>ceil()执行向上舍入，即它总是将数值向上舍入为最接近的整数；</strong></span></p>
<div class="cnblogs_code">
<pre>alert(Math.ceil(25.9));                        <span style="color: #008000">//</span><span style="color: #008000">26</span>
alert(Math.ceil(25.5));                        <span style="color: #008000">//</span><span style="color: #008000">26</span>
alert(Math.ceil(25.1));                        <span style="color: #008000">//</span><span style="color: #008000">26</span></pre>
</div>
<p align="left"><span style="color: #ff0000"><strong>floor()执行向下舍入，即它总是将数值向下舍入为最接近的整数；</strong></span></p>
<div class="cnblogs_code">
<pre>alert(Math.floor(25.9));                        <span style="color: #008000">//</span><span style="color: #008000">25</span>
alert(Math.floor(25.5));                        <span style="color: #008000">//</span><span style="color: #008000">25</span>
alert(Math.floor(25.1));                        <span style="color: #008000">//</span><span style="color: #008000">25</span></pre>
</div>
<p align="left"><span style="color: #ff0000"><strong>round()执行标准舍入，即它总是将数值四舍五入为最接近的整数；</strong></span></p>
<div class="cnblogs_code">
<pre>alert(Math.round(25.9));                        <span style="color: #008000">//</span><span style="color: #008000">26</span>
alert(Math.round(25.5));                        <span style="color: #008000">//</span><span style="color: #008000">26</span>
alert(Math.round(25.1));                        <span style="color: #008000">//</span><span style="color: #008000">25</span></pre>
</div>
<p>&nbsp;</p>
<p align="left"><span style="color: #ff0000"><strong>4.random()方法</strong></span></p>
<p align="left"><span style="color: #ff0000"><strong>random()方法返回介于0到1之间一个随机数，不包括0和1。如果想大于这个范围的话，可以套用一下公式：</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>值 = Math.floor(Math.random() * 结束范围数 + 开始范围数 - 1) =正真的结束范围数，开始范围数还是原来的</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong><strong>结束范围数 + 开始范围数 - 1 =正真的结束范围数，开始范围数还是原来的</strong></strong></span></p>
<div class="cnblogs_code">
<pre>alert(Math.floor(Math.random() * 10 + 1));        <span style="color: #008000">//</span><span style="color: #008000">结束范围数为10+开始范围数1=11，11-1=10 （1-10）的随机范围</span></pre>
</div>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">for</span> (<span style="color: #0000ff">var</span> i = 0; i&lt;10;i ++<span style="color: #000000">) {
    document.write(Math.floor(Math.random() </span>* 10 + 5));        <span style="color: #008000">//</span><span style="color: #008000">结束范围数为10+开始范围数5=15，15-1=14 （5-14）的随机范围</span>
    document.write('&lt;br /&gt;'<span style="color: #000000">);
}</span></pre>
</div>
<p align="left"><span style="color: #ff0000"><strong>为了更加方便的传递想要范围，可以写成函数【推荐】</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">function</span> selectFrom(lower, upper) {  <span style="color: #008000">//</span><span style="color: #008000">自定义随机函数，接收开始范围数和结束范围数</span>
    <span style="color: #0000ff">var</span> sum = upper - lower + 1;                    <span style="color: #008000">//</span><span style="color: #008000">结束范围数10减去开始范围数5=5,5+1=6</span>
    <span style="color: #0000ff">return</span> Math.floor(Math.random() * sum + lower);<span style="color: #008000">//</span><span style="color: #008000">（* 6 + 5）,6+5-1=10，范围就是5-10</span>
<span style="color: #000000">}

</span><span style="color: #008000">//</span><span style="color: #008000">调用上面的随机函数即可</span>
<span style="color: #0000ff">for</span> (<span style="color: #0000ff">var</span> i=0 ;i&lt;10;i++<span style="color: #000000">) {
    document.write(selectFrom(</span>5,10));                    <span style="color: #008000">//</span><span style="color: #008000">直接传递范围即可</span>
    document.write('&lt;br /&gt;'<span style="color: #000000">);
}</span></pre>
</div>
<p>&nbsp;</p>
<p align="left"><span style="color: #ff0000"><strong>5.其他方法</strong></span></p>
<div align="center">
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td width="253">
<p align="center"><strong>方&nbsp; 法</strong></p>
</td>
<td width="253">
<p align="center"><strong>说&nbsp; 明</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.abs(num)</strong></p>
</td>
<td width="253">
<p align="center"><strong>返回num的绝对值</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.exp(num)</strong></p>
</td>
<td width="253">
<p align="center"><strong>返回Math.E的num次幂</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.log(num)</strong></p>
</td>
<td width="253">
<p align="center"><strong>返回num的自然对数</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.pow(num,power)</strong></p>
</td>
<td width="253">
<p align="center"><strong>返回num的power次幂</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.sqrt(num)</strong></p>
</td>
<td width="253">
<p align="center"><strong>返回num的平方根</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.acos(x)</strong></p>
</td>
<td width="253">
<p align="center"><strong>返回x的反余弦值</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.asin(x)</strong></p>
</td>
<td width="253">
<p align="center"><strong>返回x的反正弦值</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.atan(x)</strong></p>
</td>
<td width="253">
<p align="center"><strong>返回x的反正切值</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.atan2(y,x)</strong></p>
</td>
<td width="253">
<p align="center"><strong>返回y/x的反正切值</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.cos(x)</strong></p>
</td>
<td width="253">
<p align="center"><strong>返回x的余弦值</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.sin(x)</strong></p>
</td>
<td width="253">
<p align="center"><strong>返回x的正弦值</strong></p>
</td>
</tr>
<tr>
<td width="253">
<p align="center"><strong>Math.tan(x)</strong></p>
</td>
<td width="253">
<p align="center"><strong>返回x的正切值</strong></p>
</td>
</tr>
</tbody>
</table>
</div>
<p align="left">&nbsp;</p>
<div class="cnblogs_code">
<pre>alert(Math.abs(5));<span style="color: #008000">//</span><span style="color: #008000">返回num的绝对值</span></pre>
</div>
<p><strong>其他相同</strong></p>
<p>&nbsp;</p></div>