第四百一十二节，python接口，抽象方法抽象类


			<div id="cnblogs_post_body" class="blogpost-body"><p><span style="color: #ff0000; font-size: large"><strong>Python接口</strong></span></p>
<p>&nbsp;</p>
<p><span style="font-size: large">在Python中所谓的接口，有两种，一种是通过url访问的api接口</span></p>
<p>&nbsp;</p>
<p><span style="font-size: large">一种是一个对象的接口</span></p>
<p>&nbsp;</p>
<p><span style="font-size: large">构造接口</span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">class</span><span style="color: #000000"> Ijiekou:
    </span><span style="color: #800000">"""</span><span style="color: #800000">
    定义一个约束接口
    </span><span style="color: #800000">"""</span>
    <span style="color: #0000ff">def</span><span style="color: #000000"> f1(self,nid):
        </span><span style="color: #0000ff">raise</span> Exception(<span style="color: #800000">'</span><span style="color: #800000">所有继承此接口类的类必须实现(存在)f1方法</span><span style="color: #800000">'</span><span style="color: #000000">)


</span><span style="color: #0000ff">class</span><span style="color: #000000"> oduixiang1(Ijiekou):
    </span><span style="color: #800000">"""</span><span style="color: #800000">
    继承接口实现了f1方法
    </span><span style="color: #800000">"""</span>
    <span style="color: #0000ff">def</span><span style="color: #000000"> f1(self, nid):
        </span><span style="color: #0000ff">print</span><span style="color: #000000">(nid)


</span><span style="color: #0000ff">class</span><span style="color: #000000"> oduixiang2(Ijiekou):
    </span><span style="color: #800000">"""</span><span style="color: #800000">
    继承接口没有实现f1方法
    </span><span style="color: #800000">"""</span>

<span style="color: #008000">#</span><span style="color: #008000"> 继承接口实现了f1方法</span>
obj1 =<span style="color: #000000"> oduixiang1()
obj1.f1(</span>1<span style="color: #000000">)


</span><span style="color: #008000">#</span><span style="color: #008000"> 继承接口没有实现f1方法</span>
obj2 =<span style="color: #000000"> oduixiang2(抽象方法抽象类)
obj2.f1(</span>2<span style="color: #000000">)
obj2.f1(</span>2)</pre>
</div>
<p>&nbsp;</p>
<pre><span style="color: #ff0000">&nbsp; File "H:/shipbfq/22.py", line 10, in f1</span><br><span style="color: #ff0000">&nbsp;&nbsp;&nbsp; raise Exception('所有继承此接口类的类必须实现(存在)f1方法')</span><br><span style="color: #ff0000">Exception: 所有继承此接口类的类必须实现(存在)f1方法</span></pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000; font-size: large"><strong>抽象方法抽象类</strong></span></p>
<p>&nbsp;</p>
<p><span style="font-size: large">抽象类与普通类的区别就是，抽象类里可以定义抽象方法，而抽象方法可以做约束，凡是继承抽象类、的类里、必须实现(存在)抽象方法，否则报错</span></p>
<p><span style="font-size: large">定义抽象类必须引入abc模块</span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">import</span><span style="color: #000000"> abc


</span><span style="color: #0000ff">class</span> Ijiekou(metaclass=<span style="color: #000000">abc.ABCMeta):
    </span><span style="color: #800000">"""</span><span style="color: #800000">
    定义抽象类必须设置metaclass=abc.ABCMeta
    </span><span style="color: #800000">"""</span>
    <span style="color: #0000ff">def</span><span style="color: #000000"> f1(self,nid):
        </span><span style="color: #800000">"""</span><span style="color: #800000">
        普通方法
        </span><span style="color: #800000">"""</span>
        <span style="color: #0000ff">print</span>(123<span style="color: #000000">)

    @abc.abstractmethod
    </span><span style="color: #0000ff">def</span><span style="color: #000000"> f2(self):
        </span><span style="color: #800000">"""</span><span style="color: #800000">
         抽象方法，设置抽象方法必须加装饰器@abc.abstractmethod
        </span><span style="color: #800000">"""</span>


<span style="color: #0000ff">class</span><span style="color: #000000"> oduixiang1(Ijiekou):
    </span><span style="color: #800000">"""</span><span style="color: #800000">
    继承抽象类
    </span><span style="color: #800000">"""</span>
    <span style="color: #0000ff">def</span><span style="color: #000000"> f3(self, nid):
        </span><span style="color: #0000ff">print</span><span style="color: #000000">(nid)

    </span><span style="color: #008000">#</span><span style="color: #008000"> def f2(self,nid):</span>
    <span style="color: #008000">#</span><span style="color: #008000">     """</span>
    <span style="color: #008000">#</span><span style="color: #008000">      继承了抽象类，而抽象类里有抽象方法，就必须实现抽象方法不然会报错，(约束)</span>
    <span style="color: #008000">#</span><span style="color: #008000">     """</span>
    <span style="color: #008000">#</span><span style="color: #008000">     print(456)</span>

<span style="color: #008000">#</span><span style="color: #008000"> 继承接口实现了f1方法</span>
obj1 =<span style="color: #000000"> oduixiang1()
obj1.f1(</span>1)</pre>
</div>
<p>&nbsp;</p>
<pre></pre>
<p><span style="font-size: large">报错</span></p>
<p><br><span style="font-size: large">E:\Evns\jxiou\Scripts\python.exe H:/shipbfq/22.py<br><span style="color: #ff0000">Traceback (most recent call last):<br>&nbsp; File "H:/shipbfq/22.py", 
line 37, in &lt;module&gt;<br>&nbsp;&nbsp;&nbsp; obj1 = oduixiang1()<br>TypeError: Can't 
instantiate abstract class oduixiang1 with abstract methods f2</span></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><a href="http://www.jxiou.com/" target="_blank">叫卖录音网</a><br><a href="http://www.jxiou.com/lu_yin_wang_zhan.html" target="_blank">录音网站</a></p>
<p>&nbsp;</p></div>