第二百一十一节，jQuery EasyUI，ValidateBox(验证框)组件


			<div id="cnblogs_post_body" class="blogpost-body"><p><strong>jQuery EasyUI，ValidateBox(验证框)组件</strong></p>
<p>&nbsp;<img src="https://images2015.cnblogs.com/blog/955761/201704/955761-20170404162834128-1956281540.png" alt=""></p>
<p><strong>学习要点： </strong></p>
<p><strong>　　1.加载方式 </strong></p>
<p><strong>　　2.属性列表 </strong></p>
<p><strong>　　3.方法列表 </strong></p>
<p><strong>　　4.自定义验证</strong></p>
<p>&nbsp;</p>
<p><strong>本节课重点了解 EasyUI 中 ValidateBox(验证框)组件的使用方法，这个组件依赖于 <span style="color: #0000ff">Tooltip(提示框)组件</span>。</strong></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>一．加载方式</strong></span></p>
<p><span style="color: #0000ff"><strong>class 加载方式</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">&lt;</span><span style="color: #800000">input </span><span style="color: #ff0000">id</span><span style="color: #0000ff">="email"</span><span style="color: #ff0000"> class</span><span style="color: #0000ff">="easyui-validatebox"</span><span style="color: #ff0000">
data-options</span><span style="color: #0000ff">="required:true,validType:'email'"</span> <span style="color: #0000ff">/&gt;</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>validatebox将一个输入框执行验证框方法</strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #0000ff"><strong>JS 加载调用</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span><span style="color: #000000">,
        validType: </span>'email'<span style="color: #000000">
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>二．属性列表</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201704/955761-20170403211654816-568023490.png" alt=""></strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201704/955761-20170403211702175-1080602324.png" alt=""></strong></span></p>
<p>&nbsp;</p>
<p><img src="https://images2015.cnblogs.com/blog/955761/201704/955761-20170403211746285-397546010.png" alt=""></p>
<p><span style="color: #ff0000"><strong>required boolean <span style="color: #0000ff">定义为必填字段</span>。默认为 false。<span style="color: #0000ff">不能为空</span></strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">/*</span><span style="color: #008000">*
&lt;input id="email" /&gt;
 *</span><span style="color: #008000">*/</span><span style="color: #000000">

$(</span><span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span>,      <span style="color: #008000">//</span><span style="color: #008000"> 定义为必填字段。默认为 false。不能为空</span>
        validType: 'email'<span style="color: #000000">
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>validType string,array<span style="color: #0000ff">定义字段验证类型</span>，比如：<span style="color: #0000ff">email、url、length[0,100] 、remote['url','paramname']</span>。默认值为：null。</strong></span></p>
<p>&nbsp;电子邮件验证</p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span>,      <span style="color: #008000">//</span><span style="color: #008000"> 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType: 'email'   <span style="color: #008000">//</span><span style="color: #008000">必须为电子邮件类型</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>网址验证，还必须包含http</p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span>,      <span style="color: #008000">//</span><span style="color: #008000"> 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType: 'url'   <span style="color: #008000">//</span><span style="color: #008000">网址验证，还必须包含http</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>字符串验证位数</p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span>,      <span style="color: #008000">//</span><span style="color: #008000"> 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType: 'length[5,10]'   <span style="color: #008000">//</span><span style="color: #008000">字符串验证位数</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>远程服务器验证</p>
<div class="cnblogs_code">
<pre><span style="color: #008000">/*</span><span style="color: #008000">*
&lt;input name="par" id="email" /&gt;
 *</span><span style="color: #008000">*/</span><span style="color: #000000">

$(</span><span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        </span><span style="color: #008000">//</span><span style="color: #008000"> required: true,      // 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        <span style="color: #ff0000">validType: 'remote["user.php","par"]'  //远程服务器验证,第一个参数是远程文件，第二个参数数输入框name值
        //远程返回true通过，返回false不通过</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>组合形式，用数组方式包含</p>
<div class="cnblogs_code">
<pre><span style="color: #008000">/*</span><span style="color: #008000">*
&lt;input name="par" id="email" /&gt;
 *</span><span style="color: #008000">*/</span><span style="color: #000000">

$(</span><span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        </span><span style="color: #008000">//</span><span style="color: #008000"> required: true,      // 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType: ["email","length[5,10]"]  <span style="color: #008000">//</span><span style="color: #008000">组合形式,邮件格式5值10位</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>delay number 延迟到最后验证输入值。默认值200。<span style="color: #0000ff">验证反应时间</span></strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        </span><span style="color: #008000">//</span><span style="color: #008000"> required: true,      // 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType: ["email","length[5,10]"],  <span style="color: #008000">//</span><span style="color: #008000">组合形式,邮件格式5值10位</span>
        delay:1000  <span style="color: #008000">//</span><span style="color: #008000">验证反应时间</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>missingMessage string <span style="color: #0000ff">当文本框未填写时出现的提示信息</span>。默认值：This field is required。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span>,      <span style="color: #008000">//</span><span style="color: #008000"> 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType: ["email","length[5,10]"],  <span style="color: #008000">//</span><span style="color: #008000">组合形式,邮件格式5值10位</span>
        delay:1000,  <span style="color: #008000">//</span><span style="color: #008000">验证反应时间</span>
       <span style="color: #ff0000"> missingMessage:'请输入电子邮件'    //当文本框未填写时出现的提示信息</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>invalidMessage string 当文本框的内容被验证为无效时出现的提示。默认值 null。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span>,      <span style="color: #008000">//</span><span style="color: #008000"> 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType: ["email","length[5,10]"],  <span style="color: #008000">//</span><span style="color: #008000">组合形式,邮件格式5值10位</span>
        missingMessage:'请输入电子邮件',    <span style="color: #008000">//</span><span style="color: #008000">当文本框未填写时出现的提示信息</span>
        <span style="color: #ff0000">invalidMessage:'请输入5至10位正确的电子邮件'</span><span style="color: #000000">
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>tipPosition string<span style="color: #0000ff">定义当文本框内容无效的时候提示消息显 示 的 位 置</span> ， 有 效 的 值 有 ：'left','right'。默认值 right。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span>,      <span style="color: #008000">//</span><span style="color: #008000"> 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType: ["email","length[5,10]"],  <span style="color: #008000">//</span><span style="color: #008000">组合形式,邮件格式5值10位</span>
        missingMessage:'请输入电子邮件',    <span style="color: #008000">//</span><span style="color: #008000">当文本框未填写时出现的提示信息</span>
        invalidMessage:'请输入5至10位正确的电子邮件'<span style="color: #000000">,
        tipPosition:</span>'right'<span style="color: #000000">
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>deltaX number <span style="color: #0000ff">提示框在水平方向平移</span>。默认值0。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span>,      <span style="color: #008000">//</span><span style="color: #008000"> 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType: ["email","length[5,10]"],  <span style="color: #008000">//</span><span style="color: #008000">组合形式,邮件格式5值10位</span>
        missingMessage:'请输入电子邮件',    <span style="color: #008000">//</span><span style="color: #008000">当文本框未填写时出现的提示信息</span>
        invalidMessage:'请输入5至10位正确的电子邮件'<span style="color: #000000">,
        tipPosition:</span>'right'<span style="color: #000000">,
       <span style="color: #ff0000"> deltaX:</span></span><span style="color: #ff0000">50</span><span style="color: #000000">
    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>novalidate boolean 为 true 时关闭验证功能。默认值 false。</strong></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span>,      <span style="color: #008000">//</span><span style="color: #008000"> 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType: ["email","length[5,10]"],  <span style="color: #008000">//</span><span style="color: #008000">组合形式,邮件格式5值10位</span>
        missingMessage:'请输入电子邮件',    <span style="color: #008000">//</span><span style="color: #008000">当文本框未填写时出现的提示信息</span>
        invalidMessage:'请输入5至10位正确的电子邮件'<span style="color: #000000">,
        tipPosition:</span>'right'<span style="color: #000000">,
        deltaX:</span>50<span style="color: #000000">,
        novalidate:</span><span style="color: #0000ff">true</span>     <span style="color: #008000">//</span><span style="color: #008000">true 时关闭验证功能。默认值 false。</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>三．方法列表</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201704/955761-20170403222528816-1004714103.png" alt=""></strong></span></p>
<p><span style="color: #ff0000"><strong>options &nbsp; none 返回属性列表。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span>,      <span style="color: #008000">//</span><span style="color: #008000"> 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType: ["email","length[5,10]"],  <span style="color: #008000">//</span><span style="color: #008000">组合形式,邮件格式5值10位</span>
        missingMessage:'请输入电子邮件',    <span style="color: #008000">//</span><span style="color: #008000">当文本框未填写时出现的提示信息</span>
        invalidMessage:'请输入5至10位正确的电子邮件'<span style="color: #000000">
    });
    alert($(</span>'#email').validatebox('options'));  <span style="color: #008000">//</span><span style="color: #008000">返回属性对象</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>destroy &nbsp; none 移除并销毁组件。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span>,      <span style="color: #008000">//</span><span style="color: #008000"> 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType: ["email","length[5,10]"],  <span style="color: #008000">//</span><span style="color: #008000">组合形式,邮件格式5值10位</span>
        missingMessage:'请输入电子邮件',    <span style="color: #008000">//</span><span style="color: #008000">当文本框未填写时出现的提示信息</span>
        invalidMessage:'请输入5至10位正确的电子邮件'<span style="color: #000000">
    });
    $(</span>'#email').validatebox('destroy');  <span style="color: #008000">//</span><span style="color: #008000">移除并销毁组件</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>validate &nbsp; none 验证文本框的内容是否有效。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span>,      <span style="color: #008000">//</span><span style="color: #008000"> 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType: ["email","length[5,10]"],  <span style="color: #008000">//</span><span style="color: #008000">组合形式,邮件格式5值10位</span>
        missingMessage:'请输入电子邮件',    <span style="color: #008000">//</span><span style="color: #008000">当文本框未填写时出现的提示信息</span>
        invalidMessage:'请输入5至10位正确的电子邮件'<span style="color: #000000">
    });
    alert($(</span>'#email').validatebox('validate'));  <span style="color: #008000">//</span><span style="color: #008000">验证文本框的内容是否有效</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>isValid &nbsp; none调用 validate 方法并且返回验证结果，true 或者 false。<span style="color: #0000ff">一般用这个</span></strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span>,      <span style="color: #008000">//</span><span style="color: #008000"> 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType: ["email","length[5,10]"],  <span style="color: #008000">//</span><span style="color: #008000">组合形式,邮件格式5值10位</span>
        missingMessage:'请输入电子邮件',    <span style="color: #008000">//</span><span style="color: #008000">当文本框未填写时出现的提示信息</span>
        invalidMessage:'请输入5至10位正确的电子邮件'<span style="color: #000000">
    });
    <span style="color: #0000ff">alert($(</span></span><span style="color: #0000ff">'#email').validatebox('isValid'));  //验证文本框的内容是否有效</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>enableValidation &nbsp; none 启用验证。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span>,      <span style="color: #008000">//</span><span style="color: #008000"> 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType: ["email","length[5,10]"],  <span style="color: #008000">//</span><span style="color: #008000">组合形式,邮件格式5值10位</span>
        missingMessage:'请输入电子邮件',    <span style="color: #008000">//</span><span style="color: #008000">当文本框未填写时出现的提示信息</span>
        invalidMessage:'请输入5至10位正确的电子邮件'<span style="color: #000000">
    });
    $(</span>'#email').validatebox('disableValidation');  <span style="color: #008000">//</span><span style="color: #008000">禁用验证</span>
    $('#email').validatebox('enableValidation');  <span style="color: #008000">//</span><span style="color: #008000">启用验证</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>disableValidation &nbsp; none 禁用验证。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span>,      <span style="color: #008000">//</span><span style="color: #008000"> 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType: ["email","length[5,10]"],  <span style="color: #008000">//</span><span style="color: #008000">组合形式,邮件格式5值10位</span>
        missingMessage:'请输入电子邮件',    <span style="color: #008000">//</span><span style="color: #008000">当文本框未填写时出现的提示信息</span>
        invalidMessage:'请输入5至10位正确的电子邮件'<span style="color: #000000">
    });
    $(</span>'#email').validatebox('disableValidation');  <span style="color: #008000">//</span><span style="color: #008000">禁用验证</span>
    $('#email').validatebox('enableValidation');  <span style="color: #008000">//</span><span style="color: #008000">启用验证</span>
});</pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>我们可以使用$.fn.validatebox.defaults 重写默认值对象。</strong></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>四．自定义验证</strong></span></p>
<p><span style="color: #000000"><strong>我们可以使用重写默认规则的方式来创建一个新的规则。</strong></span></p>
<p><span style="color: #0000ff"><strong>新增一个规则</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    </span><span style="color: #008000">//</span><span style="color: #008000">新增一个验证规则</span>
<span style="color: #000000">    $.extend($.fn.validatebox.defaults.rules, {
        minLength: {    </span><span style="color: #008000">//</span><span style="color: #008000">自定义名称</span>
            validator: <span style="color: #0000ff">function</span><span style="color: #000000"> (value, param) {
                </span><span style="color: #008000">//</span><span style="color: #008000">value接收的输入字符, param接收的使用自定义时传进来的位数</span>
                <span style="color: #0000ff">return</span> value.length &gt;= param[0<span style="color: #000000">];
            },
            message: </span>'请长度不小于{0}的字符'<span style="color: #000000">
        }
    });

    $(</span>'#email'<span style="color: #000000">).validatebox({
        required: </span><span style="color: #0000ff">true</span>,      <span style="color: #008000">//</span><span style="color: #008000"> 定义为必填字段。默认为 false。不能为空</span>
        <span style="color: #008000">//</span><span style="color: #008000">定义字段验证类型</span>
        validType : 'minLength[5]'<span style="color: #000000">
    });
});</span></pre>
</div>
<p><img src="https://images2015.cnblogs.com/blog/955761/201704/955761-20170403225512269-1699057726.png" alt=""></p>
<p>&nbsp;</p></div>