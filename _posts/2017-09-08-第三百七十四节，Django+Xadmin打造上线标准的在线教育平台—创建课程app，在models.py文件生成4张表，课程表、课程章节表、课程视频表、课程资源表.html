第三百七十四节，Django+Xadmin打造上线标准的在线教育平台—创建课程app，在models.py文件生成4张表，课程表、课程章节表、课程视频表、课程资源表


			<div id="cnblogs_post_body" class="blogpost-body"><p><strong>第三百七十四节，Django+Xadmin打造上线标准的在线教育平台—创建课程app，在models.py文件生成4张表，课程表、课程章节表、课程视频表、课程资源表</strong></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>创建名称为app_courses的课程APP，写数据库操作文件<strong>models.py</strong></strong></span></p>
<p><span style="color: #ff0000"><strong><strong><img src="https://images2017.cnblogs.com/blog/955761/201709/955761-20170908185039585-857582014.png" alt=""></strong></strong></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong><strong>models.py<strong>文件</strong></strong></strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">#</span><span style="color: #008000">!/usr/bin/env python</span><span style="color: #008000">
#</span><span style="color: #008000"> -*- coding:utf-8 -*-</span>
<span style="color: #0000ff">from</span> <span style="color: #800080">__future__</span> <span style="color: #0000ff">import</span><span style="color: #000000"> unicode_literals
</span><span style="color: #0000ff">from</span> datetime <span style="color: #0000ff">import</span><span style="color: #000000"> datetime

</span><span style="color: #0000ff">from</span> django.db <span style="color: #0000ff">import</span> models        <span style="color: #008000">#</span><span style="color: #008000"> 导入models对象</span>


<span style="color: #0000ff">class</span><span style="color: #000000"> Course(models.Model):
    name </span>= models.CharField(max_length=50, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">课程名称</span><span style="color: #800000">'</span><span style="color: #000000">)
    desc </span>= models.CharField(max_length=300, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">课程描述</span><span style="color: #800000">'</span><span style="color: #000000">)
    detail </span>= models.TextField(verbose_name=<span style="color: #800000">'</span><span style="color: #800000">课程详情</span><span style="color: #800000">'</span><span style="color: #000000">)
    degree </span>= models.CharField(verbose_name=<span style="color: #800000">'</span><span style="color: #800000">课程级别</span><span style="color: #800000">'</span>, choices=((<span style="color: #800000">'</span><span style="color: #800000">cj</span><span style="color: #800000">'</span>, <span style="color: #800000">'</span><span style="color: #800000">初级</span><span style="color: #800000">'</span>), (<span style="color: #800000">'</span><span style="color: #800000">zj</span><span style="color: #800000">'</span>, <span style="color: #800000">'</span><span style="color: #800000">中级</span><span style="color: #800000">'</span>), (<span style="color: #800000">'</span><span style="color: #800000">gj</span><span style="color: #800000">'</span>, <span style="color: #800000">'</span><span style="color: #800000">高级</span><span style="color: #800000">'</span>)), max_length=3<span style="color: #000000">)
    learn_times </span>= models.IntegerField(default=0, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">学习时长(分钟)</span><span style="color: #800000">'</span><span style="color: #000000">)
    students </span>= models.IntegerField(default=0, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">学习人数</span><span style="color: #800000">'</span><span style="color: #000000">)
    fav_nums </span>= models.IntegerField(default=0, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">收藏人数</span><span style="color: #800000">'</span><span style="color: #000000">)
    image </span>= models.ImageField(upload_to=<span style="color: #800000">'</span><span style="color: #800000">courses/%Y/%m</span><span style="color: #800000">'</span>, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">课程封面图</span><span style="color: #800000">'</span>, max_length=100<span style="color: #000000">)
    click_nums </span>= models.IntegerField(default=0, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">点击数</span><span style="color: #800000">'</span><span style="color: #000000">)
    add_time </span>= models.DateTimeField(default=datetime.now, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">添加时间</span><span style="color: #800000">'</span><span style="color: #000000">)

    </span><span style="color: #0000ff">class</span><span style="color: #000000"> Meta:
        verbose_name </span>= <span style="color: #800000">'</span><span style="color: #800000">课程表</span><span style="color: #800000">'</span><span style="color: #000000">
        verbose_name_plural </span>=<span style="color: #000000"> verbose_name


</span><span style="color: #0000ff">class</span><span style="color: #000000"> Lesson(models.Model):
    course </span>= models.ForeignKey(Course, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">外键课程表</span><span style="color: #800000">'</span>)      <span style="color: #008000">#</span><span style="color: #008000"> 外键链表，外键连接Course表的主键，一对多关系</span>
    name = models.CharField(max_length=100, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">章节名</span><span style="color: #800000">'</span><span style="color: #000000">)
    add_time </span>= models.DateTimeField(default=datetime.now, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">添加日期</span><span style="color: #800000">'</span><span style="color: #000000">)

    </span><span style="color: #0000ff">class</span><span style="color: #000000"> Meta:
        verbose_name </span>= <span style="color: #800000">'</span><span style="color: #800000">课程章节表</span><span style="color: #800000">'</span><span style="color: #000000">
        verbose_name_plural </span>=<span style="color: #000000"> verbose_name


</span><span style="color: #0000ff">class</span><span style="color: #000000"> Video(models.Model):
    lesson </span>= models.ForeignKey(Lesson, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">外键章节表</span><span style="color: #800000">'</span><span style="color: #000000">)
    name </span>= models.CharField(max_length=100, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">视频名</span><span style="color: #800000">'</span><span style="color: #000000">)
    add_time </span>= models.DateTimeField(default=datetime.now, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">添加日期</span><span style="color: #800000">'</span><span style="color: #000000">)

    </span><span style="color: #0000ff">class</span><span style="color: #000000"> Meta:
        verbose_name </span>= <span style="color: #800000">'</span><span style="color: #800000">课程视频表</span><span style="color: #800000">'</span><span style="color: #000000">
        verbose_name_plural </span>=<span style="color: #000000"> verbose_name


</span><span style="color: #0000ff">class</span><span style="color: #000000"> CourseResource(models.Model):
    course </span>= models.ForeignKey(Course, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">外键课程表</span><span style="color: #800000">'</span><span style="color: #000000">)
    name </span>= models.CharField(max_length=100, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">课程资源名称</span><span style="color: #800000">'</span><span style="color: #000000">)
    download </span>= models.FileField(upload_to=<span style="color: #800000">'</span><span style="color: #800000">course/resource/%Y/%m</span><span style="color: #800000">'</span>, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">资源文件</span><span style="color: #800000">'</span>, max_length=100<span style="color: #000000">)
    add_time </span>= models.DateTimeField(default=datetime.now, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">添加日期</span><span style="color: #800000">'</span><span style="color: #000000">)

    </span><span style="color: #0000ff">class</span><span style="color: #000000"> Meta:
        verbose_name </span>= <span style="color: #800000">'</span><span style="color: #800000">课程资源表</span><span style="color: #800000">'</span><span style="color: #000000">
        verbose_name_plural </span>= verbose_name</pre>
</div>
<p><img src="https://images2017.cnblogs.com/blog/955761/201709/955761-20170908185322444-2096725374.png" alt=""></p>
<p>&nbsp;</p></div>