第一百三十三节，JavaScript，封装库--弹出登录框


			<div id="cnblogs_post_body" class="blogpost-body"><p><span style="font-size: 18px; color: #0000ff"><strong>JavaScript，封装库--弹出登录框</strong></span></p>
<p><span style="font-size: 18px; color: #ff0000"><strong><strong>封装库，增加了两个方法</strong></strong></span></p>
<p><span style="color: #ff00ff"><strong>yuan_su_ju_zhong()方法，将获取到的区块元素居中到页面，</strong></span><br><span style="color: #ff00ff"><strong>chuang_kou_shi_jian()方法，浏览器窗口事件，当窗口的大小变化时触发函数</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">/*</span><span style="color: #008000">* yuan_su_ju_zhong()方法，将获取到的区块元素居中到页面，
 * 注意：使用此方法时，首先要在css里将目标区块设置成(绝对定位,position: absolute;)
 *</span><span style="color: #008000">*/</span><span style="color: #000000">
feng_zhuang_ku.prototype.yuan_su_ju_zhong </span>= <span style="color: #0000ff">function</span><span style="color: #000000"> () {
    </span><span style="color: #0000ff">if</span> (<span style="color: #0000ff">this</span>.jie_dian.length == 1<span style="color: #000000">) {
        </span><span style="color: #0000ff">var</span> yan_su = <span style="color: #0000ff">null</span><span style="color: #000000">;
        </span><span style="color: #0000ff">for</span> (<span style="color: #0000ff">var</span> i = 0; i &lt; <span style="color: #0000ff">this</span>.jie_dian.length; i++<span style="color: #000000">) {
            yan_su </span>= <span style="color: #0000ff">this</span><span style="color: #000000">.jie_dian[i];
        }
        </span><span style="color: #0000ff">var</span> style = window.getComputedStyle ? window.getComputedStyle(yan_su, <span style="color: #0000ff">null</span>) : <span style="color: #0000ff">null</span> ||<span style="color: #000000"> yan_su.currentStyle;
        </span><span style="color: #0000ff">var</span> y_style =<span style="color: #000000"> style.display;
        </span><span style="color: #0000ff">if</span> (y_style === "none"<span style="color: #000000">) {
            yan_su.style.display </span>= "block"<span style="color: #000000">;
        }
        </span><span style="color: #0000ff">var</span> width =<span style="color: #000000"> yan_su.offsetWidth;
        </span><span style="color: #0000ff">var</span> height =<span style="color: #000000"> yan_su.offsetHeight;
        </span><span style="color: #0000ff">if</span> (y_style === "none"<span style="color: #000000">) {
            yan_su.style.display </span>= "none"<span style="color: #000000">;
        }
        </span><span style="color: #0000ff">var</span> top = (document.documentElement.clientHeight - height) / 2<span style="color: #000000">;
        </span><span style="color: #0000ff">var</span> left = (document.documentElement.clientWidth - width) / 2<span style="color: #000000">;
        </span><span style="color: #0000ff">for</span> (<span style="color: #0000ff">var</span> ii = 0; ii &lt; <span style="color: #0000ff">this</span>.jie_dian.length; ii++<span style="color: #000000">) {
            </span><span style="color: #0000ff">this</span>.jie_dian[ii].style.top = top + 'px'<span style="color: #000000">;
            </span><span style="color: #0000ff">this</span>.jie_dian[ii].style.left = left + 'px'<span style="color: #000000">;
        }
    } </span><span style="color: #0000ff">else</span><span style="color: #000000"> {
        alert(</span>"区块元素页面居中,只能设置一个区块元素，目前jie_dian数组里是多个元素请检查！"<span style="color: #000000">)
    }
    </span><span style="color: #0000ff">return</span> <span style="color: #0000ff">this</span><span style="color: #000000">;
};

</span><span style="color: #008000">/*</span><span style="color: #008000">* chuang_kou_shi_jian()方法，浏览器窗口事件，当窗口的大小变化时触发函数
 * 接收一个参数，就是触发时要执行的函数（包含函数功能）
 *</span><span style="color: #008000">*/</span><span style="color: #000000">
feng_zhuang_ku.prototype.chuang_kou_shi_jian </span>= <span style="color: #0000ff">function</span><span style="color: #000000"> (fn) {
    window.onresize </span>=<span style="color: #000000"> fn;
    </span><span style="color: #0000ff">return</span> <span style="color: #0000ff">this</span><span style="color: #000000">;
};</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>弹出登录框</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201701/955761-20170114142859463-327394665.png" alt=""></strong></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>html代码</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">&lt;</span><span style="color: #800000">div </span><span style="color: #ff0000">id</span><span style="color: #0000ff">="login"</span><span style="color: #0000ff">&gt;</span>
    <span style="color: #0000ff">&lt;</span><span style="color: #800000">h2</span><span style="color: #0000ff">&gt;&lt;</span><span style="color: #800000">img </span><span style="color: #ff0000">src</span><span style="color: #0000ff">="img/close.png"</span><span style="color: #ff0000"> alt</span><span style="color: #0000ff">=""</span><span style="color: #ff0000"> class</span><span style="color: #0000ff">="close"</span> <span style="color: #0000ff">/&gt;</span>网站登录<span style="color: #0000ff">&lt;/</span><span style="color: #800000">h2</span><span style="color: #0000ff">&gt;</span>
    <span style="color: #0000ff">&lt;</span><span style="color: #800000">div </span><span style="color: #ff0000">class</span><span style="color: #0000ff">="user"</span><span style="color: #0000ff">&gt;</span>帐 号：<span style="color: #0000ff">&lt;</span><span style="color: #800000">input </span><span style="color: #ff0000">type</span><span style="color: #0000ff">="text"</span><span style="color: #ff0000"> name</span><span style="color: #0000ff">="user"</span><span style="color: #ff0000"> class</span><span style="color: #0000ff">="text"</span> <span style="color: #0000ff">/&gt;&lt;/</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span>
    <span style="color: #0000ff">&lt;</span><span style="color: #800000">div </span><span style="color: #ff0000">class</span><span style="color: #0000ff">="pass"</span><span style="color: #0000ff">&gt;</span>密 码：<span style="color: #0000ff">&lt;</span><span style="color: #800000">input </span><span style="color: #ff0000">type</span><span style="color: #0000ff">="password"</span><span style="color: #ff0000"> name</span><span style="color: #0000ff">="pass"</span><span style="color: #ff0000"> class</span><span style="color: #0000ff">="text"</span> <span style="color: #0000ff">/&gt;&lt;/</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span>
    <span style="color: #0000ff">&lt;</span><span style="color: #800000">div </span><span style="color: #ff0000">class</span><span style="color: #0000ff">="button"</span><span style="color: #0000ff">&gt;&lt;</span><span style="color: #800000">input </span><span style="color: #ff0000">type</span><span style="color: #0000ff">="button"</span><span style="color: #ff0000"> class</span><span style="color: #0000ff">="submit"</span><span style="color: #ff0000"> value</span><span style="color: #0000ff">=""</span> <span style="color: #0000ff">/&gt;&lt;/</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span>
    <span style="color: #0000ff">&lt;</span><span style="color: #800000">div </span><span style="color: #ff0000">class</span><span style="color: #0000ff">="other"</span><span style="color: #0000ff">&gt;</span>注册新用户 | 忘记密码？<span style="color: #0000ff">&lt;/</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span>
<span style="color: #0000ff">&lt;/</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>css代码</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">/*</span><span style="color: #008000">登录框</span><span style="color: #008000">*/</span><span style="color: #800000">
#login</span>{<span style="color: #ff0000">
    width</span>:<span style="color: #0000ff"> 350px</span>;<span style="color: #ff0000">
    height</span>:<span style="color: #0000ff"> 250px</span>;<span style="color: #ff0000">
    border</span>:<span style="color: #0000ff"> 1px solid #ccc</span>;<span style="color: #ff0000">
    position</span>:<span style="color: #0000ff">absolute</span>;<span style="color: #ff0000">
    display</span>:<span style="color: #0000ff"> none</span>;
}<span style="color: #800000">
#login h2</span>{<span style="color: #ff0000">
    background</span>:<span style="color: #0000ff"> rgba(0, 0, 0, 0) url("img/login_header.png") repeat-x scroll 0 0</span>;<span style="color: #ff0000">
    border-bottom</span>:<span style="color: #0000ff"> 1px solid #ccc</span>;<span style="color: #ff0000">
    color</span>:<span style="color: #0000ff"> #666</span>;<span style="color: #ff0000">
    font-size</span>:<span style="color: #0000ff"> 14px</span>;<span style="color: #ff0000">
    height</span>:<span style="color: #0000ff"> 40px</span>;<span style="color: #ff0000">
    line-height </span>:<span style="color: #0000ff"> 40px</span>;<span style="color: #ff0000">
    text-align</span>:<span style="color: #0000ff"> center</span>;<span style="color: #ff0000">
    letter-spacing</span>:<span style="color: #0000ff"> 1px</span>;<span style="color: #ff0000">
    margin</span>:<span style="color: #0000ff"> 0 0 20px</span>;
}<span style="color: #800000">
#login h2 img</span>{<span style="color: #ff0000">
    cursor</span>:<span style="color: #0000ff"> pointer</span>;<span style="color: #ff0000">
    float</span>:<span style="color: #0000ff"> right</span>;<span style="color: #ff0000">
    position</span>:<span style="color: #0000ff"> relative</span>;<span style="color: #ff0000">
    right</span>:<span style="color: #0000ff"> 8px</span>;<span style="color: #ff0000">
    top</span>:<span style="color: #0000ff"> 14px</span>;
}<span style="color: #800000">
#login div.user, #login div.pass </span>{<span style="color: #ff0000">
    color</span>:<span style="color: #0000ff"> #666</span>;<span style="color: #ff0000">
    font-size</span>:<span style="color: #0000ff"> 14px</span>;<span style="color: #ff0000">
    padding</span>:<span style="color: #0000ff"> 5px 0</span>;<span style="color: #ff0000">
    text-align</span>:<span style="color: #0000ff"> center</span>;
}<span style="color: #800000">
#login input.text </span>{<span style="color: #ff0000">
    background</span>:<span style="color: #0000ff"> #fff none repeat scroll 0 0</span>;<span style="color: #ff0000">
    border</span>:<span style="color: #0000ff"> 1px solid #ccc</span>;<span style="color: #ff0000">
    font-size</span>:<span style="color: #0000ff"> 14px</span>;<span style="color: #ff0000">
    height</span>:<span style="color: #0000ff"> 25px</span>;<span style="color: #ff0000">
    width</span>:<span style="color: #0000ff"> 200px</span>;
}<span style="color: #800000">
#login .button </span>{<span style="color: #ff0000">
    padding</span>:<span style="color: #0000ff"> 20px 0</span>;<span style="color: #ff0000">
    text-align</span>:<span style="color: #0000ff"> center</span>;
}<span style="color: #800000">
#login input.submit </span>{<span style="color: #ff0000">
    background</span>:<span style="color: #0000ff"> rgba(0, 0, 0, 0) url("img/login_button.png") no-repeat scroll 0 0</span>;<span style="color: #ff0000">
    border</span>:<span style="color: #0000ff"> medium none</span>;<span style="color: #ff0000">
    cursor</span>:<span style="color: #0000ff"> pointer</span>;<span style="color: #ff0000">
    height</span>:<span style="color: #0000ff"> 30px</span>;<span style="color: #ff0000">
    width</span>:<span style="color: #0000ff"> 107px</span>;
}<span style="color: #800000">
#login .other </span>{<span style="color: #ff0000">
    color</span>:<span style="color: #0000ff"> #666</span>;<span style="color: #ff0000">
    padding</span>:<span style="color: #0000ff"> 15px 10px</span>;<span style="color: #ff0000">
    text-align</span>:<span style="color: #0000ff"> right</span>;</pre>
</div>
<p>&nbsp;</p>
<p><strong><span style="color: #ff0000">前台js代码</span></strong></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">弹出登录框</span>
    <span style="color: #008000">//</span><span style="color: #008000">获取登录框，执行将登录框居中方法，执行浏览器窗口事件方法</span>
    $().huo_qu_id('login').yuan_su_ju_zhong().chuang_kou_shi_jian(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        </span><span style="color: #008000">//</span><span style="color: #008000">获取登录框，执行将登录框居中方法</span>
        $().huo_qu_id('login'<span style="color: #000000">).yuan_su_ju_zhong();
    });
    </span><span style="color: #008000">//</span><span style="color: #008000">获取登录元素节点，执行点击事件方法</span>
    $().huo_qu_class('deng_lu').on_click(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        </span><span style="color: #008000">//</span><span style="color: #008000">获取登录框，改变css</span>
        $().huo_qu_id('login').css('display','block'<span style="color: #000000">);
    });
    </span><span style="color: #008000">//</span><span style="color: #008000">获取登录框里的关闭元素，执行点击事件方法</span>
    $().huo_qu_class('close').on_click(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        </span><span style="color: #008000">//</span><span style="color: #008000">获取登录框，改变css</span>
        $().huo_qu_id('login').css('display','none'<span style="color: #000000">)
    });</span></pre>
</div>
<p>&nbsp;</p></div>