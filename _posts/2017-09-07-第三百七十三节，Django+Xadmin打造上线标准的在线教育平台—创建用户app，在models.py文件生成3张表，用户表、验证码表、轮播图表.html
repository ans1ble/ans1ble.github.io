第三百七十三节，Django+Xadmin打造上线标准的在线教育平台—创建用户app，在models.py文件生成3张表，用户表、验证码表、轮播图表


			<div id="cnblogs_post_body" class="blogpost-body"><p><strong>第三百七十三节，Django+Xadmin打造上线标准的在线教育平台—创建用户app，在models.py文件生成3张表，用户表、验证码表、轮播图表</strong></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>创建<strong>Django</strong>项目</strong></span></p>
<p><img src="https://images2017.cnblogs.com/blog/955761/201709/955761-20170908011247319-981172452.png" alt=""></p>
<p><span style="color: #0000ff"><strong>项目</strong></span></p>
<p><img src="https://images2017.cnblogs.com/blog/955761/201709/955761-20170908011411507-480472191.png" alt=""></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>settings.py配置</strong></span></p>
<p><span style="color: #0000ff"><strong>配置数据库</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #800000">"""</span><span style="color: #800000">
Django settings for MxOnline project.

Generated by 'django-admin startproject' using Django 1.10.

For more information on this file, see
https://docs.djangoproject.com/en/1.10/topics/settings/

For the full list of settings and their values, see
https://docs.djangoproject.com/en/1.10/ref/settings/
</span><span style="color: #800000">"""</span>

<span style="color: #0000ff">import</span><span style="color: #000000"> os

</span><span style="color: #008000">#</span><span style="color: #008000"> Build paths inside the project like this: os.path.join(BASE_DIR, ...)</span>
BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(<span style="color: #800080">__file__</span><span style="color: #000000">)))


</span><span style="color: #008000">#</span><span style="color: #008000"> Quick-start development settings - unsuitable for production</span><span style="color: #008000">
#</span><span style="color: #008000"> See https://docs.djangoproject.com/en/1.10/howto/deployment/checklist/</span>

<span style="color: #008000">#</span><span style="color: #008000"> SECURITY WARNING: keep the secret key used in production secret!</span>
SECRET_KEY = <span style="color: #800000">'</span><span style="color: #800000">!#-519=(t8yl=of8^u$(zdcfcovctqlh0n2p#fky&amp;9c3la+j1k</span><span style="color: #800000">'</span>

<span style="color: #008000">#</span><span style="color: #008000"> SECURITY WARNING: don't run with debug turned on in production!</span>
DEBUG =<span style="color: #000000"> True

ALLOWED_HOSTS </span>=<span style="color: #000000"> []


</span><span style="color: #008000">#</span><span style="color: #008000"> Application definition</span>
<span style="color: #000000">
INSTALLED_APPS </span>=<span style="color: #000000"> [
    </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.admin</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.auth</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.contenttypes</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.sessions</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.messages</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.staticfiles</span><span style="color: #800000">'</span><span style="color: #000000">,
]

MIDDLEWARE </span>=<span style="color: #000000"> [
    </span><span style="color: #800000">'</span><span style="color: #800000">django.middleware.security.SecurityMiddleware</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.sessions.middleware.SessionMiddleware</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">django.middleware.common.CommonMiddleware</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">django.middleware.csrf.CsrfViewMiddleware</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.auth.middleware.AuthenticationMiddleware</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.messages.middleware.MessageMiddleware</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">django.middleware.clickjacking.XFrameOptionsMiddleware</span><span style="color: #800000">'</span><span style="color: #000000">,
]

ROOT_URLCONF </span>= <span style="color: #800000">'</span><span style="color: #800000">MxOnline.urls</span><span style="color: #800000">'</span><span style="color: #000000">

TEMPLATES </span>=<span style="color: #000000"> [
    {
        </span><span style="color: #800000">'</span><span style="color: #800000">BACKEND</span><span style="color: #800000">'</span>: <span style="color: #800000">'</span><span style="color: #800000">django.template.backends.django.DjangoTemplates</span><span style="color: #800000">'</span><span style="color: #000000">,
        </span><span style="color: #800000">'</span><span style="color: #800000">DIRS</span><span style="color: #800000">'</span>: [os.path.join(BASE_DIR, <span style="color: #800000">'</span><span style="color: #800000">templates</span><span style="color: #800000">'</span><span style="color: #000000">)]
        ,
        </span><span style="color: #800000">'</span><span style="color: #800000">APP_DIRS</span><span style="color: #800000">'</span><span style="color: #000000">: True,
        </span><span style="color: #800000">'</span><span style="color: #800000">OPTIONS</span><span style="color: #800000">'</span><span style="color: #000000">: {
            </span><span style="color: #800000">'</span><span style="color: #800000">context_processors</span><span style="color: #800000">'</span><span style="color: #000000">: [
                </span><span style="color: #800000">'</span><span style="color: #800000">django.template.context_processors.debug</span><span style="color: #800000">'</span><span style="color: #000000">,
                </span><span style="color: #800000">'</span><span style="color: #800000">django.template.context_processors.request</span><span style="color: #800000">'</span><span style="color: #000000">,
                </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.auth.context_processors.auth</span><span style="color: #800000">'</span><span style="color: #000000">,
                </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.messages.context_processors.messages</span><span style="color: #800000">'</span><span style="color: #000000">,
            ],
        },
    },
]

WSGI_APPLICATION </span>= <span style="color: #800000">'</span><span style="color: #800000">MxOnline.wsgi.application</span><span style="color: #800000">'</span>


<span style="color: #008000">#</span><span style="color: #008000"> Database</span><span style="color: #008000">
#</span><span style="color: #008000"> https://docs.djangoproject.com/en/1.10/ref/settings/#databases</span><span style="color: #008000">
#
#</span><span style="color: #008000"> DATABASES = {</span><span style="color: #008000">
#</span><span style="color: #008000">     'default': {</span><span style="color: #008000">
#</span><span style="color: #008000">         'ENGINE': 'django.db.backends.sqlite3',</span><span style="color: #008000">
#</span><span style="color: #008000">         'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),</span><span style="color: #008000">
#</span><span style="color: #008000">     }</span><span style="color: #008000">
#</span><span style="color: #008000"> }</span>

<span style="color: #008000">#</span><span style="color: #008000">MySQL数据库</span>
<span style="background-color: #ffff99">DATABASES =<span style="color: #000000"> {
    </span><span style="color: #800000">'</span><span style="color: #800000">default</span><span style="color: #800000">'</span><span style="color: #000000">: {
        </span><span style="color: #800000">'</span><span style="color: #800000">ENGINE</span><span style="color: #800000">'</span>: <span style="color: #800000">'</span><span style="color: #800000">django.db.backends.mysql</span><span style="color: #800000">'</span>,       <span style="color: #008000">#</span><span style="color: #008000"> 配置数据库引擎名称</span>
        <span style="color: #800000">'</span><span style="color: #800000">NAME</span><span style="color: #800000">'</span>: <span style="color: #800000">'</span><span style="color: #800000">mxonline</span><span style="color: #800000">'</span>,                         <span style="color: #008000">#</span><span style="color: #008000"> 数据库名称</span>
        <span style="color: #800000">'</span><span style="color: #800000">USER</span><span style="color: #800000">'</span>: <span style="color: #800000">'</span><span style="color: #800000">root</span><span style="color: #800000">'</span>,                             <span style="color: #008000">#</span><span style="color: #008000"> 数据库用户名</span>
        <span style="color: #800000">'</span><span style="color: #800000">PASSWORD</span><span style="color: #800000">'</span>: <span style="color: #800000">'</span><span style="color: #800000">279819</span><span style="color: #800000">'</span>,                       <span style="color: #008000">#</span><span style="color: #008000"> 数据库密码</span>
        <span style="color: #800000">'</span><span style="color: #800000">HOST</span><span style="color: #800000">'</span>: <span style="color: #800000">'</span><span style="color: #800000">127.0.0.1</span><span style="color: #800000">'</span>,                        <span style="color: #008000">#</span><span style="color: #008000"> 数据库链接地址</span>
        <span style="color: #800000">'</span><span style="color: #800000">PORT</span><span style="color: #800000">'</span>: <span style="color: #800000">'</span><span style="color: #800000">3306</span><span style="color: #800000">'</span>,                             <span style="color: #008000">#</span><span style="color: #008000"> 数据库端口</span>
<span style="color: #000000">    }
}



</span></span><span style="color: #008000">#</span><span style="color: #008000"> Password validation</span><span style="color: #008000">
#</span><span style="color: #008000"> https://docs.djangoproject.com/en/1.10/ref/settings/#auth-password-validators</span>
<span style="color: #000000">
AUTH_PASSWORD_VALIDATORS </span>=<span style="color: #000000"> [
    {
        </span><span style="color: #800000">'</span><span style="color: #800000">NAME</span><span style="color: #800000">'</span>: <span style="color: #800000">'</span><span style="color: #800000">django.contrib.auth.password_validation.UserAttributeSimilarityValidator</span><span style="color: #800000">'</span><span style="color: #000000">,
    },
    {
        </span><span style="color: #800000">'</span><span style="color: #800000">NAME</span><span style="color: #800000">'</span>: <span style="color: #800000">'</span><span style="color: #800000">django.contrib.auth.password_validation.MinimumLengthValidator</span><span style="color: #800000">'</span><span style="color: #000000">,
    },
    {
        </span><span style="color: #800000">'</span><span style="color: #800000">NAME</span><span style="color: #800000">'</span>: <span style="color: #800000">'</span><span style="color: #800000">django.contrib.auth.password_validation.CommonPasswordValidator</span><span style="color: #800000">'</span><span style="color: #000000">,
    },
    {
        </span><span style="color: #800000">'</span><span style="color: #800000">NAME</span><span style="color: #800000">'</span>: <span style="color: #800000">'</span><span style="color: #800000">django.contrib.auth.password_validation.NumericPasswordValidator</span><span style="color: #800000">'</span><span style="color: #000000">,
    },
]


</span><span style="color: #008000">#</span><span style="color: #008000"> Internationalization</span><span style="color: #008000">
#</span><span style="color: #008000"> https://docs.djangoproject.com/en/1.10/topics/i18n/</span>
<span style="color: #000000">
LANGUAGE_CODE </span>= <span style="color: #800000">'</span><span style="color: #800000">en-us</span><span style="color: #800000">'</span><span style="color: #000000">

TIME_ZONE </span>= <span style="color: #800000">'</span><span style="color: #800000">UTC</span><span style="color: #800000">'</span><span style="color: #000000">

USE_I18N </span>=<span style="color: #000000"> True

USE_L10N </span>=<span style="color: #000000"> True

USE_TZ </span>=<span style="color: #000000"> True


</span><span style="color: #008000">#</span><span style="color: #008000"> Static files (CSS, JavaScript, Images)</span><span style="color: #008000">
#</span><span style="color: #008000"> https://docs.djangoproject.com/en/1.10/howto/static-files/</span>
<span style="color: #000000">
STATIC_URL </span>= <span style="color: #800000">'</span><span style="color: #800000">/static/</span><span style="color: #800000">'</span></pre>
</div>
<p><span style="color: #0000ff"><strong>创建数据库</strong></span></p>
<p><span style="color: #0000ff"><strong><img src="https://images2017.cnblogs.com/blog/955761/201709/955761-20170908012333897-1272473383.png" alt=""></strong></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>创建用户相关app，名称叫app_users</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2017.cnblogs.com/blog/955761/201709/955761-20170908013635147-223558137.png" alt=""></strong></span></p>
<p><span style="color: #ff0000"><strong>&nbsp;</strong></span></p>
<p><span style="color: #ff0000"><strong>开始编写用户相关名称叫app_users的<strong>app</strong>数据库操作models.py文件</strong></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><span style="color: #008000">#</span><span style="color: #008000">!/usr/bin/env python</span><span style="color: #008000">
#</span><span style="color: #008000"> -*- coding:utf-8 -*-</span>

<span style="color: #0000ff">from</span> <span style="color: #800080">__future__</span> <span style="color: #0000ff">import</span><span style="color: #000000"> unicode_literals
</span><span style="color: #0000ff">from</span> django.db <span style="color: #0000ff">import</span> models        <span style="color: #008000">#</span><span style="color: #008000"> 导入models对象</span>


<span style="color: #0000ff">class</span> app_users(models.Model):       <span style="color: #008000">#</span><span style="color: #008000"> 创建类必须继承models.Model，类名将是在数据库里的表名称</span>
    password = models.CharField(max_length=128, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">密码</span><span style="color: #800000">'</span>, default=<span style="color: #800000">''</span>, blank=False)         <span style="color: #008000">#</span><span style="color: #008000"> 密码字段，长度128，默认值为空字符，前端不允许用户输入空</span>
    last_login = models.DateTimeField(verbose_name=<span style="color: #800000">'</span><span style="color: #800000">登录日期</span><span style="color: #800000">'</span>, null=True)                           <span style="color: #008000">#</span><span style="color: #008000"> 允许为空</span>
    is_superuser = models.BooleanField(max_length=1, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">用户身份</span><span style="color: #800000">'</span>, name=<span style="color: #000000">False)
    username </span>= models.CharField(max_length=150, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">用户名</span><span style="color: #800000">'</span>, null=False, blank=<span style="color: #000000">False)
    first_name </span>= models.CharField(max_length=30, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">拓展1</span><span style="color: #800000">'</span>, null=<span style="color: #000000">False)
    last_name </span>= models.CharField(max_length=30, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">拓展2</span><span style="color: #800000">'</span>, null=<span style="color: #000000">False)
    email </span>= models.EmailField(max_length=254, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">邮箱</span><span style="color: #800000">'</span>, null=False, blank=<span style="color: #000000">False)
    is_staff </span>= models.BooleanField(max_length=1, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">是否是员工</span><span style="color: #800000">'</span>, null=<span style="color: #000000">False)
    is_active </span>= models.BooleanField(max_length=1, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">是否激活</span><span style="color: #800000">'</span>, null=<span style="color: #000000">False)
    date_joined </span>= models.DateTimeField(verbose_name=<span style="color: #800000">'</span><span style="color: #800000">注册日期</span><span style="color: #800000">'</span>, null=<span style="color: #000000">True)
    nick_name </span>= models.CharField(max_length=50, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">昵称</span><span style="color: #800000">'</span>, default=<span style="color: #800000">''</span><span style="color: #000000">)
    birday </span>= models.DateField(verbose_name=<span style="color: #800000">'</span><span style="color: #800000">生日</span><span style="color: #800000">'</span>, null=<span style="color: #000000">True)
    gender </span>= models.CharField(max_length=3, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">性别</span><span style="color: #800000">'</span>, choices=((<span style="color: #800000">"</span><span style="color: #800000">male</span><span style="color: #800000">"</span>, <span style="color: #800000">"</span><span style="color: #800000">男</span><span style="color: #800000">"</span>), (<span style="color: #800000">"</span><span style="color: #800000">female</span><span style="color: #800000">"</span>, <span style="color: #800000">"</span><span style="color: #800000">女</span><span style="color: #800000">"</span>)), default=<span style="color: #800000">'</span><span style="color: #800000">male</span><span style="color: #800000">'</span><span style="color: #000000">)
    address </span>= models.CharField(max_length=100, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">地区</span><span style="color: #800000">'</span>, default=<span style="color: #800000">''</span><span style="color: #000000">)
    mobile </span>= models.CharField(max_length=11, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">手机</span><span style="color: #800000">'</span>, null=True, blank=<span style="color: #000000">True)
    image </span>= models.ImageField(upload_to=<span style="color: #800000">'</span><span style="color: #800000">image/%Y/%m</span><span style="color: #800000">'</span>, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">头像</span><span style="color: #800000">'</span>, default=<span style="color: #800000">'</span><span style="color: #800000">image/default.png</span><span style="color: #800000">'</span>, max_length=100<span style="color: #000000">)

    </span><span style="color: #0000ff">class</span><span style="color: #000000"> Meta:
        verbose_name </span>= <span style="color: #800000">'</span><span style="color: #800000">用户信息表</span><span style="color: #800000">'</span><span style="color: #000000">
        verbose_name_plural </span>= verbose_name</pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>将名称叫app_users的app注册</strong></span></p>
<div class="cnblogs_code">
<pre>INSTALLED_APPS =<span style="color: #000000"> [
    </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.admin</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.auth</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.contenttypes</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.sessions</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.messages</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">django.contrib.staticfiles</span><span style="color: #800000">'</span><span style="color: #000000">,
    </span><span style="color: #800000">'</span><span style="color: #800000">app_users</span><span style="color: #800000">'</span>,                        <span style="color: #008000">#</span><span style="color: #008000"> 注册 APP</span>
]</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>执行命令生成数据库表</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2017.cnblogs.com/blog/955761/201709/955761-20170908103630397-1467026968.png" alt=""></strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>我们继续完成名称叫app_users的app数据库操作models.py文件，我们在这个<strong>models.py文件操作3张表</strong></strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">#</span><span style="color: #008000">!/usr/bin/env python</span><span style="color: #008000">
#</span><span style="color: #008000"> -*- coding:utf-8 -*-</span>
<span style="color: #0000ff">from</span> <span style="color: #800080">__future__</span> <span style="color: #0000ff">import</span><span style="color: #000000"> unicode_literals
</span><span style="color: #0000ff">from</span> datetime <span style="color: #0000ff">import</span><span style="color: #000000"> datetime

</span><span style="color: #0000ff">from</span> django.db <span style="color: #0000ff">import</span> models        <span style="color: #008000">#</span><span style="color: #008000"> 导入models对象</span>


<span style="color: #0000ff">class</span> Users(models.Model):       <span style="color: #008000">#</span><span style="color: #008000"> 创建类必须继承models.Model，类名将是在数据库里的表名称</span>
    password = models.CharField(max_length=128, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">密码</span><span style="color: #800000">'</span>, default=<span style="color: #800000">''</span>, blank=False)         <span style="color: #008000">#</span><span style="color: #008000"> 密码字段，长度128，默认值为空字符，前端不允许用户输入空</span>
    last_login = models.DateTimeField(verbose_name=<span style="color: #800000">'</span><span style="color: #800000">登录日期</span><span style="color: #800000">'</span>, null=True)                           <span style="color: #008000">#</span><span style="color: #008000"> 允许为空</span>
    is_superuser = models.BooleanField(max_length=1, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">用户身份</span><span style="color: #800000">'</span>, name=<span style="color: #000000">False)
    username </span>= models.CharField(max_length=150, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">用户名</span><span style="color: #800000">'</span>, null=False, blank=<span style="color: #000000">False)
    first_name </span>= models.CharField(max_length=30, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">拓展1</span><span style="color: #800000">'</span>, null=<span style="color: #000000">False)
    last_name </span>= models.CharField(max_length=30, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">拓展2</span><span style="color: #800000">'</span>, null=<span style="color: #000000">False)
    email </span>= models.EmailField(max_length=254, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">邮箱</span><span style="color: #800000">'</span>, null=False, blank=<span style="color: #000000">False)
    is_staff </span>= models.BooleanField(max_length=1, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">是否是员工</span><span style="color: #800000">'</span>, null=<span style="color: #000000">False)
    is_active </span>= models.BooleanField(max_length=1, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">是否激活</span><span style="color: #800000">'</span>, null=<span style="color: #000000">False)
    date_joined </span>= models.DateTimeField(verbose_name=<span style="color: #800000">'</span><span style="color: #800000">注册日期</span><span style="color: #800000">'</span>, null=<span style="color: #000000">True)
    nick_name </span>= models.CharField(max_length=50, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">昵称</span><span style="color: #800000">'</span>, default=<span style="color: #800000">''</span><span style="color: #000000">)
    birday </span>= models.DateField(verbose_name=<span style="color: #800000">'</span><span style="color: #800000">生日</span><span style="color: #800000">'</span>, null=<span style="color: #000000">True)
    gender </span>= models.CharField(max_length=3, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">性别</span><span style="color: #800000">'</span>, choices=((<span style="color: #800000">"</span><span style="color: #800000">male</span><span style="color: #800000">"</span>, <span style="color: #800000">"</span><span style="color: #800000">男</span><span style="color: #800000">"</span>), (<span style="color: #800000">"</span><span style="color: #800000">female</span><span style="color: #800000">"</span>, <span style="color: #800000">"</span><span style="color: #800000">女</span><span style="color: #800000">"</span>)), default=<span style="color: #800000">'</span><span style="color: #800000">male</span><span style="color: #800000">'</span><span style="color: #000000">)
    address </span>= models.CharField(max_length=100, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">地区</span><span style="color: #800000">'</span>, default=<span style="color: #800000">''</span><span style="color: #000000">)
    mobile </span>= models.CharField(max_length=11, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">手机</span><span style="color: #800000">'</span>, null=True, blank=<span style="color: #000000">True)
    image </span>= models.ImageField(upload_to=<span style="color: #800000">'</span><span style="color: #800000">image/%Y/%m</span><span style="color: #800000">'</span>, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">头像</span><span style="color: #800000">'</span>, default=<span style="color: #800000">'</span><span style="color: #800000">image/default.png</span><span style="color: #800000">'</span>, max_length=100<span style="color: #000000">)

    </span><span style="color: #0000ff">class</span><span style="color: #000000"> Meta:
        verbose_name </span>= <span style="color: #800000">'</span><span style="color: #800000">用户信息表</span><span style="color: #800000">'</span><span style="color: #000000">
        verbose_name_plural </span>=<span style="color: #000000"> verbose_name


</span><span style="color: #0000ff">class</span><span style="color: #000000"> Email(models.Model):
    code </span>= models.CharField(max_length=20, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">验证码</span><span style="color: #800000">'</span><span style="color: #000000">)
    email </span>= models.EmailField(max_length=50, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">邮箱</span><span style="color: #800000">'</span><span style="color: #000000">)
    send_type </span>= models.CharField(max_length=10, choices=((<span style="color: #800000">'</span><span style="color: #800000">register</span><span style="color: #800000">'</span>, <span style="color: #800000">'</span><span style="color: #800000">注册</span><span style="color: #800000">'</span>), (<span style="color: #800000">'</span><span style="color: #800000">forget</span><span style="color: #800000">'</span>, <span style="color: #800000">'</span><span style="color: #800000">找回密码</span><span style="color: #800000">'</span>)), verbose_name=<span style="color: #800000">'</span><span style="color: #800000">邮箱验证类型</span><span style="color: #800000">'</span><span style="color: #000000">)
    send_time </span>= models.DateTimeField(verbose_name=<span style="color: #800000">'</span><span style="color: #800000">生成时间</span><span style="color: #800000">'</span>, default=<span style="color: #000000">datetime.now)

    </span><span style="color: #0000ff">class</span><span style="color: #000000"> Meta:
        verbose_name </span>= <span style="color: #800000">'</span><span style="color: #800000">用户邮箱验证码表</span><span style="color: #800000">'</span><span style="color: #000000">
        verbose_name_plural </span>=<span style="color: #000000"> verbose_name


</span><span style="color: #0000ff">class</span><span style="color: #000000"> Banner(models.Model):
    title </span>= models.CharField(max_length=100, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">轮播图标题</span><span style="color: #800000">'</span><span style="color: #000000">)
    image </span>= models.ImageField(upload_to=<span style="color: #800000">'</span><span style="color: #800000">banner/%Y/%m</span><span style="color: #800000">'</span>, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">轮播图片</span><span style="color: #800000">'</span>, max_length=100)  <span style="color: #008000">#</span><span style="color: #008000"> 图片路径banner/%Y/%m  /年/月</span>
    url = models.URLField(max_length=200, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">轮播图访问地址</span><span style="color: #800000">'</span><span style="color: #000000">)
    index </span>= models.ImageField(default=100, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">轮播图顺序</span><span style="color: #800000">'</span><span style="color: #000000">)
    add_time </span>= models.DateTimeField(default=datetime.now, verbose_name=<span style="color: #800000">'</span><span style="color: #800000">轮播图添加时间</span><span style="color: #800000">'</span><span style="color: #000000">)

    </span><span style="color: #0000ff">class</span><span style="color: #000000"> Meta:
        verbose_name </span>= <span style="color: #800000">'</span><span style="color: #800000">网站轮播图表</span><span style="color: #800000">'</span><span style="color: #000000">
        verbose_name_plural </span>= verbose_name</pre>
</div>
<p><img src="https://images2017.cnblogs.com/blog/955761/201709/955761-20170908114307319-1495181438.png" alt=""></p>
<p>&nbsp;</p></div>