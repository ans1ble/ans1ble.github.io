第四十九，反射基本介绍


			<div id="cnblogs_post_body" class="blogpost-body"><p><span style="color: #ff0000;"><strong><strong>反射最初理解1</strong></strong></span></p>
<p><span style="color: #0000ff;"><strong>通过字符串的形式，导入模块2</strong></span></p>
<p><span style="color: #ff0000;"><strong>我们前面讲到的导入模块，都是import 模块名称 &nbsp;如：import&nbsp;mk &nbsp; 这种方式导入的3</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;"> -*- coding:utf-8 -*-</span>
<span style="color: #0000ff;">import</span> mk <span style="color: #008000;">#</span><span style="color: #008000;">导入mk模块</span>
a = mk.dlu() <span style="color: #008000;">#</span><span style="color: #008000;">运行模块里的函数</span>
<span style="color: #0000ff;">print</span>(a) <span style="color: #008000;">#</span><span style="color: #008000;">执行函数</span><span style="color: #008000;">
#</span><span style="color: #008000;"> 输出</span><span style="color: #008000;">
#</span><span style="color: #008000;"> 用户登录</span><span style="color: #008000;">
#</span><span style="color: #008000;"> None</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000;"><strong>如果模块名称是字符串类型，则无法导入模块4</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;"> -*- coding:utf-8 -*-</span>
<span style="color: #0000ff;">import</span> <span style="color: #800000;">"</span><span style="color: #800000;">mk</span><span style="color: #800000;">"</span> <span style="color: #008000;">#</span><span style="color: #008000;">导入mk模块</span>
a = mk.dlu() <span style="color: #008000;">#</span><span style="color: #008000;">运行模块里的函数</span>
<span style="color: #0000ff;">print</span>(a) <span style="color: #008000;">#</span><span style="color: #008000;">执行函数</span><span style="color: #008000;">
#</span><span style="color: #008000;"> 输出</span><span style="color: #008000;">
#</span><span style="color: #008000;">   File "H:/py/index.py", line 3</span><span style="color: #008000;">
#</span><span style="color: #008000;">     import "mk" #导入mk模块</span><span style="color: #008000;">
#</span><span style="color: #008000;">               ^</span><span style="color: #008000;">
#</span><span style="color: #008000;"> SyntaxError: invalid syntax</span></pre>
</div>
<p>所以要想模块是字符串类型导入模块，有另外的一种方式</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000;"><strong>__import__()接收字符串类型的模块名称，到程序目录找到对应模块文件导入模块，赋值给一个变量，此变量等于重新定义模块名称<strong>5</strong></strong></span></p>
<p><span style="color: #000000;"><strong><strong>使用方法1：模块名称变量 =&nbsp;<strong>__import__("模块文件名称")</strong></strong></strong></span></p>
<p><span style="color: #000000;"><strong><strong><strong>使用方法2：如果模块在多层文件夹下：<strong><strong>模块名称变量 =&nbsp;<strong>__import__("模块路径到模块文件名称")</strong></strong></strong></strong></strong></strong></span></p>
<p><span style="color: #000000;"><strong><strong><strong>格式1：a = __import__("mk")</strong></strong></strong></span></p>
<p><span style="color: #000000;"><strong><strong><strong>格式2：a = __import__("lib.ska.mk",fromlist=True)</strong></strong></strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;"> -*- coding:utf-8 -*-</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">字符串类型的模块名，导入mk模块</span><span style="color: #800000;">"""</span><span style="color: #000000;">
a </span>= <span style="color: #800080;">__import__</span>(<span style="color: #800000;">"</span><span style="color: #800000;">mk</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">接收字符串类型的模块名称，到程序目录找到对应模块文件导入模块，赋值给一个变量，此变量等于重新定义模块名称</span>
a.dlu() <span style="color: #008000;">#</span><span style="color: #008000;">执行模块下的dlu()函数</span></pre>
</div>
<p>如果模块在多层文件夹下</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;"> -*- coding:utf-8 -*-</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">字符串类型的模块名，导入mk模块</span><span style="color: #800000;">"""</span><span style="color: #000000;">
a </span>= <span style="color: #800080;">__import__</span>(<span style="color: #800000;">"</span><span style="color: #800000;">lib.ska.mk</span><span style="color: #800000;">"</span>,fromlist=True) <span style="color: #008000;">#</span><span style="color: #008000;">接收字符串类型的模块名称，到程序目录找到对应模块文件导入模块，赋值给一个变量，此变量等于重新定义模块名称</span>
b = a.dlu()<span style="color: #008000;">#</span><span style="color: #008000;">执行函数</span>
<span style="color: #0000ff;">print</span>(b)<span style="color: #008000;">#</span><span style="color: #008000;">打印函数返回值</span><span style="color: #008000;">
#</span><span style="color: #008000;"> 输出</span><span style="color: #008000;">
#</span><span style="color: #008000;"> 用户登录</span><span style="color: #008000;">
#</span><span style="color: #008000;"> None</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #0000ff;"><strong>通过字符串的形式，去模块中寻找指定函数，或者全局变量，并执行6</strong></span></p>
<p><span style="color: #ff0000;"><strong>getattr()内置函数，到指定模块查找指定函数或者指定全局变量，并赋值给一个变量，如果找到的是函数赋值变量加()括号等于执行函数，如果找到的是全局变量赋值变量就等于全局变量值7</strong></span></p>
<p><span style="color: #000000;"><strong><strong><strong>使用方法：赋值变量 =&nbsp;<strong>getattr(模块名称, "字符串形式函数名称或变量名称", 如果没找到默认返回值)</strong></strong></strong></strong></span></p>
<p><span style="color: #000000;"><strong><strong><strong><strong>格式：f = getattr(a,"dlu",None)</strong></strong></strong></strong></span></p>
<p><span style="color: #000000;">字符串形式查找函数</span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;"> -*- coding:utf-8 -*-</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">字符串类型的模块名，导入mk模块</span><span style="color: #800000;">"""</span><span style="color: #000000;">
a </span>= <span style="color: #800080;">__import__</span>(<span style="color: #800000;">"</span><span style="color: #800000;">mk</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">接收字符串类型的模块名称，到程序目录找到对应模块文件导入模块，赋值给一个变量，此变量等于重新定义模块名称</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">通过字符串的形式，去模块中寻找指定函数或者全局变量，并执行</span><span style="color: #800000;">"""</span><span style="color: #000000;">
f </span>= getattr(a,<span style="color: #800000;">"</span><span style="color: #800000;">dlu</span><span style="color: #800000;">"</span>,None) <span style="color: #008000;">#</span><span style="color: #008000;">getattr()内置函数，到指定模块查找指定函数或者指定全局变量，并赋值给一个变量，如果找到的是函数赋值变量加()括号等于执行函数，如果找到的是全局变量赋值变量就等于全局变量值</span>
f()</pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;字符串形式查找全局变量</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;"> -*- coding:utf-8 -*-</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">字符串类型的模块名，导入mk模块</span><span style="color: #800000;">"""</span><span style="color: #000000;">
a </span>= <span style="color: #800080;">__import__</span>(<span style="color: #800000;">"</span><span style="color: #800000;">mk</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">接收字符串类型的模块名称，到程序目录找到对应模块文件导入模块，赋值给一个变量，此变量等于重新定义模块名称</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">通过字符串的形式，去模块中寻找指定函数或者全局变量，并执行</span><span style="color: #800000;">"""</span><span style="color: #000000;">
f </span>= getattr(a,<span style="color: #800000;">"</span><span style="color: #800000;">ASDF</span><span style="color: #800000;">"</span>,None) <span style="color: #008000;">#</span><span style="color: #008000;">getattr()内置函数，到指定模块查找指定函数或者指定全局变量，并赋值给一个变量，如果找到的是函数赋值变量加()括号等于执行函数，如果找到的是全局变量赋值变量就等于全局变量值</span>
<span style="color: #0000ff;">print</span>(f) <span style="color: #008000;">#</span><span style="color: #008000;">打印全局变量</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000;"><strong>hasattr()内置函数，到指定模块查找指定函数或者指定全局变量,如果找到指定函数或者全局变量返回True,否则返回False7</strong></span></p>
<p><span><strong><strong><strong>使用方法：赋值变量 =&nbsp;<strong>hasattr</strong><strong>(模块名称, "字符串形式函数名称或变量名称")</strong></strong></strong></strong></span></p>
<p><span><strong>格式：f = hasattr(a,"ASDF")</strong></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;"> -*- coding:utf-8 -*-</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">字符串类型的模块名，导入mk模块</span><span style="color: #800000;">"""</span><span style="color: #000000;">
a </span>= <span style="color: #800080;">__import__</span>(<span style="color: #800000;">"</span><span style="color: #800000;">mk</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">接收字符串类型的模块名称，到程序目录找到对应模块文件导入模块，赋值给一个变量，此变量等于重新定义模块名称</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">内置函数，到指定模块查找指定函数或者指定全局变量</span><span style="color: #800000;">"""</span><span style="color: #000000;">
f </span>= hasattr(a,<span style="color: #800000;">"</span><span style="color: #800000;">ASDF</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">hasattr()内置函数，到指定模块查找指定函数或者指定全局变量,如果找到指定函数或者全局变量返回True,否则返回False</span>
<span style="color: #0000ff;">print</span>(f) <span style="color: #008000;">#</span><span style="color: #008000;">打印全局变量</span><span style="color: #008000;">
#</span><span style="color: #008000;"> 输出</span><span style="color: #008000;">
#</span><span style="color: #008000;"> True</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000;"><strong>setattr()内置函数，为模块在内存里添加全局变量或者函数8</strong></span></p>
<p><strong><strong><strong>使用方法：<strong>setattr(<strong><strong><strong><strong>模块名称, "字符串形式函数名称或变量名称",全局变量值或lambda表达式</strong></strong></strong></strong>)</strong></strong></strong></strong></p>
<p><strong>格式：setattr(a,"MF","8796")</strong></p>
<p>为模块添加全局变量</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;"> -*- coding:utf-8 -*-</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">字符串类型的模块名，导入mk模块</span><span style="color: #800000;">"""</span><span style="color: #000000;">
a </span>= <span style="color: #800080;">__import__</span>(<span style="color: #800000;">"</span><span style="color: #800000;">mk</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">接收字符串类型的模块名称，到程序目录找到对应模块文件导入模块，赋值给一个变量，此变量等于重新定义模块名称</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">内置函数，为模块在内存里添加全局变量或者函数</span><span style="color: #800000;">"""</span><span style="color: #000000;">
setattr(a,</span><span style="color: #800000;">"</span><span style="color: #800000;">MF</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">8796</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">setattr()内置函数，为模块在内存里添加全局变量或者函数</span>
g = getattr(a,<span style="color: #800000;">"</span><span style="color: #800000;">MF</span><span style="color: #800000;">"</span>,None) <span style="color: #008000;">#</span><span style="color: #008000;">到模块查找到添加的MF全局变量</span>
<span style="color: #0000ff;">print</span>(g)<span style="color: #008000;">#</span><span style="color: #008000;">打印出添加的全局变量</span><span style="color: #008000;">
#</span><span style="color: #008000;"> 输出</span><span style="color: #008000;">
#</span><span style="color: #008000;"> 8796</span></pre>
</div>
<p>为模块添加函数</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;"> -*- coding:utf-8 -*-</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">字符串类型的模块名，导入mk模块</span><span style="color: #800000;">"""</span><span style="color: #000000;">
a </span>= <span style="color: #800080;">__import__</span>(<span style="color: #800000;">"</span><span style="color: #800000;">mk</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">接收字符串类型的模块名称，到程序目录找到对应模块文件导入模块，赋值给一个变量，此变量等于重新定义模块名称</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">内置函数，为模块在内存里添加全局变量或者函数</span><span style="color: #800000;">"""</span><span style="color: #000000;">
setattr(a,</span><span style="color: #800000;">"</span><span style="color: #800000;">f1</span><span style="color: #800000;">"</span>,<span style="color: #0000ff;">lambda</span> b,c: b + c) <span style="color: #008000;">#</span><span style="color: #008000;">setattr()内置函数，为模块在内存里添加全局变量或者函数</span>
f1 = getattr(a,<span style="color: #800000;">"</span><span style="color: #800000;">f1</span><span style="color: #800000;">"</span>,None) <span style="color: #008000;">#</span><span style="color: #008000;">到模块查找到添加的f1()函数</span>
sfg = f1(1,2) <span style="color: #008000;">#</span><span style="color: #008000;">执行f1函数并传值</span>
<span style="color: #0000ff;">print</span>(sfg)<span style="color: #008000;">#</span><span style="color: #008000;">打印出函数的执行结果</span><span style="color: #008000;">
#</span><span style="color: #008000;"> 输出</span><span style="color: #008000;">
#</span><span style="color: #008000;"> 3</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000;"><strong>delattr()内置函数，删除模块在内存里的函数或者全局变量9</strong></span></p>
<p><strong><strong><strong>使用方法：<strong>delattr(<strong><strong><strong><strong><strong><strong><strong><strong>模块名称, "字符串形式函数名称或变量名称"</strong></strong></strong></strong></strong></strong></strong></strong>)</strong><strong><br /></strong></strong></strong></strong></p>
<p><strong>格式：delattr(a,"dlu")</strong></p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;"> -*- coding:utf-8 -*-</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">字符串类型的模块名，导入mk模块</span><span style="color: #800000;">"""</span><span style="color: #000000;">
a </span>= <span style="color: #800080;">__import__</span>(<span style="color: #800000;">"</span><span style="color: #800000;">mk</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">接收字符串类型的模块名称，到程序目录找到对应模块文件导入模块，赋值给一个变量，此变量等于重新定义模块名称</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">内置函数，删除模块在内存里的函数或者全局变量</span><span style="color: #800000;">"""</span><span style="color: #000000;">
b </span>= hasattr(a,<span style="color: #800000;">"</span><span style="color: #800000;">dlu</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">到指定模块查找指定函数或者指定全局变量,如果找到指定函数或者全局变量返回True,否则返回False</span>
<span style="color: #0000ff;">print</span>(b) <span style="color: #008000;">#</span><span style="color: #008000;">打印返回值True,说明模块里有dlu()函数</span>
<span style="color: #000000;">
delattr(a,</span><span style="color: #800000;">"</span><span style="color: #800000;">dlu</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">delattr()内置函数，删除模块在内存里的函数或者全局变量</span>
<span style="color: #000000;">
c </span>= hasattr(a,<span style="color: #800000;">"</span><span style="color: #800000;">dlu</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">到指定模块查找指定函数或者指定全局变量,如果找到指定函数或者全局变量返回True,否则返回False</span>
<span style="color: #0000ff;">print</span>(c) <span style="color: #008000;">#</span><span style="color: #008000;">打印返回值False,说明模块内存里已经删除了这个函数</span><span style="color: #008000;">
#</span><span style="color: #008000;"> 输出</span><span style="color: #008000;">
#</span><span style="color: #008000;"> True</span><span style="color: #008000;">
#</span><span style="color: #008000;"> False</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000;"><strong>反射总结：10</strong></span><br /><strong>根据字符串的形式去某个对象（模块）中寻找指定的函数或者全局变量</strong><br /><strong>根据字符串的形式去某个对象（模块）中判断指定的函数或者全局变量是否存在</strong><br /><strong>根据字符串的形式去某个对象（模块）中设置指定的全局变量或者函数</strong><br /><strong>根据字符串的形式去某个对象（模块）中删除指定的函数或者全局变量</strong></p>
<p><span style="color: #ff0000;"><strong>反射的意义：根据字符串的形式去对象（模块）中操作其成员11</strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000;"><strong><strong class="fl">基于反射模拟Web框架路由系统，</strong>根据用户请求的url地址后缀，获取后缀名称，到指定模块查找执行后缀对应的函数12</strong></span></p>
<p><span style="color: #000000;">函数模块</span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;"> -*- coding:utf8 -*-</span>
<span style="color: #0000ff;">def</span><span style="color: #000000;"> shou():
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">首页</span><span style="color: #800000;">"</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">def</span><span style="color: #000000;"> gong():
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">公司简介</span><span style="color: #800000;">"</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">def</span><span style="color: #000000;"> chp():
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">产品展示</span><span style="color: #800000;">"</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">def</span><span style="color: #000000;"> liou():
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">留言板</span><span style="color: #800000;">"</span>)</pre>
</div>
<p>判断页面</p>
<div class="cnblogs_code">
<pre><span style="color: #800000;">"""</span><span style="color: #800000;">根据用户请求的url地址后缀，获取后缀名称，到指定模块执行后缀对应的函数</span><span style="color: #800000;">"""</span><span style="color: #000000;">
url </span>= <span style="color: #800000;">"</span><span style="color: #800000;">www.jxiou.com/liou</span><span style="color: #800000;">"</span><span style="color: #000000;">
a </span>= url.split(<span style="color: #800000;">"</span><span style="color: #800000;">/</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">根据/分割域名字符串，返回列表</span>
b = a[len(a)-1] <span style="color: #008000;">#</span><span style="color: #008000;">获取列表的元素个数，在索引出域名后缀</span>

<span style="color: #0000ff;">from</span> lib.ska <span style="color: #0000ff;">import</span> mk <span style="color: #008000;">#</span><span style="color: #008000;">导入模块</span>
<span style="color: #0000ff;">if</span> hasattr(mk,b): <span style="color: #008000;">#</span><span style="color: #008000;">判断指定模块里是否有后缀函数</span>
    c = getattr(mk,b) <span style="color: #008000;">#</span><span style="color: #008000;">如果有后缀函数，找到后缀函数赋值给一个变量</span>
    <span style="color: #0000ff;">print</span>(c()) <span style="color: #008000;">#</span><span style="color: #008000;">执行打印后缀函数</span>
<span style="color: #0000ff;">else</span>: <span style="color: #008000;">#</span><span style="color: #008000;">如果模块里没有后缀函数，打印404</span>
    <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">404</span><span style="color: #800000;">"</span>)</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000;"><strong><strong class="fl">基于反射模拟Web框架路由系统，根据用户请求的url地址后缀，获取后缀模块名称和后缀函数名称，查找到指定模块下的指定函数并执行函数13</strong></strong></span></p>
<p><span style="color: #000000;">也就是根据url地址提供的模块名称和函数名称，查找到对应的模块，和模块下对应的函数执行</span></p>
<p>&nbsp;函数模块1</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;"> -*- coding:utf8 -*-</span>
<span style="color: #0000ff;">def</span><span style="color: #000000;"> shou():
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">首页</span><span style="color: #800000;">"</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">def</span><span style="color: #000000;"> gong():
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">公司简介</span><span style="color: #800000;">"</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">def</span><span style="color: #000000;"> chp():
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">产品展示</span><span style="color: #800000;">"</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">def</span><span style="color: #000000;"> liou():
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">留言板</span><span style="color: #800000;">"</span>)</pre>
</div>
<p>&nbsp;函数模块2</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;"> -*- coding:utf8 -*-</span>
<span style="color: #0000ff;">def</span><span style="color: #000000;"> hout():
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">后台首页</span><span style="color: #800000;">"</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">def</span><span style="color: #000000;"> houd()
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">后台订单</span><span style="color: #800000;">"</span>)</pre>
</div>
<p>判断页面1</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;"> -*- coding:utf-8 -*-</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">根据用户请求的url地址后缀，获取后缀模块名称和后缀函数名称，到指定模块执下找到指定函数并执行函数</span><span style="color: #800000;">"""</span><span style="color: #000000;">
url </span>= <span style="color: #800000;">"</span><span style="color: #800000;">www.jxiou.com/mk/gong</span><span style="color: #800000;">"</span><span style="color: #000000;">
a </span>= url.split(<span style="color: #800000;">"</span><span style="color: #800000;">/</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">根据/分割域名字符串，返回列表</span>
b = a[len(a)-1] <span style="color: #008000;">#</span><span style="color: #008000;">获取后缀函数名</span>
c = a[len(a)-2] <span style="color: #008000;">#</span><span style="color: #008000;">获取后缀模块名</span>
<span style="color: #000000;">
d </span>= <span style="color: #800080;">__import__</span>(<span style="color: #800000;">"</span><span style="color: #800000;">lib.ska.{}</span><span style="color: #800000;">"</span>.format(c),fromlist=True) <span style="color: #008000;">#</span><span style="color: #008000;">根据url模块名称找到模块</span>
<span style="color: #0000ff;">if</span> hasattr(d,b): <span style="color: #008000;">#</span><span style="color: #008000;">判断url函数在url模块里是否存在</span>
    liou = getattr(d,b) <span style="color: #008000;">#</span><span style="color: #008000;">如果存在，找到函数赋值给一个变量</span>
    <span style="color: #0000ff;">print</span>(liou()) <span style="color: #008000;">#</span><span style="color: #008000;">执行打印变量</span>
<span style="color: #0000ff;">else</span>: <span style="color: #008000;">#</span><span style="color: #008000;">如果不存在404</span>
    <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">404</span><span style="color: #800000;">"</span><span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 输出</span><span style="color: #008000;">
#</span><span style="color: #008000;"> 公司简介</span><span style="color: #008000;">
#</span><span style="color: #008000;"> None</span></pre>
</div>
<p>判断页面2</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;"> -*- coding:utf-8 -*-</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">根据用户请求的url地址后缀，获取后缀模块名称和后缀函数名称，到指定模块执下找到指定函数并执行函数</span><span style="color: #800000;">"""</span><span style="color: #000000;">
url </span>= <span style="color: #800000;">"</span><span style="color: #800000;">www.jxiou.com/hou/houd</span><span style="color: #800000;">"</span><span style="color: #000000;">
a </span>= url.split(<span style="color: #800000;">"</span><span style="color: #800000;">/</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">根据/分割域名字符串，返回列表</span>
b = a[len(a)-1] <span style="color: #008000;">#</span><span style="color: #008000;">获取后缀函数名</span>
c = a[len(a)-2] <span style="color: #008000;">#</span><span style="color: #008000;">获取后缀模块名</span>
<span style="color: #000000;">
d </span>= <span style="color: #800080;">__import__</span>(<span style="color: #800000;">"</span><span style="color: #800000;">lib.ska.{}</span><span style="color: #800000;">"</span>.format(c),fromlist=True) <span style="color: #008000;">#</span><span style="color: #008000;">根据url模块名称找到模块</span>
<span style="color: #0000ff;">if</span> hasattr(d,b): <span style="color: #008000;">#</span><span style="color: #008000;">判断url函数在url模块里是否存在</span>
    liou = getattr(d,b) <span style="color: #008000;">#</span><span style="color: #008000;">如果存在，找到函数赋值给一个变量</span>
    <span style="color: #0000ff;">print</span>(liou()) <span style="color: #008000;">#</span><span style="color: #008000;">执行打印变量</span>
<span style="color: #0000ff;">else</span>: <span style="color: #008000;">#</span><span style="color: #008000;">如果不存在404</span>
    <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">404</span><span style="color: #800000;">"</span><span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 输出</span><span style="color: #008000;">
#</span><span style="color: #008000;"> 后台订单</span><span style="color: #008000;">
#</span><span style="color: #008000;"> None</span></pre>
</div>
<p>&nbsp;</p></div>