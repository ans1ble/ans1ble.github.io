第二百二十七节，jQuery EasyUI，ComboTree(树型下拉框)组件


			<div id="cnblogs_post_body" class="blogpost-body"><p><strong>jQuery EasyUI，ComboTree(树型下拉框)组件</strong></p>
<p>&nbsp;<img src="https://images2015.cnblogs.com/blog/955761/201704/955761-20170423181944804-1966609139.png" alt=""></p>
<p><strong>学习要点： </strong></p>
<p><strong>　　1.加载方式</strong></p>
<p><strong> 　　2.属性列表 </strong></p>
<p><strong>　　3.方法列表</strong></p>
<p><strong>本节课重点了解EasyUI中<strong>ComboTree(树型下拉框)组件</strong>的使用方法，<span style="color: #ff0000">这个组件依赖于Combo(下拉框) 和 Tree(树)组件。</span></strong></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>一．加载方式</strong></span></p>
<p><span style="color: #0000ff"><strong>class 加载方式</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">&lt;</span><span style="color: #800000">select </span><span style="color: #ff0000">id</span><span style="color: #0000ff">="cc"</span><span style="color: #ff0000"> class</span><span style="color: #0000ff">="easyui-combotree"</span><span style="color: #ff0000"> style</span><span style="color: #0000ff">="width:200px;"</span><span style="color: #ff0000"> data-options</span><span style="color: #0000ff">="url:'tree.json',required:true"</span><span style="color: #0000ff">&gt;&lt;/</span><span style="color: #800000">select</span><span style="color: #0000ff">&gt;</span></pre>
</div>
<p><span style="color: #0000ff"><strong>JS 加载方式</strong></span></p>
<p><span style="color: #ff0000"><strong>combotree()将一个input元素执行树型下拉框</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">&lt;</span><span style="color: #800000">input </span><span style="color: #ff0000">type</span><span style="color: #0000ff">="text"</span><span style="color: #ff0000"> id</span><span style="color: #0000ff">="box"</span><span style="color: #0000ff">&gt;</span></pre>
</div>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).combotree({
        url: </span>'tree.json',    <span style="color: #008000">//</span><span style="color: #008000">加载远程数据</span>
        required: <span style="color: #0000ff">true</span>,        <span style="color: #008000">//</span><span style="color: #008000">不能为空</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>二．属性列表</strong></span></p>
<p><span style="color: #ff0000"><strong>属性列表，下拉框属性扩展自 combo(自定义下拉框)和 tree(树形控件)，</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201704/955761-20170423131637788-1471042805.png" alt=""></strong></span></p>
<p><span style="color: #ff0000"><strong><span style="color: #0000ff">editable</span> &nbsp; boolean 定义用户是否可以直接输入文本到字段中。默认为 false。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).combotree({
        url: </span>'tree.json',    <span style="color: #008000">//</span><span style="color: #008000">加载远程数据</span>
        required: <span style="color: #0000ff">true</span>,        <span style="color: #008000">//</span><span style="color: #008000">不能为空</span>
        editable : <span style="color: #0000ff">true</span>,    <span style="color: #008000">//</span><span style="color: #008000">可以输入内容</span>
<span style="color: #000000">    });
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000; background-color: #ffffff"><strong>PS：该控件的<span style="color: #0000ff">事件完全继承自</span> combo(自定义下拉框)和 tree(树形控件)。</strong></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>三．方法列表</strong></span></p>
<p><span style="color: #ff0000"><strong>树形下拉框方法扩展自 combo(自定义下拉框)。</strong></span></p>
<p><span style="color: #ff0000"><strong><img src="https://images2015.cnblogs.com/blog/955761/201704/955761-20170423132017366-1580683978.png" alt=""></strong></span></p>
<p><span style="color: #ff0000"><strong><span style="color: #0000ff">options</span> &nbsp; none 返回属性对象。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).combotree({
        url: </span>'tree.json',    <span style="color: #008000">//</span><span style="color: #008000">加载远程数据</span>
        required: <span style="color: #0000ff">true</span>,        <span style="color: #008000">//</span><span style="color: #008000">不能为空</span>
        editable : <span style="color: #0000ff">true</span>,    <span style="color: #008000">//</span><span style="color: #008000">可以输入内容</span>
<span style="color: #000000">    });
    <span style="color: #ff0000">alert($(</span></span><span style="color: #ff0000">'#box').combotree('options'));        //返回属性对象</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong><span style="color: #0000ff">tree</span> &nbsp; none 返回树形对象。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).combotree({
        url: </span>'tree.json',    <span style="color: #008000">//</span><span style="color: #008000">加载远程数据</span>
        required: <span style="color: #0000ff">true</span>,        <span style="color: #008000">//</span><span style="color: #008000">不能为空</span>
        editable : <span style="color: #0000ff">true</span>,    <span style="color: #008000">//</span><span style="color: #008000">可以输入内容</span>
<span style="color: #000000">    });

    $(</span>'#ann').click(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        adc();
    });
    </span><span style="color: #ff0000">function adc() {
        var t = $('#box').combotree('tree');        //返回树形对象
        alert(t.tree('getSelected'));                //当用户选择一个节点时，返回当前节点对象
</span><span style="color: #000000"><span style="color: #ff0000">    }</span>
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong><span style="color: #0000ff">loadData</span> &nbsp; data 读取本地树形数据。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).combotree({
        </span><span style="color: #008000">//</span><span style="color: #008000"> url: 'tree.json',    //加载远程数据</span>
        required: <span style="color: #0000ff">true</span>,        <span style="color: #008000">//</span><span style="color: #008000">不能为空</span>
        editable : <span style="color: #0000ff">true</span>,    <span style="color: #008000">//</span><span style="color: #008000">可以输入内容</span>
<span style="color: #000000">    });
    <span style="color: #ff0000">$(</span></span><span style="color: #ff0000">'#box').combotree('loadData',[        //读取本地树形数据
        {
            text:'加载本地数据'
        }
    ]);

    </span><span style="color: #008000">//</span><span style="color: #008000"> $('#ann').click(function () {</span>
    <span style="color: #008000">//</span><span style="color: #008000">     adc();</span>
    <span style="color: #008000">//</span><span style="color: #008000"> });</span>
    <span style="color: #008000">//</span><span style="color: #008000"> function adc() {</span>
    <span style="color: #008000">//
</span>    <span style="color: #008000">//</span><span style="color: #008000"> }</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong><span style="color: #0000ff">reload</span> &nbsp; url 再次请求远程树数据。通过'url'参数重写原始 URL 值。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).combotree({
        url: </span>'tree.json',    <span style="color: #008000">//</span><span style="color: #008000">加载远程数据</span>
        required: <span style="color: #0000ff">true</span>,        <span style="color: #008000">//</span><span style="color: #008000">不能为空</span>
        editable : <span style="color: #0000ff">true</span>,    <span style="color: #008000">//</span><span style="color: #008000">可以输入内容</span>
<span style="color: #000000">    });
   <span style="color: #ff0000"> $(</span></span><span style="color: #ff0000">'#box').combotree('reload','tree.json');        // url 再次请求远程树数据。通过'url'参数重写原始 URL 值。
</span>
    <span style="color: #008000">//</span><span style="color: #008000"> $('#ann').click(function () {</span>
    <span style="color: #008000">//</span><span style="color: #008000">     adc();</span>
    <span style="color: #008000">//</span><span style="color: #008000"> });</span>
    <span style="color: #008000">//</span><span style="color: #008000"> function adc() {</span>
    <span style="color: #008000">//
</span>    <span style="color: #008000">//</span><span style="color: #008000"> }</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong><span style="color: #0000ff">clear</span> &nbsp; none 清空控件的值。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).combotree({
        url: </span>'tree.json',    <span style="color: #008000">//</span><span style="color: #008000">加载远程数据</span>
        required: <span style="color: #0000ff">true</span>,        <span style="color: #008000">//</span><span style="color: #008000">不能为空</span>
        editable : <span style="color: #0000ff">true</span>,    <span style="color: #008000">//</span><span style="color: #008000">可以输入内容</span>
<span style="color: #000000">    });


    <span style="color: #ff0000">$(</span></span><span style="color: #ff0000">'#ann').click(function () {
        adc();
    });
    function adc() {
        $('#box').combotree('clear');        //清空控件的值
</span><span style="color: #000000"><span style="color: #ff0000">    }</span>
});</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong><span style="color: #0000ff">setValues</span> &nbsp; values 设置组件值数组。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).combotree({
        url: </span>'tree.json',    <span style="color: #008000">//</span><span style="color: #008000">加载远程数据</span>
        required: <span style="color: #0000ff">true</span>,        <span style="color: #008000">//</span><span style="color: #008000">不能为空</span>
        editable : <span style="color: #0000ff">true</span>,    <span style="color: #008000">//</span><span style="color: #008000">可以输入内容</span>
<span style="color: #000000">    });
    <span style="color: #ff0000">$(</span></span><span style="color: #ff0000">'#box').combotree('setValues',[1,2]);        //设置组件值数组
</span>
    <span style="color: #008000">//</span><span style="color: #008000"> $('#ann').click(function () {</span>
    <span style="color: #008000">//</span><span style="color: #008000">     adc();</span>
    <span style="color: #008000">//</span><span style="color: #008000"> });</span>
    <span style="color: #008000">//</span><span style="color: #008000"> function adc() {</span>
    <span style="color: #008000">//</span><span style="color: #008000">     $('#box').combotree('clear');        //清空控件的值</span>
    <span style="color: #008000">//</span><span style="color: #008000"> }</span>
});</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong><span style="color: #0000ff">setValue</span> &nbsp; value 设置组件值。</strong></span></p>
<div class="cnblogs_code">
<pre>$(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
    $(</span>'#box'<span style="color: #000000">).combotree({
        url: </span>'tree.json',    <span style="color: #008000">//</span><span style="color: #008000">加载远程数据</span>
        required: <span style="color: #0000ff">true</span>,        <span style="color: #008000">//</span><span style="color: #008000">不能为空</span>
        editable : <span style="color: #0000ff">true</span>,    <span style="color: #008000">//</span><span style="color: #008000">可以输入内容</span>
<span style="color: #000000">    });
    <span style="color: #ff0000">$(</span></span><span style="color: #ff0000">'#box').combotree('setValue','设置值');        //设置组件值</span>

    <span style="color: #008000">//</span><span style="color: #008000"> $('#ann').click(function () {</span>
    <span style="color: #008000">//</span><span style="color: #008000">     adc();</span>
    <span style="color: #008000">//</span><span style="color: #008000"> });</span>
    <span style="color: #008000">//</span><span style="color: #008000"> function adc() {</span>
    <span style="color: #008000">//</span><span style="color: #008000">     $('#box').combotree('clear');        //清空控件的值</span>
    <span style="color: #008000">//</span><span style="color: #008000"> }</span>
});</pre>
</div>
<p>&nbsp;</p></div>