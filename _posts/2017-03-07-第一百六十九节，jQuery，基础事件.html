第一百六十九节，jQuery，基础事件


			<div id="cnblogs_post_body" class="blogpost-body"><p><span style="color: #0000ff"><strong>jQuery，基础事件</strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #000000"><strong>学习要点： </strong></span></p>
<p><span style="color: #000000"><strong>　　1.绑定事件 </strong></span></p>
<p><span style="color: #000000"><strong>　　2.简写事件 </strong></span></p>
<p><span style="color: #000000"><strong>　　3.复合事件</strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #000000"><strong>JavaScript 有一个非常重要的功能，就是事件驱动。当页面完全加载后，用户通过鼠标 或键盘触发页面中绑定事件的元素即可触发。jQuery 为开发者更有效率的编写事件行为，封 装了大量有益的事件方法供我们使用。</strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>一．绑定事件 </strong></span></p>
<p><span style="color: #000000"><strong>在 JavaScript 课程的学习中，我们掌握了很多使用的事件，常用的事件有：click、dblclick、 mousedown、mouseup、mousemove、mouseover、mouseout、change、select、submit、keydown、 keypress、keyup、blur、focus、load、resize、scroll、error。那么，还有更多的事件可以参考 手册中的事件部分。</strong></span></p>
<p><span style="color: #000000"><strong>jQuery 通过.bind()方法来为元素绑定这些事件。可以传递三个参数：bind(type, [data], fn)， type 表示一个或多个类型的事件名字符串；[data]是可选的，作为 event.data 属性值传递一个 额外的数据，这个数据是一个字符串、一个数字、一个数组或一个对象；fn 表示绑定到指 定元素的处理函数。</strong></span></p>
<p><span style="color: #ff0000"><strong>bind()绑定事件函数，接收两个参数，参数1事件名称，参数2事件函数，可以绑定多个事件，也可以传入对象来绑定多个函数</strong></span></p>
<p><span style="color: #0000ff"><strong>使用点击事件</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">使用点击事件</span>
$('input').bind('click', <span style="color: #0000ff">function</span> () { <span style="color: #008000">//</span><span style="color: #008000">点击按钮后执行匿名函数</span>
alert('点击！'<span style="color: #000000">);
});</span></pre>
</div>
<p><span style="color: #0000ff"><strong>普通处理函数</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">普通处理函数</span>
$('input').bind('click', fn); <span style="color: #008000">//</span><span style="color: #008000">执行普通函数式无须圆括号</span>
<span style="color: #0000ff">function</span><span style="color: #000000"> fn() {
alert(</span>'点击！'<span style="color: #000000">);
}</span></pre>
</div>
<p><span style="color: #0000ff"><strong>可以同时绑定多个事件</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">可以同时绑定多个事件</span>
$('input').bind('mouseout mouseover', <span style="color: #0000ff">function</span> () { <span style="color: #008000">//</span><span style="color: #008000">移入和移出分别执行一次</span>
$('div').html(<span style="color: #0000ff">function</span><span style="color: #000000"> (index, value) {
</span><span style="color: #0000ff">return</span> value + '1'<span style="color: #000000">;
});
});</span></pre>
</div>
<p><span style="color: #0000ff"><strong>通过对象键值对绑定多个参数</strong></span></p>
<div class="cnblogs_code">
<pre>    <span style="color: #008000">//</span><span style="color: #008000">通过对象键值对绑定多个参数</span>
    $('input').bind({ <span style="color: #008000">//</span><span style="color: #008000">传递一个对象</span>
        'mouseout': <span style="color: #0000ff">function</span> () { <span style="color: #008000">//</span><span style="color: #008000">事件名的引号可以省略</span>
            alert('移出'<span style="color: #000000">);
        },
        </span>'mouseover': <span style="color: #0000ff">function</span><span style="color: #000000"> () {
            alert(</span>'移入'<span style="color: #000000">);
        }
    });</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>unbind()删除绑定事件，有参删除当前元素指定的绑定事件，无参删除当前元素全部绑定事件</strong></span></p>
<p><span style="color: #0000ff"><strong>使用 unbind 删除绑定的事件</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">使用 unbind 删除绑定的事件</span>
$('input').unbind(); <span style="color: #008000">//</span><span style="color: #008000">删除所有当前元素的事件</span></pre>
</div>
<p><span style="color: #0000ff"><strong>使用 unbind 参数删除指定类型事件</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">使用 unbind 参数删除指定类型事件</span>
$('input').unbind('click'); <span style="color: #008000">//</span><span style="color: #008000">删除当前元素的 click 事件</span></pre>
</div>
<p><span style="color: #0000ff"><strong>使用 unbind 参数删除指定处理函数的事件</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">使用 unbind 参数删除指定处理函数的事件</span>
    <span style="color: #0000ff">function</span><span style="color: #000000"> fn1() {
        alert(</span>'点击 1'<span style="color: #000000">);
    }

    </span><span style="color: #0000ff">function</span><span style="color: #000000"> fn2() {
        alert(</span>'点击 2'<span style="color: #000000">);
    }

    $(</span>'input').bind('click'<span style="color: #000000">, fn1);
    $(</span>'input').bind('click'<span style="color: #000000">, fn2);
    $(</span>'input').unbind('click', fn1); <span style="color: #008000">//</span><span style="color: #008000">只删除 fn1 处理函数的事件</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>二．简写事件 </strong></span></p>
<p><strong>为了使开发者更加方便的绑定事件，jQuery 封装了常用的事件以便节约更多的代码。我 们称它为简写事件。</strong></p>
<p><strong><img src="https://images2015.cnblogs.com/blog/955761/201703/955761-20170307134823531-251654233.png" alt=""></strong></p>
<p><img src="https://images2015.cnblogs.com/blog/955761/201703/955761-20170307134834500-1832893704.png" alt=""></p>
<p><img src="https://images2015.cnblogs.com/blog/955761/201703/955761-20170307134852063-236728160.png" alt=""></p>
<p><span style="color: #ff0000"><strong>click(fn) 鼠标 触发每一个匹配元素的 click(单击)事件</strong></span></p>
<div class="cnblogs_code">
<pre>$('div').click(<span style="color: #0000ff">function</span> () {   <span style="color: #008000">//</span><span style="color: #008000">单击后触发事件函数</span>
        alert('点击后执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>dblclick(fn) 鼠标 触发每一个匹配元素的 dblclick(双击)事件</strong></span></p>
<div class="cnblogs_code">
<pre>    $('div').dblclick(<span style="color: #0000ff">function</span> () {   <span style="color: #008000">//</span><span style="color: #008000">双击后触发事件函数</span>
        alert('执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>mousedown(fn) 鼠标 触发每一个匹配元素的 mousedown(鼠标左键按下)事件</strong></span></p>
<div class="cnblogs_code">
<pre>$('div').mousedown(<span style="color: #0000ff">function</span><span style="color: #000000"> () {   
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p><br><span style="color: #ff0000"><strong>mouseup(fn) 鼠标 触发每一个匹配元素的 mouseup(<strong>鼠标左键</strong>弹起)事件</strong></span></p>
<div class="cnblogs_code">
<pre>$('div').mouseup(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>mouseover(fn) 鼠标 触发每一个匹配元素的 mouseover(鼠标移入)事件，<strong>子元素也起作用</strong></strong></span></p>
<div class="cnblogs_code">
<pre> $('div').mouseover(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p><br><span style="color: #ff0000"><strong>mouseout(fn) 鼠标 触发每一个匹配元素的 mouseout(鼠标移出)事件，子元素也起作用</strong></span></p>
<div class="cnblogs_code">
<pre>$('div').mouseout(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>mousemove(fn) 鼠标 触发每一个匹配元素的 mousemove(鼠标移动时)事件，</strong></span></p>
<div class="cnblogs_code">
<pre>    $('div').mousemove(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>mouseenter(fn) 鼠标 触发每一个匹配元素的 mouseenter(鼠标穿过)事件，<strong>子元素不起作用</strong></strong></span></p>
<div class="cnblogs_code">
<pre>    $('div').mouseenter(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p><br><span style="color: #ff0000"><strong>mouseleave(fn) 鼠标 触发每一个匹配元素的 mouseleave(鼠标穿出)事件，<strong><strong>子元素不起作用</strong></strong></strong></span></p>
<div class="cnblogs_code">
<pre>    $('div').mouseleave(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p><span style="color: #0000ff"><strong>mouseover()和.mouseout()表示鼠标移入和移出的时候触发。那么 jQuery 还封装了另外 一组：.mouseenter()和.mouseleave()表示鼠标穿过和穿出的时候触发。那么这两组本质上有 什么区别呢？手册上的说明是：.mouseenter()和.mouseleave()这组穿过子元素不会触发， 而.mouseover()和.mouseout()则会触发。</strong></span></p>
<p><br><span style="color: #ff0000"><strong>keydown(fn) 键盘 触发每一个匹配元素的 keydown(键盘按下)事件，事件函数可以传一个参数e来接收事件对象</strong></span></p>
<div class="cnblogs_code">
<pre>    $('input').keydown(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p><span style="color: #0000ff"><strong>事件函数可以传一个参数e来接收事件对象，这个事件对象有一个属性e.keyCode，返回按键码</strong></span></p>
<div class="cnblogs_code">
<pre>    $('input').keydown(<span style="color: #0000ff">function</span><span style="color: #000000"> (e) {
        alert(e.keyCode);
    });</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>keyup(fn) 键盘 触发每一个匹配元素的 keyup(键盘按下弹起)事件</strong></span></p>
<div class="cnblogs_code">
<pre>    $('input').keyup(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p><span style="color: #0000ff"><strong>事件函数可以传一个参数e来接收事件对象，这个事件对象有一个属性e.keyCode，返回按键码</strong></span></p>
<div class="cnblogs_code">
<pre>    $('input').keyup(<span style="color: #0000ff">function</span><span style="color: #000000"> (e) {
        alert(e.keyCode);
    });</span></pre>
</div>
<p><br><span style="color: #ff0000"><strong>keypress(fn) 键盘 触发每一个匹配元素的 keypress(键盘按下)事件</strong></span></p>
<div class="cnblogs_code">
<pre>    $('input').keypress(<span style="color: #0000ff">function</span><span style="color: #000000"> (e) {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p><span style="color: #0000ff"><strong>事件函数可以传一个参数e来接收事件对象，这个事件对象有一个属性e.charCode，返回按键字符编码</strong></span></p>
<div class="cnblogs_code">
<pre>    $('input').keypress(<span style="color: #0000ff">function</span><span style="color: #000000"> (e) {
        alert(e.charCode);
    });</span></pre>
</div>
<p><span style="color: #0000ff"><strong>注意：e.keyCode 和 e.charCode 在两种事件互换也会产生不同的效果，除了字符还有一 些非字符键的区别。更多详情可以了解 JavaScript 事件处理那章</strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>unload(fn) 文档 当卸载本页面时，就是关闭刷新页面，绑定一个要执行的函数，火狐不支持，一般用于清理工作</strong></span></p>
<div class="cnblogs_code">
<pre>    $(window).unload(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>resize(fn) 文档 触发每一个匹配元素的 resize(浏览器窗口改变大小时)事件</strong></span></p>
<div class="cnblogs_code">
<pre>    $(window).resize(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p><br><span style="color: #ff0000"><strong>scroll(fn) 文档 触发每一个匹配元素的 scroll(滚动条拖动)事件</strong></span></p>
<div class="cnblogs_code">
<pre>    $(window).scroll(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p><br><span style="color: #ff0000"><strong>focus(fn) 表单 触发每一个匹配元素的 focus(焦点激活)事件，必须在当前元素上使用</strong></span></p>
<div class="cnblogs_code">
<pre>    $('input').focus(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>blur(fn) 表单 触发每一个匹配元素的 blur(焦点丢失)事件，<strong>必须在当前元素上使用</strong></strong></span></p>
<div class="cnblogs_code">
<pre>    $('input').blur(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>focusin(fn) 表单 触发每一个匹配元素的 focusin(焦点激活)事件，可以在div上使用，可以绑定div里面的表单事件</strong></span></p>
<div class="cnblogs_code">
<pre>    $('div').focusin(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>focusout(fn) 表单 触发每一个匹配元素的 focusout(焦点丢失)事件，<strong>可以在div上使用，可以绑定div里面的表单事件</strong></strong></span></p>
<div class="cnblogs_code">
<pre>    $('div').focusout(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p><br><span style="color: #ff0000"><strong>select(fn) 表单 触发每一个匹配元素的 select(文本选定)事件</strong></span></p>
<div class="cnblogs_code">
<pre>    $('input').select(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p><br><span style="color: #ff0000"><strong>change(fn) 表单 触发每一个匹配元素的 change(value值改变并且光标离开后)事件，</strong></span></p>
<div class="cnblogs_code">
<pre>    $('input').change(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p><br><span style="color: #ff0000"><strong>submit(fn) 表单 触发每一个匹配元素的 submit(表单提交)事件，此事件在form元素上使用</strong></span></p>
<div class="cnblogs_code">
<pre>    $('form').submit(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>三．复合事件 </strong></span></p>
<p><strong>jQuery 提供了许多最常用的事件效果，组合一些功能实现了一些复合事件，比如切换功 能、智能加载等。</strong></p>
<p><strong><img src="https://images2015.cnblogs.com/blog/955761/201703/955761-20170307164336563-1181743022.png" alt=""></strong></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>ready(fn) 当 DOM 加载完毕触发事件</strong></span></p>
<div class="cnblogs_code">
<pre>    $().ready(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行'<span style="color: #000000">);
    });</span></pre>
</div>
<p><br><span style="color: #ff0000"><strong>hover([fn1,]fn2) 当鼠标移入触发第一个 fn1，移出触发 fn2，鼠标移入移出事件，传一个参数是移入事件</strong></span></p>
<div class="cnblogs_code">
<pre>    $('div').hover(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行移入'<span style="color: #000000">);
    },</span><span style="color: #0000ff">function</span><span style="color: #000000"> () {
        alert(</span>'执行移出'<span style="color: #000000">);
    });</span></pre>
</div>
<p><span style="color: #0000ff"><strong>注意：.hover()方法是结合了.mouseenter()方法和.mouseleva()方法，并非.mouseover() 和.mouseout()方法。</strong></span></p>
<p><br><span style="color: #ff0000"><strong>自定义点击循环切换</strong></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre>    <span style="color: #0000ff">var</span> flag = 1; <span style="color: #008000">//</span><span style="color: #008000">计数器</span>
    $('div').click(<span style="color: #0000ff">function</span><span style="color: #000000"> () {
        </span><span style="color: #0000ff">if</span> (flag == 1) { <span style="color: #008000">//</span><span style="color: #008000">第一次点击</span>
            $(<span style="color: #0000ff">this</span>).css('background', 'black'<span style="color: #000000">);
            flag </span>= 2<span style="color: #000000">;
        } </span><span style="color: #0000ff">else</span> <span style="color: #0000ff">if</span> (flag == 2) { <span style="color: #008000">//</span><span style="color: #008000">第二次点击</span>
            $(<span style="color: #0000ff">this</span>).css('background', 'blue'<span style="color: #000000">);
            flag </span>= 3<span style="color: #000000">
        } </span><span style="color: #0000ff">else</span> <span style="color: #0000ff">if</span> (flag == 3) { <span style="color: #008000">//</span><span style="color: #008000">第三次点击</span>
            $(<span style="color: #0000ff">this</span>).css('background', 'red'<span style="color: #000000">);
            flag </span>= 1<span style="color: #000000">
        }
    });</span></pre>
</div>
<p>&nbsp;</p></div>