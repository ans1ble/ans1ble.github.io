第四百节，Django+Xadmin打造上线标准的在线教育平台—生产环境部署CentOS6.5安装python3.5.1


			<div id="cnblogs_post_body" class="blogpost-body"><p><strong>第四百节，Django+Xadmin打造上线标准的在线教育平台—生产环境部署CentOS6.5安装python3.5.1</strong></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>1.检查系统是否安装了python</strong></span></p>
<div class="cnblogs_code">
<pre>[root@192 ~]<span style="color: #008000">#</span><span style="color: #008000"> rpm -qa python</span>
python-2.6.6-51<span style="color: #000000">.el6.x86_64
[root@</span>192 ~]<span style="color: #008000">#</span> </pre>
</div>
<p><strong>可以看到CentOS6.5系统默认安装了python2.6.6</strong></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>2.检查一下Python安装在什么地方</strong></span></p>
<div class="cnblogs_code">
<pre>[root@192 ~]<span style="color: #008000">#</span><span style="color: #008000"> whereis python</span>
python: /usr/bin/python /usr/bin/python2.6 /usr/lib/python2.6 /usr/lib64/python2.6 /usr/include/python2.6 /usr/share/man/man1/python.1<span style="color: #000000">.gz
[root@</span>192 ~]<span style="color: #008000">#</span></pre>
</div>
<p><strong>可以看到Python启动文件在/usr/bin/python2.6里，有一个快速软连接在/usr/bin/python，那么我们就要安指定其他目录安装，防止默认安装到2.6.6的路径起冲突，<strong>2.6.6不能卸载掉，因为系统的yum命令是依赖Python2.6.6的</strong></strong></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>3.安装依赖库和编译器</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">#</span><span style="color: #008000"> yum install gcc -y</span><span style="color: #008000">
#</span><span style="color: #008000"> yum install openssl-devel</span></pre>
</div>
<p><strong>如果没有安装openssl-devel，在安装过程中pip无法安装</strong></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>4.下载对应版本的Python，并解压</strong></span></p>
<div class="cnblogs_code">
<pre>wget https://www.python.org/ftp/python/3.5.1/Python-3.5.1<span style="color: #000000">.tgz    下载python

</span>tar -xvf Python-3.5.1.tgz　　　　　　　　　　　　　　　　　　　　解压Python</pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>5.进入Python解压目录，编译安装Python3.5.1</strong></span></p>
<div class="cnblogs_code">
<pre>cd Python-3.5.1</pre>
</div>
<div class="cnblogs_code">
<pre>./configure --prefix=/usr/local 　　　　指定编译安装的目录</pre>
</div>
<div class="cnblogs_code">
<pre>make &amp;&amp; make install　　　　　　　　　　　　　　　　编译并且安装到指定目录</pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>6.检查一下Python3.5安装的详情</strong></span></p>
<div class="cnblogs_code">
<pre>[root@192 Python-3.5.1]<span style="color: #008000">#</span><span style="color: #008000"> whereis python</span>
python: /usr/bin/python /usr/bin/python2.6 /usr/lib/python2.6 /usr/lib64/python2.6 /usr/local/bin/python3.5-config /usr/local/bin/python3.5m /usr/local/bin/python3.5m-config /usr/local/bin/python3.5 /usr/local/lib/python3.5 /usr/include/python2.6 /usr/share/man/man1/python.1.gz</pre>
</div>
<p><strong>可以看到Python3.5.1已经安装成功</strong></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>7.将系统默认的python启动文件修改成别的名字</strong></span></p>
<p><strong>修改/usr/bin下的Python文件名字</strong></p>
<p><img src="https://images2017.cnblogs.com/blog/955761/201710/955761-20171004150235661-32518584.png" alt=""></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>8.将Python3.5.1安装目录下的Python3.5启动文件创建软连到，Python默认的启动目录</strong></span></p>
<div class="cnblogs_code">
<pre>ln -s /usr/local/bin/python3.5 /usr/bin/python   创建Python3.5软连接到/usr/bin/目录，名字叫Python</pre>
</div>
<p><img src="https://images2017.cnblogs.com/blog/955761/201710/955761-20171004151041708-1916846550.png" alt=""></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>9.这样以后输入Python回车后就是执行的Python3.5.1的版本</strong></span></p>
<div class="cnblogs_code">
<pre>[root@192 /]<span style="color: #008000">#</span><span style="color: #008000"> python</span>
Python 3.5.1 (default, Oct  3 2017, 03:19:49<span style="color: #000000">) 
[GCC </span>4.4.7 20120313 (Red Hat 4.4.7-18<span style="color: #000000">)] on linux
Type </span><span style="color: #800000">"</span><span style="color: #800000">help</span><span style="color: #800000">"</span>, <span style="color: #800000">"</span><span style="color: #800000">copyright</span><span style="color: #800000">"</span>, <span style="color: #800000">"</span><span style="color: #800000">credits</span><span style="color: #800000">"</span> <span style="color: #0000ff">or</span> <span style="color: #800000">"</span><span style="color: #800000">license</span><span style="color: #800000">"</span> <span style="color: #0000ff">for</span><span style="color: #000000"> more information.
</span>&gt;&gt;&gt; </pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>10.在安装python3.5.1时自动安装了pip3,测试一下pip3是否可用</strong></span></p>
<div class="cnblogs_code">
<pre>[root@192 /]<span style="color: #008000">#</span><span style="color: #008000"> pip3 list</span>
pip (7.1.2<span style="color: #000000">)
setuptools (</span>18.2<span style="color: #000000">)
You are using pip version </span>7.1.2, however version 9.0.1 <span style="color: #0000ff">is</span><span style="color: #000000"> available.
You should consider upgrading via the </span><span style="color: #800000">'</span><span style="color: #800000">pip install --upgrade pip</span><span style="color: #800000">'</span><span style="color: #000000"> command.
[root@</span>192 /]<span style="color: #008000">#</span> </pre>
</div>
<p><strong>可以看到pip3能用</strong></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000"><strong>11.修改/usr/bin/yum文件</strong></span></p>
<p><strong>因为<strong>yum命令默认使用的Python文件名称调用的Python2.6.6，我们将Python软连接了python3.5.1所以现在<strong>yum命令不可以用了，我们要改一下<strong><strong><strong>yum配置文件，让它用回python2.6.6版本</strong></strong></strong></strong></strong></strong></p>
<div class="cnblogs_code">
<pre>vim /usr/bin/<span style="color: #000000">yum  
将第一行中的“</span><span style="color: #008000">#</span><span style="color: #008000">!/usr/bin/python”</span>
修改为“<span style="color: #008000">#</span><span style="color: #008000">!/usr/bin/python-2.6”，保存即可</span></pre>
</div>
<p><img src="https://images2017.cnblogs.com/blog/955761/201710/955761-20171004180901818-929667522.png" alt=""></p>
<p><strong>测试</strong></p>
<div class="cnblogs_code">
<pre>[root@192 /]<span style="color: #008000">#</span><span style="color: #008000"> yum</span>
Loaded plugins: fastestmirror, refresh-<span style="color: #000000">packagekit, security
You need to give some command
Usage: yum [options] COMMAND</span></pre>
</div>
<p><strong>安装完成</strong></p>
<p>&nbsp;</p></div>