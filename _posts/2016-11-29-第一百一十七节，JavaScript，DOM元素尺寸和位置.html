第一百一十七节，JavaScript，DOM元素尺寸和位置


			<div id="cnblogs_post_body" class="blogpost-body"><p>&nbsp;</p>
<p align="left"><strong>学习要点：</strong></p>
<p align="left"><strong>1.获取元素CSS大小</strong></p>
<p align="left"><strong>2.获取元素实际大小</strong></p>
<p align="left"><strong>3.获取元素周边大小</strong></p>
<p align="left">&nbsp;</p>
<p align="left"><span style="color: #0000ff"><strong>本章，我们主要讨论一下页面中的某一个元素它的各种大小和各种位置的计算方式，以便更好的理解。</strong></span></p>
<p align="left">&nbsp;</p>
<p align="left"><span style="color: #ff0000; background-color: #ffff00"><strong>一．获取元素CSS</strong><strong>大小</strong></span></p>
<p align="left">&nbsp;</p>
<p align="left"><span style="color: #ff0000"><strong>1.通过style内联获取元素的大小</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">&lt;div id="box" style="background-color: #2616ff;width: 200px;height: 200px;"&gt;测试1&lt;/div&gt;</span>
window.onload = <span style="color: #0000ff">function</span>() { <span style="color: #008000">//</span><span style="color: #008000">window.onload事件，等待html执行完成后，执行匿名函数</span>
    <span style="color: #008000">//</span><span style="color: #008000">通过style内联获取元素的大小</span>
    <span style="color: #0000ff">var</span> asf = document.getElementById('box'); <span style="color: #008000">//</span><span style="color: #008000">通过ID获取到元素标签</span>
    alert(asf.style.width);  <span style="color: #008000">//</span><span style="color: #008000">获取内联元素的宽度</span>
    <span style="color: #008000">//</span><span style="color: #008000">200px</span>
    alert(asf.style.height); <span style="color: #008000">//</span><span style="color: #008000">获取内联元素的高度</span>
    <span style="color: #008000">//</span><span style="color: #008000">200px</span>
};</pre>
</div>
<p align="left"><span style="color: #0000ff"><strong>PS：style获取只能获取到行内style属性的CSS样式中的宽和高，如果有获取；如果没有则返回空。</strong></span></p>
<p align="left">&nbsp;</p>
<p align="left"><span style="color: #ff0000"><strong>2.通过计算获取元素的大小</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">&lt;div id="box" style="background-color: #2616ff;width: 200px;height: 200px;"&gt;测试1&lt;/div&gt;</span>
window.onload = <span style="color: #0000ff">function</span>() { <span style="color: #008000">//</span><span style="color: #008000">window.onload事件，等待html执行完成后，执行匿名函数</span>
    <span style="color: #008000">//</span><span style="color: #008000">通过计算获取元素的大小</span>
    <span style="color: #0000ff">var</span> asf = document.getElementById('box'); <span style="color: #008000">//</span><span style="color: #008000">通过ID获取到元素标签</span>
    <span style="color: #008000">//</span><span style="color: #008000">浏览器兼容处理，如果getComputedStyle返回真就用getComputedStyle 方法，否则返回null，执行currentStyle</span>
    <span style="color: #0000ff">var</span> style = window.getComputedStyle ? window.getComputedStyle(asf, <span style="color: #0000ff">null</span>) : <span style="color: #0000ff">null</span> ||<span style="color: #000000"> asf.currentStyle;
    alert(style.width);        </span><span style="color: #008000">//</span><span style="color: #008000">获取浏览器计算后的元素宽度，如果有设置就是获取设置的宽度，如果没设置获取默认宽度                        </span>
    alert(style.height);    <span style="color: #008000">//</span><span style="color: #008000">获取浏览器计算后的元素高度，如果有设置就是获取设置的高度，如果没设置获取默认高度        </span>
};</pre>
</div>
<p align="left"><span style="color: #0000ff"><strong>PS：通过计算获取元素的大小，无关你是否是行内、内联或者链接，它经过计算后得到的结果返回出来。如果本身设置大小，它会返回元素的大小，如果本身没有设置，非IE浏览器会返回默认的大小，IE浏览器返回auto。</strong></span></p>
<p align="left">&nbsp;</p>
<p align="left"><span style="color: #ff0000"><strong>3.通过CSSStyleSheet对象中的cssRules(或rules)属性获取元素大小，就是获取连接或者内联样式大小</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">&lt;div id="box" class="box1"&gt;测试1&lt;/div&gt;</span>
window.onload = <span style="color: #0000ff">function</span>() { <span style="color: #008000">//</span><span style="color: #008000">window.onload事件，等待html执行完成后，执行匿名函数</span>
    <span style="color: #008000">//</span><span style="color: #008000">通过CSSStyleSheet对象中的cssRules(或rules)属性获取元素大小，就是获取连接或者内联样式大小</span>
    <span style="color: #0000ff">var</span> sheet = document.styleSheets[0];            <span style="color: #008000">//</span><span style="color: #008000">获取样式表对象集合里的第一个样式表对象</span>
    <span style="color: #008000">//</span><span style="color: #008000">如果浏览器执行cssRules不成功，就执行rules，来获取样式表对象里的选择器集合，得到的是选择器集合</span>
    <span style="color: #0000ff">var</span> rule = (sheet.cssRules || sheet.rules)[0];        <span style="color: #008000">//</span><span style="color: #008000">获取第一条css选择器</span>
    alert(rule.style.width);                            <span style="color: #008000">//</span><span style="color: #008000">200px、空</span>
    alert(rule.style.height);                            <span style="color: #008000">//</span><span style="color: #008000">200px、空</span>
<span style="color: #000000">
};</span></pre>
</div>
<p align="left"><span style="color: #0000ff"><strong>PS：cssRules(或rules)只能获取到内联和链接样式的宽和高，不能获取到行内和计算后的样式。</strong></span></p>
<p>&nbsp;</p>
<p align="left"><span style="color: #ff00ff; font-size: 14pt"><strong>总结：以上的三种CSS获取元素大小的方法，只能获取元素的CSS大小，却无法获取元素本身实际的大小。比如加上了内边距、滚动条类的。</strong></span></p>
<p align="left">&nbsp;</p>
<p align="left"><span style="color: #ff0000; background-color: #ffff00"><strong>二．获取元素实际大小</strong></span></p>
<p align="left"><span style="color: #ff0000"><strong>1.clientWidth和clientHeight，这组属性可以获取元素可视区的大小，可以得到元素内容及内边距所占据的空间大小。</strong></span></p>
<p align="left"><span style="color: #ff0000"><strong><strong>clientWidth属性，<strong>获取元素可视区的宽度，<strong>可以得到元素内容及内边距所占据的空间大小</strong></strong></strong></strong></span></p>
<p align="left"><strong><span style="color: #ff0000"><strong>clientHeight属性，<strong>获取元素可视区的高度，<strong>可以得到元素内容及内边距所占据的空间大小</strong></strong></strong></span><br></strong></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">&lt;div id="box" class="box1"&gt;测试1&lt;/div&gt;</span>
window.onload = <span style="color: #0000ff">function</span>() { <span style="color: #008000">//</span><span style="color: #008000">window.onload事件，等待html执行完成后，执行匿名函数</span>
    <span style="color: #0000ff">var</span> asf = document.getElementById('box');  <span style="color: #008000">//</span><span style="color: #008000">通过ID获取到元素节点</span>
    <span style="color: #008000">//</span><span style="color: #008000">clientWidth和clientHeight，这组属性可以获取元素可视区的大小，可以得到元素内容及内边距所占据的空间大小。</span>
    alert(asf.clientWidth);  <span style="color: #008000">//</span><span style="color: #008000">获取实际宽度，包含内边距</span>
    alert(asf.clientHeight);  <span style="color: #008000">//</span><span style="color: #008000">获取实际高度，包含内边距</span>
};</pre>
</div>
<p align="left"><strong>PS：返回了元素大小，但没有单位，默认单位是px，如果你强行设置了单位，比如100em之类，它还是会返回px的大小。(CSS获取的话，是照着你设置的样式获取)。</strong></p>
<p align="left"><span style="color: #ff00ff"><strong>PS：对于元素的实际大小，clientWidth和clientHeight理解方式如下：</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>1.增加边框，无变化，</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>2.增加外边距，无变化，</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>3.增加滚动条，最终值等于原本大小减去滚动条的大小，</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>4.增加内边距，最终值等于原本大小加上内边距的大小，</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>PS：如果说没有设置任何CSS的宽和高度，那么非IE浏览器会算上滚动条和内边距的计算后的大小，而IE浏览器则返回0。</strong></span></p>
<p align="left">&nbsp;</p>
<p align="left"><span style="color: #ff0000"><strong>2.scrollWidth和scrollHeight，这组属性可以获取滚动内容的元素大小。</strong></span></p>
<p><span style="color: #ff0000"><strong>scrollWidth获取滚动内容的元素宽度</strong></span></p>
<p><span style="color: #ff0000"><strong>scrollHeight获取滚动内容的元素高度</strong></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">&lt;div id="box" class="box1"&gt;测试1&lt;/div&gt;</span>
window.onload = <span style="color: #0000ff">function</span>() { <span style="color: #008000">//</span><span style="color: #008000">window.onload事件，等待html执行完成后，执行匿名函数</span>
    <span style="color: #0000ff">var</span> asf = document.getElementById('box');  <span style="color: #008000">//</span><span style="color: #008000">通过ID获取到元素节点</span>
    <span style="color: #008000">//</span><span style="color: #008000">scrollWidth和scrollHeight，这组属性可以获取滚动内容的元素大小。</span>
    alert(asf.scrollWidth);  <span style="color: #008000">//</span><span style="color: #008000">scrollWidth获取滚动内容的元素宽度</span>
    alert(asf.scrollHeight);  <span style="color: #008000">//</span><span style="color: #008000">scrollHeight获取滚动内容的元素高度</span>
};</pre>
</div>
<p>&nbsp;</p>
<p align="left"><span style="color: #0000ff"><strong>PS：返回了元素大小，默认单位是px。如果没有设置任何CSS的宽和高度，它会得到计算后的宽度和高度。</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>PS：对于元素的实际大小，scrollWidth和scrollHeight理解如下:</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>1.增加边框，不同浏览器有不同解释：</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>a)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Firefox和Opera浏览器会增加边框的大小</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>b)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IE、Chrome和Safari浏览器会忽略边框大小</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>c)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IE浏览器只显示它本来内容的高度</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>2.增加内边距，最终值会等于原本大小加上内边距大小</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>3.增加滚动条，最终值会等于原本大小减去滚动条大小</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>4.增加外边据，无变化。</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>5.增加内容溢出，Firefox、Chrome和IE获取实际内容高度，Opera比前三个浏览器获取的高度偏小，Safari比前三个浏览器获取的高度偏大。</strong></span></p>
<p>&nbsp;</p>
<p align="left">&nbsp;</p>
<p align="left"><span style="color: #ff0000"><strong>3.offsetWidth和offsetHeight，这组属性可以返回元素实际大小，包含边框、内边距和滚动条。</strong></span></p>
<p><span style="color: #ff0000"><strong>offsetWidth获取元素实际宽度，包含边框、内边距和滚动条</strong></span><br><span style="color: #ff0000"><strong>offsetHeight获取元素实际高度，包含边框、内边距和滚动条</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">&lt;div id="box" class="box1"&gt;测试1&lt;/div&gt;</span>
window.onload = <span style="color: #0000ff">function</span>() { <span style="color: #008000">//</span><span style="color: #008000">window.onload事件，等待html执行完成后，执行匿名函数</span>
    <span style="color: #0000ff">var</span> asf = document.getElementById('box');  <span style="color: #008000">//</span><span style="color: #008000">通过ID获取到元素节点</span>
    <span style="color: #008000">//</span><span style="color: #008000">offsetWidth和offsetHeight，这组属性可以返回元素实际大小，包含边框、内边距和滚动条。</span>
    alert(asf.offsetWidth);  <span style="color: #008000">//</span><span style="color: #008000">offsetWidth获取元素实际宽度，包含边框、内边距和滚动条</span>
    alert(asf.offsetHeight);  <span style="color: #008000">//</span><span style="color: #008000">offsetHeight获取元素实际高度，包含边框、内边距和滚动条</span>
};</pre>
</div>
<p align="left"><span style="color: #0000ff"><strong>PS：返回了元素大小，默认单位是px。如果没有设置任何CSS的宽和高度，他会得到计算后的宽度和高度。</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>PS：对于元素的实际大小，offsetWidth和offsetHeight理解如下：</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>1.增加边框，最终值会等于原本大小加上边框大小，为220；</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>2.增加内边距，最终值会等于原本大小加上内边距大小，为220；</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>3.增加外边据，无变化；</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>4.增加滚动条，无变化，不会减小；</strong></span></p>
<p align="left"><span style="font-size: 14pt; color: #ff0000"><strong>PS：对于元素大小的获取，一般是块级(block)元素并且以设置了CSS大小的元素较为方便。如果是内联元素(inline)或者没有设置大小的元素就尤为麻烦，所以，建议使用的时候注意。</strong></span></p>
<p>&nbsp;</p>
<p align="left"><span style="color: #ff0000; background-color: #ffff00"><strong>三．</strong><strong>获取元素周边大小</strong></span></p>
<p align="left"><span style="color: #ff0000"><strong>1.clientLeft和clientTop这组属性可以获取元素设置了左边框和上边框的大小。</strong></span></p>
<p><span style="color: #ff0000"><strong>clientLeft获取左边框的宽度</strong></span><br><span style="color: #ff0000"><strong>clientTop获取上边框的宽度</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">&lt;div id="box" class="box1"&gt;测试1&lt;/div&gt;</span>
window.onload = <span style="color: #0000ff">function</span>() { <span style="color: #008000">//</span><span style="color: #008000">window.onload事件，等待html执行完成后，执行匿名函数</span>
    <span style="color: #0000ff">var</span> asf = document.getElementById('box');  <span style="color: #008000">//</span><span style="color: #008000">通过ID获取到元素节点</span>
    <span style="color: #008000">//</span><span style="color: #008000">clientLeft和clientTop这组属性可以获取元素设置了左边框和上边框的大小。</span>
    alert(asf.clientLeft);  <span style="color: #008000">//</span><span style="color: #008000">clientLeft获取左边框的宽度</span>
    alert(asf.clientTop);  <span style="color: #008000">//</span><span style="color: #008000">clientTop获取上边框的宽度</span>
};</pre>
</div>
<p align="left"><span style="color: #0000ff"><strong>PS：目前只提供了Left和Top这组，并没有提供Right和Bottom。如果四条边宽度不同的话，可以直接通过计算后的样式获取，或者采用以上三组获取元素大小的减法求得。</strong></span></p>
<p align="left">&nbsp;</p>
<p align="left">&nbsp;</p>
<p align="left"><span style="color: #ff0000"><strong>2.offsetLeft和offsetTop这组属性可以获取当前元素相对于父元素的位置。</strong></span></p>
<p><span style="color: #ff0000"><strong>offsetLeft获取当前元素相对于父元素左边的位置</strong></span><br><span style="color: #ff0000"><strong>offsetTop获取当前元素相对于父元素上边的位置</strong></span><br><span style="color: #ff0000"><strong>offsetParent获取当前元素的父元素对象</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">&lt;div id="box" class="box1"&gt;测试1&lt;/div&gt;</span>
window.onload = <span style="color: #0000ff">function</span>() { <span style="color: #008000">//</span><span style="color: #008000">window.onload事件，等待html执行完成后，执行匿名函数</span>
    <span style="color: #0000ff">var</span> asf = document.getElementById('box');  <span style="color: #008000">//</span><span style="color: #008000">通过ID获取到元素节点</span>
    <span style="color: #008000">//</span><span style="color: #008000">offsetLeft和offsetTop这组属性可以获取当前元素相对于父元素的位置</span>
    alert(asf.offsetLeft);  <span style="color: #008000">//</span><span style="color: #008000">offsetLeft获取当前元素相对于父元素左边的位置</span>
    alert(asf.offsetTop);  <span style="color: #008000">//</span><span style="color: #008000">offsetTop获取当前元素相对于父元素上边的位置</span>
    <span style="color: #008000">//</span><span style="color: #008000">offsetParent获取当前元素的父元素对象</span>
    alert(asf.offsetParent);  <span style="color: #008000">//</span><span style="color: #008000">offsetParent获取当前元素的父元素对象</span>

    <span style="color: #008000">//</span><span style="color: #008000">如果有两层要获取两层总共的位置</span>
    <span style="color: #008000">//</span><span style="color: #008000">当前元素上位置加父元素上位置</span>
    alert(asf.offsetTop +<span style="color: #000000"> asf.offsetParent.offsetTop);
};</span></pre>
</div>
<p align="left"><span style="color: #0000ff"><strong>PS：offsetParent中，如果本身父元素是&lt;body&gt;，非IE返回body对象，IE返回html对象。如果两个元素嵌套，如果上父元素没有使用定位position:absolute，那么offsetParent将返回body对象或html对象。所以，在获取offsetLeft和offsetTop时候，CSS定位很重要。</strong></span></p>
<p align="left"><span style="color: #0000ff"><strong>如果说，在很多层次里，外层已经定位，我们怎么获取里层的元素距离body或html元素之间的距离呢？也就是获取任意一个元素距离页面上的位置。那么我们可以编写函数，通过不停的向上回溯获取累加来实现。</strong></span></p>
<p align="left"><span style="color: #ff0000"><strong>如果多层的话，就必须使用循环或递归。</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">&lt;div id="box" class="box1"&gt;测试1&lt;/div&gt;</span>
window.onload = <span style="color: #0000ff">function</span>() { <span style="color: #008000">//</span><span style="color: #008000">window.onload事件，等待html执行完成后，执行匿名函数</span>
    <span style="color: #0000ff">var</span> asf = document.getElementById('box');  <span style="color: #008000">//</span><span style="color: #008000">通过ID获取到元素节点</span>
<span style="color: #000000">    alert(offsetLeft(asf));

    </span><span style="color: #008000">//</span><span style="color: #008000">如果多层的话，就必须使用循环或递归。</span>
    <span style="color: #0000ff">function</span><span style="color: #000000"> offsetLeft(element) {
        </span><span style="color: #0000ff">var</span> left = element.offsetLeft;                <span style="color: #008000">//</span><span style="color: #008000">得到第一层距离</span>
        <span style="color: #0000ff">var</span> parent = element.offsetParent;            <span style="color: #008000">//</span><span style="color: #008000">得到第一个父元素</span>

        <span style="color: #0000ff">while</span> (parent !== <span style="color: #0000ff">null</span>) {                    <span style="color: #008000">//</span><span style="color: #008000">如果还有上一层父元素</span>
        left += parent.offsetLeft;                <span style="color: #008000">//</span><span style="color: #008000">把本层的距离累加</span>
        parent = parent.offsetParent;            <span style="color: #008000">//</span><span style="color: #008000">得到本层的父元素</span>
        }                                    <span style="color: #008000">//</span><span style="color: #008000">然后继续循环</span>
        <span style="color: #0000ff">return</span><span style="color: #000000"> left;
    }

};</span></pre>
</div>
<p>&nbsp;</p>
<p align="left"><span style="color: #ff0000"><strong>3.scrollTop和scrollLeft这组属性可以获取滚动条被隐藏的区域大小，也可设置定位到该区域。就是溢出隐藏部分的大小</strong></span></p>
<p><span style="color: #ff0000"><strong>scrollTop获取或设置滚动条上面被隐藏的区域大小</strong></span><br><span style="color: #ff0000"><strong>scrollLeft获取或设置滚动条左边被隐藏的区域大小</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">&lt;div id="box" class="box1"&gt;测试1&lt;/div&gt;</span>
window.onload = <span style="color: #0000ff">function</span>() { <span style="color: #008000">//</span><span style="color: #008000">window.onload事件，等待html执行完成后，执行匿名函数</span>
    <span style="color: #0000ff">var</span> asf = document.getElementById('box');  <span style="color: #008000">//</span><span style="color: #008000">通过ID获取到元素节点</span>
    <span style="color: #008000">//</span><span style="color: #008000">scrollTop和scrollLeft这组属性可以获取滚动条被隐藏的区域大小，也可设置定位到该区域。就是溢出隐藏部分的大小</span>
    alert(asf.scrollTop);  <span style="color: #008000">//</span><span style="color: #008000">scrollTop获取或设置滚动条上面被隐藏的区域大小</span>
    alert(asf.scrollLeft);  <span style="color: #008000">//</span><span style="color: #008000">scrollLeft获取或设置滚动条左边被隐藏的区域大小</span>
<span style="color: #000000">    scrollStart(asf);

    </span><span style="color: #008000">//</span><span style="color: #008000">如果要让滚动条滚动到最初始的位置，那么可以写一个函数：</span>
    <span style="color: #0000ff">function</span><span style="color: #000000"> scrollStart(element) {
        </span><span style="color: #0000ff">if</span> (element.scrollTop != 0<span style="color: #000000">){
            element.scrollTop </span>= 0<span style="color: #000000">;
        }
    }
    
};</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #ff0000; background-color: #ffff00"><strong>DOM的方法获取元素位置</strong></span></p>
<p align="left"><span style="color: #ff0000"><strong>getBoundingClientRect()方法，获取元素位置，这个方法返回一个矩形对象，包含四个属性：left、top、right和bottom。分别表示元素各边与页面上边和左边的距离。</strong></span></p>
<p align="left"><span style="color: #000000"><strong>使用方式：</strong></span></p>
<p align="left"><span style="color: #000000"><strong>元素节点.<strong>getBoundingClientRect().要获取的元素方位</strong></strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">&lt;div id="box" class="box1"&gt;测试1&lt;/div&gt;</span>
window.onload = <span style="color: #0000ff">function</span>() { <span style="color: #008000">//</span><span style="color: #008000">window.onload事件，等待html执行完成后，执行匿名函数</span>
    <span style="color: #0000ff">var</span> asf = document.getElementById('box');  <span style="color: #008000">//</span><span style="color: #008000">通过ID获取到元素节点</span>
    <span style="color: #008000">//</span><span style="color: #008000">getBoundingClientRect()方法，获取元素位置，这个方法返回一个矩形对象，包含四个属性：left、top、right和bottom。分别表示元素各边与页面上边和左边的距离。</span>
    <span style="color: #0000ff">var</span> fw =<span style="color: #000000"> asf.getBoundingClientRect();
    alert(fw.top);   </span><span style="color: #008000">//</span><span style="color: #008000">查看元素上位置</span>
    alert(fw.right);  <span style="color: #008000">//</span><span style="color: #008000">查看元素右位置</span>
    alert(fw.bottom);  <span style="color: #008000">//</span><span style="color: #008000">查看元素下面位置</span>
    alert(fw.left);   <span style="color: #008000">//</span><span style="color: #008000">查看元素左面位置</span>
<span style="color: #000000">
};</span></pre>
</div>
<p align="left"><span style="color: #0000ff"><strong>PS：IE、Firefox3+、Opera9.5、Chrome、Safari支持，在IE中，默认坐标从(2,2)开始计算，导致最终距离比其他浏览器多出两个像素，我们需要做个兼容。</strong></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000">//</span><span style="color: #008000">&lt;div id="box" class="box1"&gt;测试1&lt;/div&gt;</span>
window.onload = <span style="color: #0000ff">function</span>() { <span style="color: #008000">//</span><span style="color: #008000">window.onload事件，等待html执行完成后，执行匿名函数</span>
    <span style="color: #0000ff">var</span> asf = document.getElementById('box');  <span style="color: #008000">//</span><span style="color: #008000">通过ID获取到元素节点</span>
    <span style="color: #008000">//</span><span style="color: #008000">getBoundingClientRect()方法，获取元素位置，这个方法返回一个矩形对象，包含四个属性：left、top、right和bottom。分别表示元素各边与页面上边和左边的距离。</span>
    alert(getRect(asf).top); <span style="color: #008000">//</span><span style="color: #008000">执行函数，获取函数里的对象属性</span>

    <span style="color: #008000">//</span><span style="color: #008000">各版本浏览器兼容</span>
    <span style="color: #0000ff">function</span><span style="color: #000000"> getRect(element) {
        </span><span style="color: #0000ff">var</span> rect =<span style="color: #000000"> element.getBoundingClientRect();
        </span><span style="color: #0000ff">var</span> top =<span style="color: #000000"> document.documentElement.clientTop;
        </span><span style="color: #0000ff">var</span> left =<span style="color: #000000"> document.documentElement.clientLeft;

        </span><span style="color: #0000ff">return</span><span style="color: #000000"> {
            top : rect.top </span>-<span style="color: #000000"> top,
            bottom : rect.bottom </span>-<span style="color: #000000"> top,
            left : rect.left </span>-<span style="color: #000000"> left,
            right : rect.right </span>-<span style="color: #000000"> left
        }
    }
};</span></pre>
</div>
<p align="left"><span style="color: #0000ff"><strong>PS：分别加上外边据、内边距、边框和滚动条，用于测试所有浏览器是否一致。</strong></span></p></div>